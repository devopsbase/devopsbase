{
  "dockerhub": {
    "web_url": "https://hub.docker.com/r/jdeathe/centos-ssh-mysql",
    "repository_url": "https://hub.docker.com/v2/repositories/jdeathe/centos-ssh-mysql",
    "tags_url": "https://hub.docker.com/v2/repositories/jdeathe/centos-ssh-mysql/tags",
    "dockerfile_url": "https://hub.docker.com/v2/repositories/jdeathe/centos-ssh-mysql/dockerfile",
    "autobuild_url": "https://hub.docker.com/v2/repositories/jdeathe/centos-ssh-mysql/autobuild",
    "user": "jdeathe",
    "name": "centos-ssh-mysql",
    "namespace": "jdeathe",
    "status": 1,
    "is_private": false,
    "is_automated": true,
    "star_count": 9,
    "pull_count": 6127,
    "last_updated": "2016-10-02T10:51:47.601036Z",
    "permissions": {
      "read": true,
      "write": false,
      "admin": false
    },
    "tags": [
      {
        "name": "centos-6",
        "full_size": 115835792,
        "id": 50113,
        "repository": 49097,
        "creator": 19526,
        "last_updater": 19526,
        "last_updated": "2016-10-02T10:51:47.244641Z",
        "image_id": null,
        "v2": true,
        "platforms": [
          5
        ]
      },
      {
        "name": "latest",
        "full_size": 115835872,
        "id": 50114,
        "repository": 49097,
        "creator": 19526,
        "last_updater": 19526,
        "last_updated": "2016-10-02T10:49:43.399110Z",
        "image_id": null,
        "v2": true,
        "platforms": [
          5
        ]
      },
      {
        "name": "centos-6-1.7.2",
        "full_size": 115835611,
        "id": 5189180,
        "repository": 49097,
        "creator": 19526,
        "last_updater": 19526,
        "last_updated": "2016-10-02T10:47:27.023704Z",
        "image_id": null,
        "v2": true,
        "platforms": [
          5
        ]
      },
      {
        "name": "centos-6-1.7.1",
        "full_size": 115804149,
        "id": 4858238,
        "repository": 49097,
        "creator": 19526,
        "last_updater": 19526,
        "last_updated": "2016-09-15T00:57:10.613894Z",
        "image_id": null,
        "v2": true,
        "platforms": [
          5
        ]
      },
      {
        "name": "centos-6-1.7.0",
        "full_size": 115810300,
        "id": 4681806,
        "repository": 49097,
        "creator": 19526,
        "last_updater": 19526,
        "last_updated": "2016-09-06T00:43:36.917776Z",
        "image_id": null,
        "v2": true,
        "platforms": [
          5
        ]
      },
      {
        "name": "centos-6-1.6.0",
        "full_size": 115031314,
        "id": 4668278,
        "repository": 49097,
        "creator": 19526,
        "last_updater": 19526,
        "last_updated": "2016-09-05T00:27:30.095871Z",
        "image_id": null,
        "v2": true,
        "platforms": [
          5
        ]
      },
      {
        "name": "centos-6-1.5.0",
        "full_size": 129181753,
        "id": 3765848,
        "repository": 49097,
        "creator": 19526,
        "last_updater": 19526,
        "last_updated": "2016-07-08T23:16:34.665700Z",
        "image_id": null,
        "v2": true,
        "platforms": [
          5
        ]
      },
      {
        "name": "centos-6-1.4.2",
        "full_size": 112857832,
        "id": 1755813,
        "repository": 49097,
        "creator": 19526,
        "last_updater": 19526,
        "last_updated": "2016-01-17T17:35:33.563458Z",
        "image_id": null,
        "v2": true,
        "platforms": []
      },
      {
        "name": "centos-6-1.4.1",
        "full_size": 112857529,
        "id": 1701115,
        "repository": 49097,
        "creator": 19526,
        "last_updater": 19526,
        "last_updated": "2016-01-10T07:42:58.349758Z",
        "image_id": null,
        "v2": true,
        "platforms": []
      },
      {
        "name": "centos-6-1.4.0",
        "full_size": 121781976,
        "id": 1521579,
        "repository": 49097,
        "creator": 19526,
        "last_updater": 19526,
        "last_updated": "2015-12-09T23:34:22.223280Z",
        "image_id": null,
        "v2": true,
        "platforms": []
      }
    ],
    "build_name": "jdeathe/centos-ssh-mysql"
  },
  "name": "jdeathe/centos-ssh-mysql Docker container",
  "description": "CentOS-6 6.8 x86_64 / MySQL.",
  "readme": "centos-ssh-mysql\n================\n\nDocker Image of CentOS-6 6.8 x86_64, MySQL 5.1.\n\nIncludes Automated password generation and an option for custom initialisation SQL. Supports custom configuration via environment variables.\n\n## Overview & links\n\nThe latest CentOS-6 based release can be pulled from the centos-6 Docker tag. For a specific release tag the convention is `centos-6-1.7.0` for the [1.7.0](https://github.com/jdeathe/centos-ssh-mysql/tree/1.7.0) release tag.\n\n- centos-6 [(centos-6/Dockerfile)](https://github.com/jdeathe/centos-ssh-mysql/blob/centos-6/Dockerfile)\n\nThe Dockerfile can be used to build a base image that is the bases for several other docker images.\n\nIncluded in the build are the [SCL](https://www.softwarecollections.org/), [EPEL](http://fedoraproject.org/wiki/EPEL) and [IUS](https://ius.io) repositories. Installed packages include [OpenSSH](http://www.openssh.com/portable.html) secure shell, [vim-minimal](http://www.vim.org/), [MySQL Server and client programs](http://www.mysql.com) are installed along with python-setuptools, [supervisor](http://supervisord.org/) and [supervisor-stdout](https://github.com/coderanger/supervisor-stdout).\n\nSupervisor is used to start the mysqld server daemon when a docker container based on this image is run. To enable simple viewing of stdout for the service's subprocess, supervisor-stdout is included. This allows you to see output from the supervisord controlled subprocesses with `docker logs {container-name}`.\n\nIf enabling and configuring SSH access, it is by public key authentication and, by default, the [Vagrant](http://www.vagrantup.com/) [insecure private key](https://github.com/mitchellh/vagrant/blob/master/keys/vagrant) is required.\n\n### SSH Alternatives\n\nSSH is not required in order to access a terminal for the running container. The simplest method is to use the docker exec command to run bash (or sh) as follows:\n\n```\n$ docker exec -it {container-name-or-id} bash\n```\n\nFor cases where access to docker exec is not possible the preferred method is to use Command Keys and the nsenter command. See [command-keys.md](https://github.com/jdeathe/centos-ssh-mysql/blob/centos-6/command-keys.md) for details on how to set this up.\n\n## Quick Example\n\nRun up a container named `mysql.pool-1.1.1` from the docker image `jdeathe/centos-ssh-mysql` on port 3306 of your docker host.\n\n```\n$ docker run -d \\\n  --name mysql.pool-1.1.1 \\\n  -p 3306:3306 \\\n  -v /var/lib/mysql \\\n  jdeathe/centos-ssh-mysql:centos-6\n```\n\nNow you can verify it is initialised and running successfully by inspecting the container's logs.\n\n```\n$ docker logs mysql.pool-1.1.1\n```\n\nIf it is the first run there should be additional output showing the initialisation SQL that was run and the root user's password.\n\n![Docker Logs MySQL Bootstrap](https://raw.github.com/jdeathe/centos-ssh-mysql/centos-6/images/docker-logs-mysql-bootstrap.png)\n\nThe MySQL table data is persistent across container restarts by setting the MySQL data directory `/var/lib/mysql` as a data volume. We didn't specify a name or docker_host path so Docker will give it a unique name and store it in `/var/lib/docker/volumes/`; to find out where the data is stored on the Docker host you can use `docker inspect`.\n\n```\n$ docker inspect \\\n  --format '{{ json (index .Mounts 0).Source }}' \\\n  mysql.pool-1.1.1\n```\n\nTo access the MySQL SQL shell run the following:\n\n```\n$ docker exec -it mysql.pool-1.1.1 mysql -p -u root\n```\n\nTo import the Sakila example database from the [MySQL Documentation](https://dev.mysql.com/doc/index-other.html) and view the first 2 records from the film table.\n\n```\n$ export MYSQL_ROOT_PASSWORD={your-password}\n\n$ docker exec -i mysql.pool-1.1.1 \\\n  mysql -p${MYSQL_ROOT_PASSWORD} -u root \\\n  <<< $(tar -xzOf /dev/stdin \\\n    <<< $(curl -sS http://downloads.mysql.com/docs/sakila-db.tar.gz) \\\n    sakila-db/sakila-schema.sql \\\n  )\n\n$ docker exec -i mysql.pool-1.1.1 \\\n  mysql -p${MYSQL_ROOT_PASSWORD} -u root \\\n  <<< $(tar -xzOf /dev/stdin \\\n    <<< $(curl -sS http://downloads.mysql.com/docs/sakila-db.tar.gz) \\\n    sakila-db/sakila-data.sql \\\n  )\n\n$ docker exec -it  mysql.pool-1.1.1 \\\n  mysql -p${MYSQL_ROOT_PASSWORD} -u root \\\n  -e \"SELECT * FROM sakila.film LIMIT 2 \\G;\"\n```\n\n## Instructions\n\n### Running\n\nTo run the a docker container from this image you can use the standard docker commands. Alternatively, you can use the embedded (Service Container Manager Interface) [scmi](https://github.com/jdeathe/centos-ssh-mysql/blob/centos-6/usr/sbin/scmi) that is included in the image since `centos-6-1.7.1` or, if you have a checkout of the [source repository](https://github.com/jdeathe/centos-ssh-mysql), and have make installed the Makefile provides targets to build, install, start, stop etc. where environment variables can be used to configure the container options and set custom docker run parameters.\n\n#### SCMI Installation Examples\n\nThe following example uses docker to run the SCMI install command to create and start a container named `mysql.pool-1.1.1`. To use SCMI it requires the use of the `--privileged` docker run parameter and the docker host's root directory mounted as a volume with the container's mount directory also being set in the `scmi` `--chroot` option. The `--setopt` option is used to add extra parameters to the default docker run command template; in the following example a named configuration volume is added which allows the SSH host keys to persist after the first container initialisation. Not that the placeholder `{{NAME}}` can be used in this option and is replaced with the container's name.\n\n*Note:* In most cases you will want to create an initial database, database user, (optionally a static password), and define the user's network access. If you don't define these settings using the appropriate environment variables on first run, the settings will not be parsed by the bootstrap initialisation process and only local root access will be available. To re-initialise a container that uses a named data volume mapped to /var/lib/mysql terminate the container and the data volume to allow it to be recreated.\n\n##### SCMI Install\n\n```\n$ docker run \\\n  --rm \\\n  --privileged \\\n  --volume /:/media/root \\\n  jdeathe/centos-ssh-mysql:centos-6-1.7.1 \\\n  /usr/sbin/scmi install \\\n    --chroot=/media/root \\\n    --tag=centos-6-1.7.1 \\\n    --name=mysql.pool-1.1.1 \\\n    --setopt='--volume {{NAME}}.data-mysql:/var/lib/mysql'\n```\n\n##### SCMI Uninstall\n\nTo uninstall the previous example simply run the same docker run command with the scmi `uninstall` command.\n\n```\n$ docker run \\\n  --rm \\\n  --privileged \\\n  --volume /:/media/root \\\n  jdeathe/centos-ssh-mysql:centos-6-1.7.1 \\\n  /usr/sbin/scmi uninstall \\\n    --chroot=/media/root \\\n    --tag=centos-6-1.7.1 \\\n    --name=mysql.pool-1.1.1 \\\n    --setopt='--volume {{NAME}}.data-mysql:/var/lib/mysql'\n```\n\n##### SCMI Systemd Support\n\nIf your docker host has systemd (and optionally etcd) installed then `scmi` provides a method to install the container as a systemd service unit. This provides some additional features for managing a group of instances on a single docker host and has the option to use an etcd backed service registry. Using a systemd unit file allows the System Administrator to use a Drop-In to override the settings of a unit-file template used to create service instances. To use the systemd method of installation use the `-m` or `--manager` option of `scmi` and to include the optional etcd register companion unit use the `--register` option.\n\n```\n$ docker run \\\n  --rm \\\n  --privileged \\\n  --volume /:/media/root \\\n  jdeathe/centos-ssh-mysql:centos-6-1.7.1 \\\n  /usr/sbin/scmi install \\\n    --chroot=/media/root \\\n    --tag=centos-6-1.7.1 \\\n    --name=mysql.pool-1.1.1 \\\n    --manager=systemd \\\n    --register \\\n    --env='MYSQL_SUBNET=\"0.0.0.0/0.0.0.0\"' \\\n    --env='MYSQL_USER=\"app-user\"' \\\n    --env='MYSQL_USER_PASSWORD=\"Passw0rd\"' \\\n    --env='MYSQL_USER_DATABASE=\"app-db\"' \\\n    --setopt='--volume {{NAME}}.data-mysql:/var/lib/mysql'\n```\n\n##### SCMI Fleet Support\n\nIf your docker host has systemd, fleetd (and optionally etcd) installed then `scmi` provides a method to schedule the container  to run on the cluster. This provides some additional features for managing a group of instances on a [fleet](https://github.com/coreos/fleet) cluster and has the option to use an etcd backed service registry. To use the fleet method of installation use the `-m` or `--manager` option of `scmi` and to include the optional etcd register companion unit use the `--register` option.\n\n##### SCMI Image Information\n\nSince release `centos-6-1.7.1` the install template has been added to the image metadata. Using docker inspect you can access `scmi` to simplify install/uninstall tasks.\n\nTo see detailed information about the image run `scmi` with the `--info` option. To see all available `scmi` options run with the `--help` option.\n\n```\n$ eval \"sudo -E $(\n    docker inspect \\\n    -f \"{{.ContainerConfig.Labels.install}}\" \\\n    jdeathe/centos-ssh-mysql:centos-6-1.7.1\n  ) --info\"\n```\n\nTo perform an installation using the docker name `mysql.pool-1.2.1` simply use the `--name` or `-n` option.\n\n```\n$ eval \"sudo -E $(\n    docker inspect \\\n    -f \"{{.ContainerConfig.Labels.install}}\" \\\n    jdeathe/centos-ssh-mysql:centos-6-1.7.1\n  ) --name=mysql.pool-1.2.1\"\n```\n\nTo uninstall use the *same command* that was used to install but with the `uninstall` Label.\n\n```\n$ eval \"sudo -E $(\n    docker inspect \\\n    -f \"{{.ContainerConfig.Labels.uninstall}}\" \\\n    jdeathe/centos-ssh-mysql:centos-6-1.7.1\n  ) --name=mysql.pool-1.2.1\"\n```\n\n##### SCMI on Atomic Host\n\nWith the addition of install/uninstall image labels it is possible to use [Project Atomic's](http://www.projectatomic.io/) `atomic install` command to simplify install/uninstall tasks on [CentOS Atomic](https://wiki.centos.org/SpecialInterestGroup/Atomic) Hosts.\n\nTo see detailed information about the image run `scmi` with the `--info` option. To see all available `scmi` options run with the `--help` option.\n\n```\n$ sudo -E atomic install \\\n  -n mysql.pool-1.3.1 \\\n  jdeathe/centos-ssh-mysql:centos-6-1.7.1 \\\n  --info\n```\n\nTo perform an installation using the docker name `mysql.pool-1.3.1` simply use the `-n` option of the `atomic install` command.\n\n```\n$ sudo -E atomic install \\\n  -n mysql.pool-1.3.1 \\\n  jdeathe/centos-ssh-mysql:centos-6-1.7.1\n```\n\nAlternatively, you could use the `scmi` options `--name` or `-n` for naming the container.\n\n```\n$ sudo -E atomic install \\\n  jdeathe/centos-ssh-mysql:centos-6-1.7.1 \\\n  --name mysql.pool-1.3.1\n```\n\nTo uninstall use the *same command* that was used to install but with the `uninstall` Label.\n\n```\n$ sudo -E atomic uninstall \\\n  -n mysql.pool-1.3.1 \\\n  jdeathe/centos-ssh-mysql:centos-6-1.7.1\n```\n\n#### Using environment variables\n\nThe following example sets up a custom MySQL database, user and user password on first run. This will only work when MySQL runs the initialisation process and values must be specified for MYSQL_USER and MYSQL_USER_DATABASE. If MYSQL_USER_PASSWORD is not specified or left empty a random password will be generated.\n\n```\n$ docker stop mysql.pool-1.1.1 && \\\n  docker rm mysql.pool-1.1.1\n$ docker run -d \\\n  --name mysql.pool-1.1.1 \\\n  --publish 3306:3306 \\\n  --env \"MYSQL_SUBNET=0.0.0.0/0.0.0.0\" \\\n  --env \"MYSQL_USER=app-user\" \\\n  --env \"MYSQL_USER_PASSWORD=\" \\\n  --env \"MYSQL_USER_DATABASE=app-db\" \\\n  --volume mysql.pool-1.1.1.data-mysql:/var/lib/mysql \\\n  jdeathe/centos-ssh-mysql:centos-6\n```\n\nThe environmental variable `MYSQL_SUBNET` is optional but can be used to generate users with access to databases outside the `localhost`, (the default for the root user). In the example, the subnet definition `0.0.0.0/0.0.0.0` allows connections from any network which is equivalent to the wildcard symbol, `%`, in MySQL GRANT definitions.\n\nNow you can verify it is initialised and running successfully by inspecting the container's logs:\n\n```\n$ docker logs mysql.pool-1.1.1\n```\n\n#### Environment Variables\n\nThere are several environmental variables defined at runtime these allow the operator to customise the running container.\n\n*Note:* Most of these settings are only evaluated during the first run of a named container; if the data volume already exists and contains database table data then changing these values will have no effect.\n\n##### MYSQL_ROOT_PASSWORD\n\nOn first run the root user is created with an auto-generated password. If you require a specific password,  `MYSQL_ROOT_PASSWORD` can be used when running the container.\n\n```\n...\n  --env \"MYSQL_ROOT_PASSWORD=Passw0rd!\" \\\n...\n```\n\n##### MYSQL_ROOT_PASSWORD_HASHED\n\nTo indicate `MYSQL_ROOT_PASSWORD` is a pre-hashed value instead of the default plain-text type set `MYSQL_ROOT_PASSWORD_HASHED` to `true`.\n\n```\n...\n  --env \"MYSQL_ROOT_PASSWORD=*03F7361A0E18DA99361B7A82EA575944F53E206B\" \\\n  --env \"MYSQL_ROOT_PASSWORD_HASHED=true\" \\\n...\n```\n\n*Note:* To generate a pre-hashed password you could use the following MySQL command.\n\n```\n$ mysql -u root -p{mysql_root_password} \\\n  -e \"SELECT PASSWORD('{mysql_user_password}');\"\n```\n\n##### MYSQL_USER\n\nOn first run, a database user and database can be created. Set `MYSQL_USER` to a non-empty string. A corresponding `MYSQL_USER_DATABASE` value must also be set for the user to be given access too.\n\n```\n...\n  --env \"MYSQL_USER=app-user\" \\\n...\n```\n\n##### MYSQL_USER_PASSWORD\n\nOn first run, if the database user `MYSQL_USER` is specified then it is created with an auto-generated password. If you require a specific password,  `MYSQL_USER_PASSWORD` can be used when running the container.\n\n```\n...\n  --env \"MYSQL_USER_PASSWORD=appPassw0rd!\" \\\n...\n```\n\n##### MYSQL_USER_PASSWORD_HASHED\n\nTo indicate `MYSQL_USER_PASSWORD` is a pre-hashed value instead of the default plain-text type set `MYSQL_USER_PASSWORD_HASHED` to `true`.\n\n```\n...\n  --env \"MYSQL_USER_PASSWORD=*4215553ECE7A18BC09C16DB9EBF03FACFF49166B\" \\\n  --env \"MYSQL_USER_PASSWORD_HASHED=true\" \\\n...\n```\n\n##### MYSQL_USER_DATABASE\n\nOn first run, if the database user `MYSQL_USER` is specified then you must also define a corresponding database name.  `MYSQL_USER_DATABASE` can be used when running the container.\n\n```\n...\n  --env \"MYSQL_USER_DATABASE=app-db\" \\\n...\n```\n",
  "dockerfile": "# =============================================================================\n# jdeathe/centos-ssh-mysql\n# \n# CentOS-6, MySQL 5.1\n# \n# =============================================================================\nFROM jdeathe/centos-ssh:centos-6-1.7.3\n\nMAINTAINER James Deathe <james.deathe@gmail.com>\n\n# -----------------------------------------------------------------------------\n# Install MySQL\n# -----------------------------------------------------------------------------\nRUN rpm --rebuilddb \\\n\t&& yum --setopt=tsflags=nodocs -y install \\\n\tmysql-server-5.1.73-7.el6 \\\n\t&& yum versionlock add \\\n\tmysql* \\\n\t; rm -rf /var/cache/yum/* \\\n\t; yum clean all\n\n# -----------------------------------------------------------------------------\n# Copy files into place\n# -----------------------------------------------------------------------------\nADD usr/sbin/mysqld-bootstrap \\\n\tusr/sbin/mysqld-wrapper \\\n\t/usr/sbin/\nADD opt/scmi \\\n\t/opt/scmi/\nADD etc/systemd/system \\\n\t/etc/systemd/system/\nADD etc/services-config/mysql/my.cnf \\\n\tetc/services-config/mysql/mysqld-bootstrap.conf \\\n\t/etc/services-config/mysql/\nADD etc/services-config/supervisor/supervisord.d \\\n\t/etc/services-config/supervisor/supervisord.d/\n\nRUN ln -sf \\\n\t\t/etc/services-config/mysql/my.cnf \\\n\t\t/etc/my.cnf \\\n\t&& ln -sf \\\n\t\t/etc/services-config/mysql/mysqld-bootstrap.conf \\\n\t\t/etc/mysqld-bootstrap.conf \\\n\t&& ln -sf \\\n\t\t/etc/services-config/supervisor/supervisord.d/mysqld-bootstrap.conf \\\n\t\t/etc/supervisord.d/mysqld-bootstrap.conf \\\n\t&& ln -sf \\\n\t\t/etc/services-config/supervisor/supervisord.d/mysqld-wrapper.conf \\\n\t\t/etc/supervisord.d/mysqld-wrapper.conf \\\n\t&& chmod 600 \\\n\t\t/etc/services-config/mysql/{my.cnf,mysqld-bootstrap.conf} \\\n\t&& chmod 700 \\\n\t\t/usr/sbin/mysqld-{bootstrap,wrapper}\n\nEXPOSE 3306\n\n# -----------------------------------------------------------------------------\n# Set default environment variables\n# -----------------------------------------------------------------------------\nENV MYSQL_ROOT_PASSWORD=\"\" \\\n\tMYSQL_ROOT_PASSWORD_HASHED=false \\\n\tMYSQL_SUBNET=\"127.0.0.1\" \\\n\tMYSQL_USER=\"\" \\\n\tMYSQL_USER_DATABASE=\"\" \\\n\tMYSQL_USER_PASSWORD=\"\" \\\n\tMYSQL_USER_PASSWORD_HASHED=false \\\n\tSSH_AUTOSTART_SSHD=false \\\n\tSSH_AUTOSTART_SSHD_BOOTSTRAP=false\n\n# -----------------------------------------------------------------------------\n# Set image metadata\n# -----------------------------------------------------------------------------\nARG RELEASE_VERSION=\"1.7.2\"\nLABEL \\\n\tinstall=\"docker run \\\n--rm \\\n--privileged \\\n--volume /:/media/root \\\njdeathe/centos-ssh-mysql:centos-6-${RELEASE_VERSION} \\\n/usr/sbin/scmi install \\\n--chroot=/media/root \\\n--name=\\${NAME} \\\n--tag=centos-6-${RELEASE_VERSION} \\\n--setopt='--volume {{NAME}}.data-mysql:/var/lib/mysql'\" \\\n\tuninstall=\"docker run \\\n--rm \\\n--privileged \\\n--volume /:/media/root \\\njdeathe/centos-ssh-mysql:centos-6-${RELEASE_VERSION} \\\n/usr/sbin/scmi uninstall \\\n--chroot=/media/root \\\n--name=\\${NAME} \\\n--tag=centos-6-${RELEASE_VERSION} \\\n--setopt='--volume {{NAME}}.data-mysql:/var/lib/mysql'\" \\\n\torg.deathe.name=\"centos-ssh-mysql\" \\\n\torg.deathe.version=\"${RELEASE_VERSION}\" \\\n\torg.deathe.release=\"jdeathe/centos-ssh-mysql:centos-6-${RELEASE_VERSION}\" \\\n\torg.deathe.license=\"MIT\" \\\n\torg.deathe.vendor=\"jdeathe\" \\\n\torg.deathe.url=\"https://github.com/jdeathe/centos-ssh-mysql\" \\\n\torg.deathe.description=\"CentOS-6 6.8 x86_64 - MySQL 5.1.\"\n\nCMD [\"/usr/bin/supervisord\", \"--configuration=/etc/supervisord.conf\"]",
  "dockerfile_json": {
    "add": [
      {
        "source": "usr/sbin/mysqld-bootstrap",
        "dest": "\tusr/sbin/mysqld-wrapper"
      },
      {
        "source": "opt/scmi",
        "dest": "\t/opt/scmi/"
      },
      {
        "source": "etc/systemd/system",
        "dest": "\t/etc/systemd/system/"
      },
      {
        "source": "etc/services-config/mysql/my.cnf",
        "dest": "\tetc/services-config/mysql/mysqld-bootstrap.conf"
      },
      {
        "source": "etc/services-config/supervisor/supervisord.d",
        "dest": "\t/etc/services-config/supervisor/supervisord.d/"
      }
    ],
    "expose": [
      3306
    ],
    "volume": [],
    "run": [
      "rpm --rebuilddb \t&& yum --setopt=tsflags=nodocs -y install \tmysql-server-5.1.73-7.el6 \t&& yum versionlock add \tmysql* \t; rm -rf /var/cache/yum/* \t; yum clean all",
      "ln -sf \t\t/etc/services-config/mysql/my.cnf \t\t/etc/my.cnf \t&& ln -sf \t\t/etc/services-config/mysql/mysqld-bootstrap.conf \t\t/etc/mysqld-bootstrap.conf \t&& ln -sf \t\t/etc/services-config/supervisor/supervisord.d/mysqld-bootstrap.conf \t\t/etc/supervisord.d/mysqld-bootstrap.conf \t&& ln -sf \t\t/etc/services-config/supervisor/supervisord.d/mysqld-wrapper.conf \t\t/etc/supervisord.d/mysqld-wrapper.conf \t&& chmod 600 \t\t/etc/services-config/mysql/{my.cnf,mysqld-bootstrap.conf} \t&& chmod 700 \t\t/usr/sbin/mysqld-{bootstrap,wrapper}"
    ],
    "workdir": [],
    "from": "jdeathe/centos-ssh:centos-6-1.7.3",
    "maintainer": "James Deathe <james.deathe@gmail.com>",
    "env": {
      "MYSQL_ROOT_PASSWORD": "\"\"",
      "\tMYSQL_ROOT_PASSWORD_HASHED": "false",
      "\tMYSQL_SUBNET": "\"127.0.0.1\"",
      "\tMYSQL_USER": "\"\"",
      "\tMYSQL_USER_DATABASE": "\"\"",
      "\tMYSQL_USER_PASSWORD": "\"\"",
      "\tMYSQL_USER_PASSWORD_HASHED": "false",
      "\tSSH_AUTOSTART_SSHD": "false",
      "\tSSH_AUTOSTART_SSHD_BOOTSTRAP": "false"
    },
    "arg": "RELEASE_VERSION=\"1.7.2\"",
    "label": "\tinstall=\"docker run --rm --privileged --volume /:/media/root jdeathe/centos-ssh-mysql:centos-6-${RELEASE_VERSION} /usr/sbin/scmi install --chroot=/media/root --name=\\${NAME} --tag=centos-6-${RELEASE_VERSION} --setopt='--volume {{NAME}}.data-mysql:/var/lib/mysql'\" \tuninstall=\"docker run --rm --privileged --volume /:/media/root jdeathe/centos-ssh-mysql:centos-6-${RELEASE_VERSION} /usr/sbin/scmi uninstall --chroot=/media/root --name=\\${NAME} --tag=centos-6-${RELEASE_VERSION} --setopt='--volume {{NAME}}.data-mysql:/var/lib/mysql'\" \torg.deathe.name=\"centos-ssh-mysql\" \torg.deathe.version=\"${RELEASE_VERSION}\" \torg.deathe.release=\"jdeathe/centos-ssh-mysql:centos-6-${RELEASE_VERSION}\" \torg.deathe.license=\"MIT\" \torg.deathe.vendor=\"jdeathe\" \torg.deathe.url=\"https://github.com/jdeathe/centos-ssh-mysql\" \torg.deathe.description=\"CentOS-6 6.8 x86_64 - MySQL 5.1.\"",
    "cmd": "[\"/usr/bin/supervisord\", \"--configuration=/etc/supervisord.conf\"]"
  },
  "source_repository_url": "https://github.com/jdeathe/centos-ssh-mysql.git",
  "source_repository_type": "git",
  "source_repository_provider": "github",
  "source_repository_web_url": "https://github.com/jdeathe/centos-ssh-mysql",
  "docker_repository": "jdeathe/centos-ssh-mysql",
  "docker_image": "jdeathe/centos-ssh-mysql",
  "parameters_schema": {
    "MYSQL_ROOT_PASSWORD": {
      "default": "\"\"",
      "type": "string",
      "mapping": "environment_variable"
    },
    "\tMYSQL_ROOT_PASSWORD_HASHED": {
      "default": "false",
      "type": "string",
      "mapping": "environment_variable"
    },
    "\tMYSQL_SUBNET": {
      "default": "\"127.0.0.1\"",
      "type": "string",
      "mapping": "environment_variable"
    },
    "\tMYSQL_USER": {
      "default": "\"\"",
      "type": "string",
      "mapping": "environment_variable"
    },
    "\tMYSQL_USER_DATABASE": {
      "default": "\"\"",
      "type": "string",
      "mapping": "environment_variable"
    },
    "\tMYSQL_USER_PASSWORD": {
      "default": "\"\"",
      "type": "string",
      "mapping": "environment_variable"
    },
    "\tMYSQL_USER_PASSWORD_HASHED": {
      "default": "false",
      "type": "string",
      "mapping": "environment_variable"
    },
    "\tSSH_AUTOSTART_SSHD": {
      "default": "false",
      "type": "string",
      "mapping": "environment_variable"
    },
    "\tSSH_AUTOSTART_SSHD_BOOTSTRAP": {
      "default": "false",
      "type": "string",
      "mapping": "environment_variable"
    },
    "exposed_ports": {
      "default": [
        3306
      ],
      "type": "json_array"
    }
  },
  "type": "docker",
  "docker_name": "jdeathe/centos-ssh-mysql",
  "revision": "centos-6",
  "uris": [
    "https://hub.docker.com/r/jdeathe/centos-ssh-mysql",
    "https://hub.docker.com/v2/repositories/jdeathe/centos-ssh-mysql",
    "https://github.com/jdeathe/centos-ssh-mysql.git"
  ],
  "labels": [
    "Docker",
    "Type/Infrastructure/Operating System/Linux/CentOS",
    "Type/Middleware/Data Store/Relational/MySQL"
  ],
  "info_url": "https://hub.docker.com/r/jdeathe/centos-ssh-mysql",
  "requires": [
    {
      "kind": "host",
      "label": "Docker Engine"
    }
  ],
  "latest": true,
  "gatherbase_origin": "docker-hub"
}