{
  "dockerhub": {
    "web_url": "https://hub.docker.com/r/nooulaif/rails",
    "repository_url": "https://hub.docker.com/v2/repositories/nooulaif/rails",
    "tags_url": "https://hub.docker.com/v2/repositories/nooulaif/rails/tags",
    "dockerfile_url": "https://hub.docker.com/v2/repositories/nooulaif/rails/dockerfile",
    "autobuild_url": "https://hub.docker.com/v2/repositories/nooulaif/rails/autobuild",
    "user": "nooulaif",
    "name": "rails",
    "namespace": "nooulaif",
    "status": 1,
    "is_private": false,
    "is_automated": true,
    "star_count": 2,
    "pull_count": 1014,
    "last_updated": "2016-10-15T03:32:16.778933Z",
    "permissions": {
      "read": true,
      "write": false,
      "admin": false
    },
    "tags": [
      {
        "name": "2.2-alpine",
        "full_size": 172168480,
        "id": 3924578,
        "repository": 778781,
        "creator": 580349,
        "last_updater": 580349,
        "last_updated": "2016-10-15T03:32:16.420597Z",
        "image_id": null,
        "v2": true,
        "platforms": [
          5
        ]
      },
      {
        "name": "2-alpine",
        "full_size": 174130768,
        "id": 3924709,
        "repository": 778781,
        "creator": 580349,
        "last_updater": 580349,
        "last_updated": "2016-10-15T03:28:51.638802Z",
        "image_id": null,
        "v2": true,
        "platforms": [
          5
        ]
      },
      {
        "name": "2.2-slim",
        "full_size": 215435414,
        "id": 3924614,
        "repository": 778781,
        "creator": 580349,
        "last_updater": 580349,
        "last_updated": "2016-10-15T03:25:34.060043Z",
        "image_id": null,
        "v2": true,
        "platforms": [
          5
        ]
      },
      {
        "name": "2.1",
        "full_size": 303689271,
        "id": 3924503,
        "repository": 778781,
        "creator": 580349,
        "last_updater": 580349,
        "last_updated": "2016-10-15T03:22:00.030052Z",
        "image_id": null,
        "v2": true,
        "platforms": [
          5
        ]
      },
      {
        "name": "2",
        "full_size": 305994643,
        "id": 3924929,
        "repository": 778781,
        "creator": 580349,
        "last_updater": 580349,
        "last_updated": "2016-10-15T03:17:27.660788Z",
        "image_id": null,
        "v2": true,
        "platforms": [
          5
        ]
      },
      {
        "name": "2.2",
        "full_size": 304203480,
        "id": 3924654,
        "repository": 778781,
        "creator": 580349,
        "last_updater": 580349,
        "last_updated": "2016-10-15T03:14:57.419938Z",
        "image_id": null,
        "v2": true,
        "platforms": [
          5
        ]
      },
      {
        "name": "2.1-alpine",
        "full_size": 171782394,
        "id": 3924349,
        "repository": 778781,
        "creator": 580349,
        "last_updater": 580349,
        "last_updated": "2016-10-15T03:12:21.849301Z",
        "image_id": null,
        "v2": true,
        "platforms": [
          5
        ]
      },
      {
        "name": "2.3",
        "full_size": 305994712,
        "id": 3924954,
        "repository": 778781,
        "creator": 580349,
        "last_updater": 580349,
        "last_updated": "2016-10-15T03:07:05.547134Z",
        "image_id": null,
        "v2": true,
        "platforms": [
          5
        ]
      },
      {
        "name": "2.3-slim",
        "full_size": 217233843,
        "id": 3924897,
        "repository": 778781,
        "creator": 580349,
        "last_updater": 580349,
        "last_updated": "2016-10-15T03:03:08.044444Z",
        "image_id": null,
        "v2": true,
        "platforms": [
          5
        ]
      },
      {
        "name": "latest",
        "full_size": 305994648,
        "id": 3876548,
        "repository": 778781,
        "creator": 580349,
        "last_updater": 580349,
        "last_updated": "2016-10-15T02:59:49.569774Z",
        "image_id": null,
        "v2": true,
        "platforms": [
          5
        ]
      }
    ],
    "build_name": "nooulaif/docker-rails"
  },
  "name": "nooulaif/rails Docker container",
  "description": "Ready to use Docker image for running Ruby on Rails applications.",
  "readme": "# docker-rails [![Build Status](https://travis-ci.org/nooulaif/docker-rails.svg?branch=master)](https://travis-ci.org/nooulaif/docker-rails)\n\nReady to use [Docker](https://www.docker.com/) image for running [Ruby on Rails](http://rubyonrails.org/) applications.\nBased on [official Ruby images](https://hub.docker.com/_/ruby/).\n\n## Supported tags\n\n- [`2.3`, `2`, `latest`](https://github.com/nooulaif/docker-rails/blob/master/2.3.dockerfile)\n- [`2.3-slim`, `2-slim`](https://github.com/nooulaif/docker-rails/blob/master/2.3-slim.dockerfile)\n- [`2.3-alpine`, `2-alpine`](https://github.com/nooulaif/docker-rails/blob/master/2.3-alpine.dockerfile)\n- [`2.2`](https://github.com/nooulaif/docker-rails/blob/master/2.2.dockerfile)\n- [`2.2-slim`](https://github.com/nooulaif/docker-rails/blob/master/2.2-slim.dockerfile)\n- [`2.2-alpine`](https://github.com/nooulaif/docker-rails/blob/master/2.2-alpine.dockerfile)\n- [`2.1`](https://github.com/nooulaif/docker-rails/blob/master/2.1.dockerfile)\n- [`2.1-slim`](https://github.com/nooulaif/docker-rails/blob/master/2.1-slim.dockerfile)\n- [`2.1-alpine`](https://github.com/nooulaif/docker-rails/blob/master/2.1-alpine.dockerfile)\n\n## Experimental tags\n\n- [`5-mini`](https://github.com/nooulaif/docker-rails/blob/master/5-mini.dockerfile)\n- [`4-mini`](https://github.com/nooulaif/docker-rails/blob/master/4-mini.dockerfile)\n\n## Features\n- Does not comes with any preinstalled version of rails, so you can choose by yourself\n- Uses [gosu](https://github.com/tianon/gosu) to better handle su and sudo commands\n- Automatically creates and prepares new rails app\n- Runs bundle install & rake db:migrate on every restart for quick development\n- For production modyfies log output to stdout and formats it for [Logstash](https://www.elastic.co/products/logstash)\n- In development adds docker network as trusted for web console\n- Includes [pry](http://pryrepl.org/) for easier debugging\n- Solves problem with wrong permissions on shared volumes by matching UIDs\n\n## Quick start\nExecute this command in empty folder:\n```bash\ndocker run -it -v $(pwd):/home/app/webapp -p 3000:3000 nooulaif/rails:latest\n```\n\n## Environment variables\n\nWhen you start this image, you can adjust some of the behavior\nby passing one or more environment variables.\n\n### RAILS_VERSION\n\nDefault: `'~> 5.0'`\n\nYou can specyfi what version of rails you want to install.\n\nInstalation will occur once and only if run command wasn't\nchanged or it starts with `rails`, `rake` or `bundle`.\n\nNote: Has no effect in mini versions, because they have rails preinstalled.\n\n### APP_NAME\n\nDefault: `webapp`\n\nBy default rails creates app name, which determines e.g. databases names, based on folder name where rails new command was run.\n\nIn case of this image it would be `module Webapp`. This setting lets you overwrite this.\n\n### RAILS_NEW_ARGS\n\nDefault: `[empty string]`\n\nYou can specify additional arguments to rails new command.\n\nFor example `RAILS_NEW_ARGS=\"--api --skip-spring\"`\n\n### DEFAULT_RAILS_NEW_IGNORED_FILES\n\nDefault: `,docker-compose.yml,.bundle,Dockerfile,.git,.svn,.hg`\n\nTo avoid problems with overwriting files this image runs rails new command only\nif certain set of files is present in mounted volume. If anything besides these\nfiles is present rails new command will not be triggered.\n\n### RAILS_NEW_IGNORED_FILES\n\nDefault: `[empty string]`\n\nYou can add additional files to whitelist when checking for rails new command to run.\n\nFor example `RAILS_NEW_IGNORED_FILES=Dockerfile.production,compose-production.yml`\n\n### LOCAL_USER_ID\n\nDefault: `1000`\n\nYou can change UID of default user to match your host user UID.\n\n### PREPARE_ONLY\n\nDefault: `false`\n\nYou may wish to not run rails server after preparing app. To achieve this set\nthis variable to true.\n\n### DB_ADAPTER\n\nDefault: `sqlite3`\n\nName of the database adapter to use with your app.\n\nNotice: it's not value passed to rails new command, but to database.yml file.\n\n### DB_HOST\n\nDefault: `[empty string]`\n\nAddress to your database server.\n\n### DB_USER\n\nDefault: `[empty string]`\n\nUser of your database.\n\n### DB_PASS\n\nDefault: `[empty string]`\n\nPassword for your database user.\n\n## Image variants\n\n### Based on official docker ruby images\nConsult [official readme](https://hub.docker.com/_/ruby/) for diffrence between\n`<version>`, `<version>-slim` and `<version>-alpine` images.\n\n### Mini\nThese images are more of an experiment to create smallest, usable image for rails.\n\nWith the size about 150MB, these are ~4 times thinner than [official rails images](https://hub.docker.com/_/rails/).\n\n## Tips for quick development\nInstead of installing every single gem from Gemfile each time you want to add new one,\nI recommend to create docker volume and mount it to /home/app/bundle.\nThanks to that you can install only new gems.\n\nSee [example docker-compose.yml](https://github.com/nooulaif/docker-rails/blob/master/example-compose.yml)\nfor a way to achieve this.\n\nAlso to avoid installing rails over and over again it's probably a good idea to place below Dockerfile in root of your app\nand use image build with it.\n\n```Dockerfile\nFROM nooulaif/rails:latest\nENV RAILS_VERSION=5.0.0\nRUN /home/app/install_rails.sh\n```\n\n## Supported Docker versions\nThis image was tested with Docker version 1.11.2.\n\nI would be very pleased to hear whether or not it works on older versions as well.\n\n## Issues\nIf you have any problems with or questions about this image, please contact me through a [GitHub issue](https://github.com/nooulaif/docker-rails/issues).\n\n## Contributing\nYou are invited to contribute new features, fixes, or updates, large or small.\n\nI'm always thrilled to receive pull requests, and do my best to process them as fast as I can.\n\n## License\nReleased under the MIT License. See [LICENSE](https://github.com/nooulaif/docker-rails/blob/master/LICENSE) file for details.\n",
  "dockerfile": "FROM ruby:2.2-alpine\nMAINTAINER contact@nooulaif.com\n\n# Set all environment variables at once\nENV GOSU_VERSION=1.9 \\\n    GEM_HOME=/home/app/bundle \\\n    BUNDLE_PATH=/home/app/bundle \\\n    BUNDLE_APP_CONFIG=/home/app/bundle \\\n    APP=/home/app/webapp \\\n    PATH=/home/app/webapp/bin:/home/app/bundle/bin:$PATH \\\n    DB_ADAPTER=sqlite3\n\n# Install bash, less, nodejs, db clients and gosu\n# Create app directory and set permissions\n# Remove cache\nRUN apk add --no-cache \\\n    bash less nodejs \\\n    build-base ruby-dev \\\n    libc-dev libffi-dev \\\n    sqlite-dev postgresql-dev mysql-dev \\\n    libxml2-dev libxslt-dev \\\n    tzdata \\\n    dpkg gnupg openssl \\\n && dpkgArch=\"$(dpkg --print-architecture | awk -F- '{ print $NF }')\" \\\n && wget -O /usr/local/bin/gosu \"https://github.com/tianon/gosu/releases/download/$GOSU_VERSION/gosu-$dpkgArch\" \\\n && wget -O /usr/local/bin/gosu.asc \"https://github.com/tianon/gosu/releases/download/$GOSU_VERSION/gosu-$dpkgArch.asc\" \\\n && export GNUPGHOME=\"$(mktemp -d)\" \\\n && gpg --keyserver ha.pool.sks-keyservers.net --recv-keys B42F6819007F00F88E364FD4036A9C25BF357DD4 \\\n && gpg --batch --verify /usr/local/bin/gosu.asc /usr/local/bin/gosu \\\n && rm -r \"$GNUPGHOME\" /usr/local/bin/gosu.asc \\\n && chmod +x /usr/local/bin/gosu \\\n && gosu nobody true \\\n && addgroup -g 1000 app \\\n && adduser -u 1000 -D -G app -s /bin/bash app \\\n && mkdir -p \"$APP\" \"$GEM_HOME/bin\" \\\n && { \\\n    echo 'install: --no-document'; \\\n    echo 'update: --no-document'; \\\n  } >> /home/app/.gemrc \\\n && chown -R app:app /home/app \\\n && find / -type f -iname '*.apk-new' -delete \\\n && rm -rf '/var/cache/apk/*' '/tmp/*' '/var/tmp/*'\n\nWORKDIR $APP\nCOPY start.sh template.rb entrypoint.sh install_rails.sh /home/app/\n\nENTRYPOINT [\"/home/app/entrypoint.sh\"]\nCMD [\"/home/app/start.sh\"]\n",
  "dockerfile_json": {
    "add": [],
    "expose": [],
    "volume": [],
    "run": [
      "apk add --no-cache     bash less nodejs     build-base ruby-dev     libc-dev libffi-dev     sqlite-dev postgresql-dev mysql-dev     libxml2-dev libxslt-dev     tzdata     dpkg gnupg openssl  && dpkgArch=\"$(dpkg --print-architecture | awk -F- '{ print $NF }')\"  && wget -O /usr/local/bin/gosu \"https://github.com/tianon/gosu/releases/download/$GOSU_VERSION/gosu-$dpkgArch\"  && wget -O /usr/local/bin/gosu.asc \"https://github.com/tianon/gosu/releases/download/$GOSU_VERSION/gosu-$dpkgArch.asc\"  && export GNUPGHOME=\"$(mktemp -d)\"  && gpg --keyserver ha.pool.sks-keyservers.net --recv-keys B42F6819007F00F88E364FD4036A9C25BF357DD4  && gpg --batch --verify /usr/local/bin/gosu.asc /usr/local/bin/gosu  && rm -r \"$GNUPGHOME\" /usr/local/bin/gosu.asc  && chmod +x /usr/local/bin/gosu  && gosu nobody true  && addgroup -g 1000 app  && adduser -u 1000 -D -G app -s /bin/bash app  && mkdir -p \"$APP\" \"$GEM_HOME/bin\"  && {     echo 'install: --no-document';     echo 'update: --no-document';   } >> /home/app/.gemrc  && chown -R app:app /home/app  && find / -type f -iname '*.apk-new' -delete  && rm -rf '/var/cache/apk/*' '/tmp/*' '/var/tmp/*'"
    ],
    "workdir": [
      "$APP"
    ],
    "from": "ruby:2.2-alpine",
    "maintainer": "contact@nooulaif.com",
    "env": {
      "GOSU_VERSION": "1.9",
      "": "",
      "GEM_HOME": "/home/app/bundle",
      "BUNDLE_PATH": "/home/app/bundle",
      "BUNDLE_APP_CONFIG": "/home/app/bundle",
      "APP": "/home/app/webapp",
      "PATH": "/home/app/webapp/bin:/home/app/bundle/bin:$PATH",
      "DB_ADAPTER": "sqlite3"
    },
    "copy": "start.sh template.rb entrypoint.sh install_rails.sh /home/app/",
    "entrypoint": "[\"/home/app/entrypoint.sh\"]",
    "cmd": "[\"/home/app/start.sh\"]"
  },
  "source_repository_url": "https://github.com/nooulaif/docker-rails.git",
  "source_repository_type": "git",
  "source_repository_provider": "github",
  "source_repository_web_url": "https://github.com/nooulaif/docker-rails",
  "docker_repository": "nooulaif/rails",
  "docker_image": "nooulaif/rails",
  "parameters_schema": {
    "GOSU_VERSION": {
      "default": "1.9",
      "type": "string",
      "mapping": "environment_variable"
    },
    "": {
      "default": "",
      "type": "string",
      "mapping": "environment_variable"
    },
    "GEM_HOME": {
      "default": "/home/app/bundle",
      "type": "string",
      "mapping": "environment_variable"
    },
    "BUNDLE_PATH": {
      "default": "/home/app/bundle",
      "type": "string",
      "mapping": "environment_variable"
    },
    "BUNDLE_APP_CONFIG": {
      "default": "/home/app/bundle",
      "type": "string",
      "mapping": "environment_variable"
    },
    "APP": {
      "default": "/home/app/webapp",
      "type": "string",
      "mapping": "environment_variable"
    },
    "PATH": {
      "default": "/home/app/webapp/bin:/home/app/bundle/bin:$PATH",
      "type": "string",
      "mapping": "environment_variable"
    },
    "DB_ADAPTER": {
      "default": "sqlite3",
      "type": "string",
      "mapping": "environment_variable"
    },
    "exposed_ports": {
      "default": [],
      "type": "json_array"
    }
  },
  "type": "docker",
  "docker_name": "nooulaif/rails",
  "revision": "2.2-alpine",
  "uris": [
    "https://hub.docker.com/r/nooulaif/rails",
    "https://hub.docker.com/v2/repositories/nooulaif/rails",
    "https://github.com/nooulaif/docker-rails.git"
  ],
  "labels": [
    "Docker",
    "Type/Middleware/Runtime/Ruby",
    "Binding/Region/North America/US",
    "Mode/Executable/Image/Container Image/Docker Image",
    "Style/Virtualization Level/Application"
  ],
  "info_url": "https://hub.docker.com/r/nooulaif/rails",
  "requires": [
    {
      "kind": "host",
      "label": "Docker Engine"
    }
  ],
  "latest": true,
  "gatherbase_origin": "docker-hub"
}