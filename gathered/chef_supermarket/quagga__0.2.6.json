{
  "name": "quagga Chef cookbook",
  "chef_cookbook_name": "quagga",
  "revision": "0.2.6",
  "uris": [
    "https://supermarket.chef.io/cookbooks/quagga",
    "https://supermarket.chef.io/cookbooks/quagga/download",
    "https://supermarket.chef.io/cookbooks/quagga/versions/0.2.6",
    "https://supermarket.chef.io/cookbooks/quagga/versions/0.2.6/download",
    "https://supermarket.chef.io/api/v1/cookbooks/quagga/versions/0.2.6",
    "https://supermarket.chef.io/api/v1/cookbooks/quagga",
    "https://supermarket.chef.io/api/v1/cookbooks/quagga/versions/0.2.6/download"
  ],
  "labels": [
    "Chef cookbook",
    "Executable/Script/Chef Cookbook",
    "Mode/Executable/Script/Chef Cookbook"
  ],
  "info_url": "https://supermarket.chef.io/cookbooks/quagga",
  "package_url": "https://supermarket.chef.io/api/v1/cookbooks/quagga/versions/0.2.6/download",
  "deprecated": false,
  "created": "2015-11-03T22:31:03.540Z",
  "updated": "2016-07-11T20:11:53.600Z",
  "description": "Generic Quagga cookbook",
  "maintainer": {
    "name": "floored1585",
    "email": "ian@f85.net"
  },
  "license": "Apache 2.0",
  "chef_foodcritic_failure": true,
  "chef_up_for_adoption": null,
  "rating": null,
  "followers_count": 3,
  "downloads_count": 3189,
  "downloads_count_revision": 224,
  "repository_url": "https://github.com/floored1585/quagga-cookbook",
  "issues_url": "https://github.com/floored1585/quagga-cookbook/issues",
  "chef_source_url": "https://github.com/floored1585/quagga-cookbook",
  "gatherbase_origin": "chef-supermarket",
  "readme_name": "README.md",
  "readme": "Description\n===========\n\nThis is a fork of [https://github.com/ooyala/quagga-cookbook](https://github.com/ooyala/quagga-cookbook).  The functionality here is much different, and this cookbook is not backwards comptaible.\n\nThis cookbook provides an interface via attributes to serveral Quagga daemons. It's written with\nthe intention of deploying Quagga on [Cumulus](http://cumulusnetworks.com) switches, and managing\nrouter configuration as code.\n\nThis cookbook currently supports the following daemons:\n\n* BGP\n* OSPF\n* Zebra\n\nRequirements\n============\n\nTested on:\n* Cumulus Linux 1.5.3\n* Ubuntu 14.04\n\nAttributes\n==========\n\nNOTE! Where you see \"String or Array\" for type, a String may be used _only_ for single values.  Use \nan Array of Strings for multiple values.\n\n### General\n\nAttribute        | Description |Type | Default\n-----------------|-------------|-----|--------\n`node[:quagga][:router_id]` | Router-id to use for all protocols. This is superseded by protocol-specific router-ids, if they are defined. | String | `nil`\n`node[:quagga][:enable_reload]` | Must be true in to enable reloading the quagga service (only applies to certain versions). | Boolean | `true`\n`node[:quagga][:max_instances]` | Sets /etc/defaults/quagga \"MAX_INSTANCES\" value. | Integer | `5`\n`node[:quagga][:integrated_vtysh_config]` | Must be set to true in order to reload quagga (vs restart) on config changes. Details [here](http://www.nongnu.org/quagga/docs/docs-multi/VTY-shell-integrated-configuration.html) and [here](http://docs.cumulusnetworks.com/display/DOCS/Configuring+Quagga). | Boolean | `false`\n`node[:quagga][:multiple_instance]` | Must be set to true in order to support multiple routing-instances or vrfs. Supported in Cumulus Linux 2.5.3SE and adopted in Cumulus Linux 3.0. | Boolean | `false`\n\n### BGP\n\nAttribute        | Description |Type | Default\n-----------------|-------------|-----|--------\n`node[:quagga][:bgp]` | A hash containing the BGP processes and their configuration.  Keys are the local ASNs/processes (Integer), values are the data for that process (Hash). | Hash | `{}`\n`node[:quagga][:bgp][$LOCAL_ASN][:router_id]` | Sets the router-id for this BGP process. | String | `nil`\n`node[:quagga][:bgp][$LOCAL_ASN][:redistribute]` | Route types to redistribute into BGP (eg: `[\"connected\",\"ospf\"]`. | String or Array | `nil`\n`node[:quagga][:bgp][$LOCAL_ASN][:neighbors]` | A hash containing neighbors and their configuration.  Keys are the neighbor IPs or group names (String), values are the data for that neighbor or group (Hash). | Hash | `nil`\n`node[:quagga][:bgp][$LOCAL_ASN][:neighbors][$NEIGHBOR][:remote_as]` | The remote-as for this neighbor. | Integer | `nil`\n`node[:quagga][:bgp][$LOCAL_ASN][:neighbors][$NEIGHBOR][:default_originate]` | Set to `true` to advertise a default route to this neighbor. | Boolean | `false`\n`node[:quagga][:bgp][$LOCAL_ASN][:neighbors][$NEIGHBOR][:default_originate_map]` | The name of the route-map to use with default-originate. | String | `nil`\n`node[:quagga][:bgp][$LOCAL_ASN][:neighbors][$NEIGHBOR][:peer_group]` | Set to `true` if this is a peer-group. | String | `nil`\n`node[:quagga][:bgp][$LOCAL_ASN][:neighbors][$NEIGHBOR][:peer_group_range]` | The IP range(s) to permit for this group (BGP Dynamic Neighbors). | String or Array | `nil`\n`node[:quagga][:bgp][$LOCAL_ASN][:neighbors][$NEIGHBOR][:soft_reconfig_in]` | Enable soft-reconfiguration-inbound (to enable dispaly of received routes). | Boolean | `false`\n`node[:quagga][:bgp][$LOCAL_ASN][:neighbors][$NEIGHBOR][:prefix_list_in]` | Name of the prefix-list to use for filtering incoming routes. | String | `nil`\n`node[:quagga][:bgp][$LOCAL_ASN][:neighbors][$NEIGHBOR][:prefix_list_out]` | Name of the prefix-list to use for filtering outgoing routes. | String | `nil`\n\n### OSPF\n\nAttribute        | Description |Type | Default\n-----------------|-------------|-----|--------\n`node[:quagga][:ospf][:router_id]` | Sets the router-id for OSPF. | String | `nil`\n`node[:quagga][:ospf][:redistribute]` | Route types to redistribute into OSPF (eg: `[\"connected\",\"bgp\"]`. | String or Array | `[]`\n`node[:quagga][:ospf][:passive_default]` | Set passive-interface default (Active interfaces must be defined). ***needs tests*** | Boolean | `true`\n`node[:quagga][:ospf][:passive_ints]` | Names of passive interfaces. | String or Array | `nil`\n`node[:quagga][:ospf][:areas]` | A Hash containing areas and their configurations.  Keys are the area IDs (eg: 0.0.0.0), values are the data for that area. | Hash | `{}`\n`node[:quagga][:ospf][:areas][$AREA][:networks]` | Networks to include in the area. | String or Array | `nil`\n`node[:quagga][:ospf][:networks]` | ***needs description & tests***. | String or Array | `[]`\n\n### Prefix Lists\n\nAttribute        | Description |Type | Default\n-----------------|-------------|-----|--------\n`node[:quagga][:prefix_lists]` | A hash containing all of the prefix-lists to configure in quagga.  Keys are the prefix-list names, values are hashes filled with the entries. | Hash | `{}`\n`node[:quagga][:prefix_lists][$LIST]` | A hash containing all of the entries in a particular $LIST.  Keys are sequence numbers, values are hashes filled with the details of the entry. | Hash | `{}`\n`node[:quagga][:prefix_lists][$LIST][$SEQ][:prefix]` | The prefix affected by this rule (must be `x.x.x.x/x`). If left out, rule will match any prefix | String | `any`\n`node[:quagga][:prefix_lists][$LIST][$SEQ][:ge]` | The minimum prefix length to accept (eg: `24`) | Integer | `nil`\n`node[:quagga][:prefix_lists][$LIST][$SEQ][:le]` | The maximum prefix length to accept (eg: `24`) | Integer | `nil`\n`node[:quagga][:prefix_lists][$LIST][$SEQ][:action]` | The action to take (either 'permit' or 'deny'). | String | `nil`\n\n### Static Routes\n\nAttribute        | Description |Type | Default\n-----------------|-------------|-----|--------\n`node[:quagga][:static_routes]` | A hash containing static routes to configure.  Keys are the prefixes, values are the next-hop addresses.  | Hash | `nil`\n`node[:quagga][:static_routes][$ROUTE]` | The next-hop address for given $ROUTE | String | `any`\n\n### Multiple Routing Instances (VRFs)\n\nAttribute        | Description |Type | Default\n-----------------|-------------|-----|--------\n`node[:quagga][:multiple_instance]` | Must be set to true in order to support multiple routing-instances or vrfs. Supported in Cumulus Linux 2.5.3SE and adopted in Cumulus Linux 3.0. | Boolean | `false`\n`node[:quagga][:interfaces][$IF_NAME]` | The interface you wish to assign to a routing table followed by a specific table. | Array | `nil`\n`node[:quagga][:bgp][$LOCAL_ASN][:neighbors]` | A hash containing neighbors and their configuration. Local ASN need to have the table specified. Keys are the neighbor IPs or group names followed by (String) values for that neighbor or group (Hash). | Hash | `nil`\n`node[:quagga][:static_routes][$ROUTE]` |  A hash, with a specified table, containing static routes to configure.  Keys are the prefixes, values are the next-hop addresses.  | Hash | `nil`\n\nUsage\n=====\n\nSimply set the desired attributes (see Attributes section above) then call the proper recipe (quagga::bgpd, quagga::ospfd).  There is also a provider for zebra, but no recipe as of yet.\n\n### BGP Example\n\nThe following example will create BGP process 64512 with dynamic neighbors.  Devices in the 10.0.0.0/8 range ('hosts' peer-group) will be able to peer with this process.  A regular neighbor 192.168.52.1 is configured here also.  Neighbors in the group and the normal neighbor will receive a default route when peered with this instance.\n\n```ruby\nnode.set[:quagga][:bgp]['64512'][:log_neighbor_changes] = true\nnode.set[:quagga][:bgp]['64512'][:neighbors]['hosts'][:remote_as] = 64512\nnode.set[:quagga][:bgp]['64512'][:neighbors]['hosts'][:default_originate] = true\nnode.set[:quagga][:bgp]['64512'][:neighbors]['hosts'][:peer_group] = true\nnode.set[:quagga][:bgp]['64512'][:neighbors]['hosts'][:peer_group_range] = '10.0.0.0/8'\nnode.set[:quagga][:bgp]['64512'][:neighbors]['192.168.52.1'][:remote_as] = 64512\nnode.set[:quagga][:bgp]['64512'][:neighbors]['192.168.52.1'][:default_originate] = true\n\ninclude_recipe 'quagga::bgpd'\n```\n\n### OSPF Example\n\nThe following example will create an OSPF area 0, with quagga reload enabled and an OSPF-specific router-id.  All interfaces with addresses in 10.0.0.0/8 will actively participate in OSPF, except for the ones explicitly listed as `:passive_ints`.\n\n```ruby\nnode.set[:quagga][:integrated_vtysh_config] = true\nnode.set[:quagga][:ospf][:router-id] = 10.0.0.1\nnode.set[:quagga][:ospf][:passive_default] = false\nnode.set[:quagga][:ospf][:areas][0.0.0.0][:networks] = '10.0.0.0/8'\nnode.set[:quagga][:ospf][:passive_ints] = ['lo', 'br-access']\n\ninclude_recipe 'quagga::ospfd'\n```\n\n### Static Route Example\n\nThe following example will create a static route to 10.0.0.0/24 using the next hop of 172.16.1.1\n\n```ruby\nnode.set[:quagga][:static_routes]['10.0.0.0/24'] = '172.16.1.1'\n\ninclude_recipe 'quagga::zebra'\n```\n### Mutliple Routing-Instaces (VRFs) Example\n\nThe following example will create a routing table with a static route, a bgp neighbor and a specific interface all on table 100.  \n\n```ruby\nnode.set[:quagga][:multiple_instance] = true\nnode.set[:quagga][:interfaces]['swp1 table 100'] = []\nnode.set[:quagga][:bgp]['64512 table 100'][:neighbors]['1.1.1.1'][:remote_as] = 64512\nnode.set[:quagga][:static_routes]['10.0.0.0/24'] = '172.16.1.1 table 100'\n```\n\nContributing\n============\n\nAny form of contribution is welcome!  Feature requests, bug reports, pull requests, whatever!\nIf you add features, make sure there are tests for them, and if you change any code, make sure\nthe existing tests all pass _before_ creating a pull request.\n\nTests are run on a [Cumulus VX](https://cumulusnetworks.com/cumulus-vx) VM using serverspec.\n\nTesting requirements:\n* Vagrant\n* VirtualBox\n\nTo run the tests (after installing prerequisites):\n* `bundle install`\n* `rake rubocop`\n* `rake test`\n* `foodcritic .`\n\nAuthor and License\n===================\n### Maintainer, Authors and Contributors\n\n\n| Role\t\t\t| Individual\n|:----------------------|:-----------------------------------------|\n| **Author** (pre-0.2)  | [Ooyala Inc.](https://github.com/ooyala)\n| **Maintainer** (0.2+) | [Ian Clark](https://github.com/floored1585)\n| **Contributor**       | [James Farr](https://github.com/nertwork)\n\nCopyright 2014, Ooyala Inc.  \nCopyright 2015, Contributers\n\n### License\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n"
}