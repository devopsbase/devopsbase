{
  "name": "icinga2 Chef cookbook",
  "chef_cookbook_name": "icinga2",
  "revision": "0.5.4",
  "uris": [
    "https://supermarket.chef.io/cookbooks/icinga2",
    "https://supermarket.chef.io/cookbooks/icinga2/download",
    "https://supermarket.chef.io/cookbooks/icinga2/versions/0.5.4",
    "https://supermarket.chef.io/cookbooks/icinga2/versions/0.5.4/download",
    "https://supermarket.chef.io/api/v1/cookbooks/icinga2/versions/0.5.4",
    "https://supermarket.chef.io/api/v1/cookbooks/icinga2",
    "https://supermarket.chef.io/api/v1/cookbooks/icinga2/versions/0.5.4/download"
  ],
  "labels": [
    "Chef cookbook",
    "Monitoring & Trending",
    "Executable/Script/Chef Cookbook",
    "Mode/Executable/Script/Chef Cookbook"
  ],
  "info_url": "https://supermarket.chef.io/cookbooks/icinga2",
  "package_url": "https://supermarket.chef.io/api/v1/cookbooks/icinga2/versions/0.5.4/download",
  "deprecated": false,
  "created": "2014-12-16T17:43:41.881Z",
  "updated": "2016-09-28T05:07:25.134Z",
  "description": "Installs/Configures Icinga2",
  "maintainer": {
    "name": "icinga",
    "email": "vir.khatri@gmail.com"
  },
  "license": "Apache 2.0",
  "chef_foodcritic_failure": true,
  "chef_up_for_adoption": null,
  "rating": null,
  "followers_count": 18,
  "downloads_count": 8499329,
  "downloads_count_revision": 534794,
  "repository_url": "https://github.com/Icinga/chef-icinga2",
  "issues_url": "https://dev.icinga.org/projects/chef-icinga2",
  "chef_source_url": "https://github.com/Icinga/chef-icinga2",
  "gatherbase_origin": "chef-supermarket",
  "readme_name": "README.md",
  "readme": "icinga2 Cookbook\n==================\n\n[![Build Status](https://travis-ci.org/vkhatri/chef-icinga2.svg?branch=master)](https://travis-ci.org/vkhatri/chef-icinga2)\n\nThis is a [Chef] cookbook to manage [Icinga2] using Chef LWRP.\n\n\nMore features and attributes will be added over time, **feel free to contribute**\nwhat you find missing!\n\n\n## Repository\n\nhttps://github.com/vkhatri/chef-icinga2\n\n\n## Recipes\n\n- `icinga2::default`     \t- does not do anything, used for LWRP usage\n\n- `icinga2::server`  \t\t- install & configure icinga2 server with default incinga Objects\n\n- `icinga2::server_apache`\t\t- manages apache and icinga2 classic ui / web / web2 vhost using `apache2` cookbook\n\n- `icinga2::server_install`   \t\t- install icinga2 core/ido server packages\n\n- `icinga2::server_core`   \t\t\t- configures icinga2 core configuration files & directories\n\n- `icinga2::server_features`   \t\t- enable/disable icinga2 features\n\n- `icinga2::server_classic_ui`   \t\t- configures icinga2 classic ui\n\n- `icinga2::server_pnp`   \t\t- configures pnp4nagios for icinga2\n\n- `icinga2::server_objects`   \t\t- manages icinga2 default objects/templates objects if `node['icinga2']['disable_conf_d']` is set in which case `conf.d` objects config is not included in `icinga2.conf` and objects are created using LWRP\n\n- `icinga2::server_object_host`   \t- creates icinga2 `generic-host` `Host` template\n\n- `icinga2::server_object_notificationcommand`   - creates icinga2 default `NotificationCommand` objects\n\n- `icinga2::server_object_service`   \t\t- creates icinga2 default`generic-service` `Service`  templates\n\n- `icinga2::server_object_timeperiod`   \t- creates icinga2 default `TimePeriod` objects\n\n- `icinga2::server_object_user`   \t\t\t- creates icinga2 `generic-user` `User` template and `icingaadmin` `User` object\n\n- `icinga2::server_object_usergroup`   \t- creates icinga2 `icingaadmins` `UserGroup` object\n\n\n## Attributes\n\n- `icinga2::default` \t\t\t- icinga2 server default attributes file\n\n- `icinga2::repo`\t\t\t\t- icinga2 yum/apt repositories file for packages install\n\n- `icinga2::server_classic_ui` - icinga2 server classic ui default attributes file\n\n- `icinga2::server_constants`\t- icinga2 server constants parameters file\n\n- `icinga2::server_objects`\t\t- icinga2 objects default attributes file\n\n- `icinga2::server_ido`\t\t- icinga2 ido db default attributes file\n\n- `icinga2::server_web2`\t\t- icinga2 web2 ui default attributes file\n\n\n\n## Supported Icinga Version\n\nThis cookbook is being developed for Icinga2 - v2.2.x primarily on Amazon Platform (EPEL Release 6 Package).\n\n\n## Supported Icinga2 Install Types\n\nCurrently Icinga2 installation is supported **ONLY** via Repository Packages.\n\n\n## Icinga2 Server Setup\n\nTo setup icinga2 server on a node, add recipe `icinga2::server` which will install necessary packages and configuration files.\n\n\n\n## Icinga2 Classic UI\n\nIcinga2 Classic UI is enabled by default and set as default UI.\n\nHowever, Classic UI can be disabled by attribute `node['icinga2']['classic_ui']['enable']`.\n\n\n**How to add users for icinga2 Classic UI**\n\nIcinga2 Classic UI users is controlled by node Hash attribute `node['icinga2']['classic_ui']['users']`. This attribute accepts a `Hash` of `username => htpasswd(passwd)`, so that password is not available in plain text.\n\nBy default `icingaadmin` user is added with password `icingaadmin`:\n\n\tdefault['icinga2']['classic_ui']['users'] = {\n\t  'icingaadmin' => '$apr1$MZtKRLAy$AV9OiJ.V/mI9g30bHn9ol1'\n\t}\n\nThis can be overrided in wrapper cookbook or role or environment.\n\nTo add more users for icigna2 Classic UI auth, add new users to Hash attribute in the same wasy `icingaadmin` user is added\n\n\tdefault['icinga2']['classic_ui']['users']['user_name'] = '$apr1$MZtKRLAy$AV9OiJ.V/mI9g30bHn9ol1'\n\n**Icinga2 Classic UI Authorization**\n\n\nIcigna2 Classic UI User authorization is managed by below node Arrary attributes:\n\n\tnode['icinga2']['classic_ui']['authorized_for_system_information']\n\tnode['icinga2']['classic_ui']['authorized_for_configuration_information']\n\tnode['icinga2']['classic_ui']['authorized_for_full_command_resolution']\n\tnode['icinga2']['classic_ui']['authorized_for_system_commands']\n\tnode['icinga2']['classic_ui']['authorized_for_all_services']\n\tnode['icinga2']['classic_ui']['authorized_for_all_hosts']\n\tnode['icinga2']['classic_ui']['authorized_for_all_service_commands']\n\tnode['icinga2']['classic_ui']['authorized_for_all_host_commands']\n\nBy simply adding users to above attributes will provide necessary access to the UI.\n\n\n\n**How to add a guest user**\n\nTo add a guest user without any admin privileges, first add a `guest` user (with password `guest`)\n\n\tdefault['icinga2']['classic_ui']['users']['guest'] = '$apr1$cA/eVUgT$aIoWUPwV5uONJoYslb7lg0'\n\nThen authorize `guest` user to view `Host/Service` status\n\n\tnode['icinga2']['classic_ui']['authorized_for_all_services'] = %w(icingaadmin guest)\n\tnode['icinga2']['classic_ui']['authorized_for_all_hosts'] = %w(icingaadmin guest)\n\n\n\n**How to add an admin user**\n\nTo make a user `admin`, add the user to below node attributes:\n\n\tnode['icinga2']['classic_ui']['authorized_for_system_information']\n\tnode['icinga2']['classic_ui']['authorized_for_configuration_information']\n\tnode['icinga2']['classic_ui']['authorized_for_full_command_resolution']\n\tnode['icinga2']['classic_ui']['authorized_for_system_commands']\n\tnode['icinga2']['classic_ui']['authorized_for_all_services']\n\tnode['icinga2']['classic_ui']['authorized_for_all_hosts']\n\tnode['icinga2']['classic_ui']['authorized_for_all_service_commands']\n\tnode['icinga2']['classic_ui']['authorized_for_all_host_commands']\n\n\n\n## Icinga Web2\n\nIcingaweb2 recipe setup is work in progress.\n\n\n## Icinga2 Cluster Deployment\n\nIcinga2 Distributes / HA cluster setup examples will be added soon.\n\n\n## Icinga2 Monitor a Chef Environment Nodes\n\nThis cookbook does not only provide management of Icinga2 server & objects, it also provides\nautomation around Chef environment.\n\nUsing LWRP `environment` a whole environment nodes can be added to `Host` objects with environment wide `Host` object parameters.\n\nThere are certain functionalities added to LWRP `environment`, like:\n\n- define icinga2 `Host` parameters for an entire environment\n\n- auto create `HostGroup` object for an entire chef environment\n\n- auto create `HostGroup` object for node's `application` attribute to group nodes for an entire chef environment `application` type\n\n- auto create `HostGroup` object for node's `cluster` attribute to group nodes for a chef environment `cluster`\n\n- auto add chef node Cloud attributes as `Host` custom `vars`, currently only AWS EC2 attributes are supported, but is easy to extend the suport to other cloud providers\n\n- auto create `HostGroup` list for a chef environment node\n\n- limit a chef environment spreaded across multiple regions to icinga2 server region, e.g. in multi region ec2 production environment, one would want to setup an icinga2 server in region `us-east-1` just to monitor `us-east-1` nodes, but not the production nodes of other regions, like `ap-southeast-1`\n\n- allow chef node to determine `host.address` from `node['fqdn']` DNS resolution instead of `node['ipaddress']` and either ignore chef node if failed to resolve DNS or fallback to use `node['ipaddress']` as `host.address`\n\n- exclude a node by `run_list` role, not yet tested\n\n- exclude a node by `run_list` role, not yet tested\n\n- filter chef node if match certain node attributes\n\n- override an environment and use an entire different `search_pattern`, this feature extends LWRP `environment` functionality to select nodes by a user given search pattern\n\n- `Host` object attribute `disply_name` is set to chef node hostname\n\n\nSimply create a LWRP resource for a chef environment, to start monitoring all nodes in that environment. More details can be found in examples.\n\n\n## Icinga2 Host Custom Vars\n\n**environment LWRP Host Vars**\n\nLWRP `environment` resources sets Host custom vars for each node via node `Hash` attribute -\n`node['icinga2']['client']['custom_vars']`. All defined `vars` will be added to `Host` object.\n\n\n**host LWRP Host Vars**\n\nWhen using `icinga2_host` LWRP, node custom vars will not be added automatically. There will be no search performed as the `Host` object could be different than a chef `Node`.\n\nTo add `Host` custom vars, use Hash attribute `custom_vars`.\n\nA resource attribute will be added to `icinga2_host` LWRP to perform a search to fetch custom vars defined for a node, so that manual addition is not required.\n\n\n\n## Icing2 with PNP4Nagios\n\nRecipe `icinga2::server_pnp` setup and configures `PNP4Nagios` with `rrdcached` daemon.\n\nSimply add recipe `icinga2::server_pnp` to icinga2 server `run_list` to setup `PNP4Nagios` along with `rrdcached`.\n\n\n\n## Client\n\nNRPE Client recipe has been removed from this cookbook.\n\nIcinga2 Agent setup will be added soon.\n\n\n\n## LWRP Examples\n\nDifferent LWRP usage examples are added to `examples` directory.\n\nTo configure icinga2 server, check `examples/icinga2_server` directory. More exaamples will be added here upon further testing.\n\n\n\n\n## icinga2 LWRP Resources\n\nCurrently icinga2 cookbook supports below Objects LWRP Resources:\n\n- icinga2_apilistener\n- icinga2_applynotification\n- icinga2_applyservice\n- icinga2_checkcommand\n- icinga2_endpoint\n- icinga2_envhostgroup\n- icinga2_environment\n- icinga2_eventcommand\n- icinga2_externalcommandlistener\n- icinga2_feature\n- icinga2_gelfwriter\n- icinga2_graphitewriter\n- icinga2_host\n- icinga2_hostgroup\n- icinga2_idomysqlconnection\n- icinga2_idopgsqlconnection\n- icinga2_notification\n- icinga2_notificationcommand\n- icinga2_scheduleddowntime\n- icinga2_service\n- icinga2_servicegroup\n- icinga2_sysloglogger\n- icinga2_timeperiod\n- icinga2_user\n- icinga2_usergroup\n- icinga2_zone\n\nFew of LWRP attributes which are required to create an icinga2 Object are not declared `:required => true` in LWRP in favour of creating icinga2 Object template.\n\nSame LWRP resource used to create icinga2 `Object`, can also be used to create icinga2 `Template` as well.\n\n\n\n## LWRP icinga2_environment\n\nAs mentioned in a section above, instead of creating `Host` objects for each chef node, using LWRP `environment` `Host` objects can easily be created for all chef nodes for a chef environment.\n\nLWRP resource attributes are common for all the `Host`. It may be required to define or override attribute for few specific `Host` objects, but it is not yet incorporated or forseen any usage at this point which might change over time.\n\n\n**LWRP example**\n\n\ticinga2_environment 'SingaporeDevelopment' do\n\t  import node['icinga2']['server']['object']['host']['import']\n\t  environment 'development'\n\t  limit_region true\n\t  ignore_resolv_error true\n\t  enable_cluster_hostgroup true\n\t  enable_application_hostgroup true\n\t  cluster_attribute 'flock'\n\t  application_attribute 'application'\n\t  check_interval '1m'\n\t  retry_interval '10s'\n\t  max_check_attempts 3\n\t  action_url '/pnp4nagios/graph?host=$HOSTNAME$&srv=_HOST_'\n\tend\n\n\nAbove LWRP resource will create `Host` objects for a chef environment nodes for a given `search_pattern` and other filter.\n\n\n**LWRP Options**\n\n\n- *action* (optional)\t\t\t- default :create, options: :create, :delete, :reload\n- *environment* (required)\t\t- chef environment name\n- *search_pattern* (optional)\t- chef search pattern for given environment\n- *cluster_attribute* (optional)\t-  chef node cluster attribute to create hostgroup and `Host` vars\n- *application_attribute* (optional) - chef noder application attribute to create hostgroup and `Host` vars\n- *enable_cluster_hostgroup* (optional)\t- whether to create `HostGroup` objects for chef node cluster's\n- *enable_application_hostgroup* (optional)\t- whether to create `HostGroup` objects for chef node application's\n- *enable_role_hostgroup* (optional)\t- whether to create `HostGroup` objects for chef node run_list role\n- *use_fqdn_resolv* (optional)\t- whether to use DNS FQDN resolved address for `Host` object attribute `address`\n- *failover_fqdn_address* (optional)\t- whether to use chef node attribute `node['ipaddress']` if failed to resolve node FQDN\n- *ignore_resolv_error* (optional)\t- whether to ignore node FQDN resolve error\n- *ignore_node_error* (optional)\t- whether to ignore node if failed to determine `node[]'chef_environment']` or `node['fqdn']` or `node['hostname']`\n<del>- *exclude_recipes* (optional)\t- exclude chef node if `run_list` matches recipe, not yet tested </del>\n<del>- *exclude_roles* (optional)\t- exclude chef node if `run_list` matches role, not yet tested </del>\n- *env_custom_vars* (optional)\t- add `Host` obect custom vars to all chef node\n- *limit_region* (optional)\t- whether to limit chef node to chef server region, currently tested for Amazon EC2, e.g. a icinga2 server located in region `us-east-1` will only collect nodes located in `us-east-`` region\n- *server_region* (optional)\t- icinga2 server region can be overriden if cloud provider is not supported by the cookbook using this attribute\n- *add_cloud_custom_vars* (optional)\t- whether to add cloud attributes, currently supports amazon ec2, e.g. instance id, vpc subnet etc.\n- *env_filter_node_vars* (optional)\t- filter or match chef nodes for a given `Hash` attribute values\n- *import* (optional)\t- icinga `Host` object import template attribute\n- *check_command* (optional)\t- icinga `Host` object attribute `check_command`\n- *max_check_attempts* (optional)\t- icinga `Host` object attribute `max_check_attempts`\n- *check_period* (optional)\t- icinga `Host` object attribute `check_period`\n- *check_interval* (optional)\t- icinga `Host` object attribute `check_interval`\n- *retry_interval* (optional)\t- icinga `Host` object attribute `retry_interval`\n- *enable_notifications* (optional)\t- icinga `Host` object attribute `enable_notifications`\n- *enable_active_checks* (optional)\t- icinga `Host` object attribute `enable_active_checks`\n- *enable_passive_checks* (optional)\t- icinga `Host` object attribute `enable_passive_checks`\n- *enable_passive_checks* (optional)\t- icinga `Host` object attribute `enable_passive_checks`\n- *enable_event_handler* (optional)\t- icinga `Host` object attribute `enable_event_handler`\n- *enable_flapping* (optional)\t- icinga `Host` object attribute `enable_flapping`\n- *enable_perfdata* (optional)\t- icinga `Host` object attribute `enable_perfdata`\n- *event_command* (optional)\t- icinga `Host` object attribute `event_command`\n- *flapping_threshold* (optional)\t- icinga `Host` object attribute `flapping_threshold`\n- *volatile* (optional)\t- icinga `Host` object attribute `volatile`\n- *zone* (optional)\t- icinga `Host` object attribute `zone`\n- *command_endpoint* (optional)\t- icinga `Host` object attribute `command_endpoint`\n- *notes* (optional)\t- icinga `Host` object attribute `notes`\n- *notes_url* (optional)\t- icinga `Host` object attribute `notes_url`\n- *action_url* (optional)\t- icinga `Host` object attribute `action_url`\n- *icon_image* (optional)\t- icinga `Host` object attribute `icon_image`\n- *icon_image_alt* (optional)\t- icinga `Host` object attribute `icon_image_alt`\n\n\nNote: Few of LWRP resource attributes has default value, please check LWRP resource until information is added here.\n\n\n## LWRP icinga2_envhostgroup\n\nLWRP `envhostgroup` creates an icinga `Hostgroup` object for LWRP `environment` host groups.\n\nAn `environment` host groups are evaluated at compile time, hence it conflicts with LWRP `hostgroup` resources. To avoid the conflict, LWRP `envhostgroup` resources are created in a separate object file for an environemnt.\n\n\n**LWRP Environment HostGroup example**\n\n\ticinga2_envhostgroup 'envhostgroup' do\n\t  environment environment_name\n\t  groups %w(group)\n\tend\n\nAbove LWRP resource will create `HostGroup` for a chef environment.\n\n\n**LWRP Options**\n\n- *action* (optional)\t- default :enable, options: :enable, :disable\n- *environment* (name_attribute)\t- chef environment name\n- *groups* (optional)\t- host group names\n\nNote: This LWRP resoruce is only meant for LWRP `environment` and not to be used for custom resources.\n\n## LWRP icinga2_host\n\n\nUnlike LWRP `environment`, LWRP `host` creates an icinga `Host` object or template.\n\nLWRP `host` can be useful for servers not managed by Chef or to monitor Cloud Services like Amazon Elastic Cache or Amazon RDS etc.\n\n**LWRP Host Object example**\n\n\ticinga2_host 'redis-ec.abcdef.0001.apse1.cache.amazonaws.com' do\n\t  display_name 'Production Redis Server'\n\t  address 'redis-ec.abcdef.0001.apse1.cache.amazonaws.com'\n\t  custom_vars :check_tcp_ports => %w(6379), :application => 'redis', :environment => 'production', :cluster_name => 'prodredis0001'\n\tend\n\n\nAbove LWRP resource will create an icinga `Host` object.\n\n\n**LWRP Host Template example**\n\n\ticinga2_host 'generic-host' do\n\t  template true\n\t  max_check_attempts 5\n\t  check_interval '1m'\n\t  retry_interval '30s'\n\t  check_command 'hostalive'\n\tend\n\nAbove LWRP resource will create an icinga `Host` template - `generic-host`.\n\n\n**LWRP Options**\n\n\n- *action* (optional)\t\t\t- default :create, options: :create, :delete, :reload\n- *display_name* (optional)\t- icinga `Host` object import template attribute\n- *import* (optional)\t- icinga `Host` object import template attribute\n- *address* (optional)\t- icinga `Host` object import template attribute\n- *address6* (optional)\t- icinga `Host` object import template attribute\n- *groups* (optional)\t- icinga `Host` object import template attribute\n- *check_command* (optional)\t- icinga `Host` object attribute `check_command`\n- *max_check_attempts* (optional)\t- icinga `Host` object attribute `max_check_attempts`\n- *check_period* (optional)\t- icinga `Host` object attribute `check_period`\n- *check_interval* (optional)\t- icinga `Host` object attribute `check_interval`\n- *retry_interval* (optional)\t- icinga `Host` object attribute `retry_interval`\n- *enable_notifications* (optional)\t- icinga `Host` object attribute `enable_notifications`\n- *enable_active_checks* (optional)\t- icinga `Host` object attribute `enable_active_checks`\n- *enable_passive_checks* (optional)\t- icinga `Host` object attribute `enable_passive_checks`\n- *enable_passive_checks* (optional)\t- icinga `Host` object attribute `enable_passive_checks`\n- *enable_event_handler* (optional)\t- icinga `Host` object attribute `enable_event_handler`\n- *enable_flapping* (optional)\t- icinga `Host` object attribute `enable_flapping`\n- *enable_perfdata* (optional)\t- icinga `Host` object attribute `enable_perfdata`\n- *event_command* (optional)\t- icinga `Host` object attribute `event_command`\n- *flapping_threshold* (optional)\t- icinga `Host` object attribute `flapping_threshold`\n- *volatile* (optional)\t- icinga `Host` object attribute `volatile`\n- *zone* (optional)\t- icinga `Host` object attribute `zone`\n- *command_endpoint* (optional)\t- icinga `Host` object attribute `command_endpoint`\n- *notes* (optional)\t- icinga `Host` object attribute `notes`\n- *notes_url* (optional)\t- icinga `Host` object attribute `notes_url`\n- *action_url* (optional)\t- icinga `Host` object attribute `action_url`\n- *icon_image* (optional)\t- icinga `Host` object attribute `icon_image`\n- *icon_image_alt* (optional)\t- icinga `Host` object attribute `icon_image_alt`\n- *custom_vars* (optional)\t- icinga `Host` object attribute `vars`\n- *tempalte* (optional)\t- whether to create a `Host` template\n\n\n## LWRP icinga2_hostgroup\n\nLWRP `hostgroup` creates an icinga `HostGroup` object.\n\n\n**LWRP HostGroup example**\n\n\ticinga2_hostgroup 'hostgroup_name' do\n\t  disaply_name 'Host Group'\n\t  groups ['othergroup']\n\t  assign_where ['\"hostgroup_name\" in host.vars.hostgroups']\n\t  ignore_where ['\"hostgroup_name\" in host.vars.hostgroups']\n\tend\n\nAbove LWRP resource will create an icinga `HostGroup` object.\n\n\n**LWRP Options**\n\n- *action* (optional)\t- default :enable, options: :enable, :disable\n- *display_name* (optional)\t- icinga `HostGroup` attribute `display_name`\n- *groups* (optional)\t- icinga `HostGroup` attribute `groups`\n- *assign_where* (optional)\t - an array of `assign where` statements\n- *ignore_where* (optional)\t - an array of `ignore where` statements\n\n\n## LWRP icinga2_service\n\n\nLWRP `service` creates an icinga `Service` object or template.\n\n\n**LWRP Service Object example**\n\n\ticinga2_service 'redis-ec.abcdef.0001.apse1.cache.amazonaws.com_service_check' do\n\t  display_name 'Production Redis Service Check'\n\t  host_name 'redis-ec.abcdef.0001.apse1.cache.amazonaws.com'\n\t  check_command 'tcp'\n\t  custom_vars :tcp_port => 6379\n\tend\n\n\nAbove LWRP resource will create an icinga `Service` object for a host tcp port check.\n\n\n**LWRP Service Template example**\n\n\ticinga2_service 'generic-service' do\n\t  template true\n\t  max_check_attempts 5\n\t  check_interval '1m'\n\t  retry_interval '30s'\n\tend\n\nAbove LWRP resource will create an icinga `Service` template object for a `generic-service` `Service`.\n\n\n**LWRP Options**\n\n\n- *action* (optional)\t- default :create, options: :create, :delete, :reload\n- *display_name* (optional)\t- icinga `Service` object attribute `display_name`\n- *import* (optional)\t- icinga `Service` object attribute `import`\n- *host_name* (optional)\t- icinga `Service` object attribute `host_name`\n- *groups* (optional)\t- icinga `Service` object attribute `groups`\n- *check_command* (optional)\t- icinga `Service` object attribute `check_command`\n- *max_check_attempts* (optional)\t- icinga `Service` object attribute `max_check_attempts`\n- *check_period* (optional)\t- icinga `Service` object attribute `check_period`\n- *check_interval* (optional)\t- icinga `Service` object attribute `check_interval`\n- *retry_interval* (optional)\t- icinga `Service` object attribute `retry_interval`\n- *enable_notifications* (optional)\t- icinga `Service` object attribute `enable_notifications`\n- *enable_active_checks* (optional)\t- icinga `Service` object attribute `enable_active_checks`\n- *enable_passive_checks* (optional)\t- icinga `Service` object attribute `enable_passive_checks`\n- *enable_passive_checks* (optional)\t- icinga `Service` object attribute `enable_passive_checks`\n- *enable_event_handler* (optional)\t- icinga `Service` object attribute `enable_event_handler`\n- *enable_flapping* (optional)\t- icinga `Service` object attribute `enable_flapping`\n- *enable_perfdata* (optional)\t- icinga `Service` object attribute `enable_perfdata`\n- *event_command* (optional)\t- icinga `Service` object attribute `event_command`\n- *flapping_threshold* (optional)\t- icinga `Service` object attribute `flapping_threshold`\n- *volatile* (optional)\t- icinga `Service` object attribute `volatile`\n- *zone* (optional)\t- icinga `Service` object attribute `zone`\n- *command_endpoint* (optional)\t- icinga `Service` object attribute `command_endpoint`\n- *notes* (optional)\t- icinga `Service` object attribute `notes`\n- *notes_url* (optional)\t- icinga `Service` object attribute `notes_url`\n- *action_url* (optional)\t- icinga `Service` object attribute `action_url`\n- *icon_image* (optional)\t- icinga `Service` object attribute `icon_image`\n- *icon_image_alt* (optional)\t- icinga `Service` object attribute `icon_image_alt`\n- *custom_vars* (optional)\t- icinga `Service` object attribute `vars`\n- *tempalte* (optional)\t- whether to create a `Service` template\n\n\n## LWRP icinga2_applyservice\n\nLWRP `service` creates an icinga `Service` object or template.\n\n\n**LWRP Apply Service Object example**\n\n\ticinga2_applyservice 'nrpe_check_load' do\n\t  display_name 'CPU Average Load'\n\t  object_name 'nrpe_check_load'\n\t  import 'generic-service'\n\t  check_command 'nrpe'\n\t  custom_vars :nrpe_command => 'check_load'\n\t  assign_where ['host.vars.nrpe']\n\t  check_interval '1m'\n\t  retry_interval '15s'\n\t  max_check_attempts 3\n\t  action_url '/pnp4nagios/graph?host=$HOSTNAME$&srv=$SERVICEDESC$'\n\tend\n\nAbove LWRP resource will apply an icinga `Service` object to all `Hosts` with custom vars `host.vars.nrpe`.\n\n\n**LWRP Options**\n\n\n- *action* (optional)\t- default :create, options: :create, :delete, :reload\n- *display_name* (optional)\t- icinga `Service` object attribute `display_name`\n- *import* (optional)\t- icinga `Service` object attribute `import`\n- *host_name* (optional)\t- icinga `Service` object attribute `host_name`\n- *groups* (optional)\t- icinga `Service` object attribute `groups`\n- *check_command* (optional)\t- icinga `Service` object attribute `check_command`\n- *max_check_attempts* (optional)\t- icinga `Service` object attribute `max_check_attempts`\n- *check_period* (optional)\t- icinga `Service` object attribute `check_period`\n- *check_interval* (optional)\t- icinga `Service` object attribute `check_interval`\n- *retry_interval* (optional)\t- icinga `Service` object attribute `retry_interval`\n- *enable_notifications* (optional)\t- icinga `Service` object attribute `enable_notifications`\n- *enable_active_checks* (optional)\t- icinga `Service` object attribute `enable_active_checks`\n- *enable_passive_checks* (optional)\t- icinga `Service` object attribute `enable_passive_checks`\n- *enable_passive_checks* (optional)\t- icinga `Service` object attribute `enable_passive_checks`\n- *enable_event_handler* (optional)\t- icinga `Service` object attribute `enable_event_handler`\n- *enable_flapping* (optional)\t- icinga `Service` object attribute `enable_flapping`\n- *enable_perfdata* (optional)\t- icinga `Service` object attribute `enable_perfdata`\n- *event_command* (optional)\t- icinga `Service` object attribute `event_command`\n- *flapping_threshold* (optional)\t- icinga `Service` object attribute `flapping_threshold`\n- *volatile* (optional)\t- icinga `Service` object attribute `volatile`\n- *zone* (optional)\t- icinga `Service` object attribute `zone`\n- *command_endpoint* (optional)\t- icinga `Service` object attribute `command_endpoint`\n- *notes* (optional)\t- icinga `Service` object attribute `notes`\n- *notes_url* (optional)\t- icinga `Service` object attribute `notes_url`\n- *action_url* (optional)\t- icinga `Service` object attribute `action_url`\n- *icon_image* (optional)\t- icinga `Service` object attribute `icon_image`\n- *icon_image_alt* (optional)\t- icinga `Service` object attribute `icon_image_alt`\n- *custom_vars* (optional)\t- icinga `Service` object attribute `vars`\n- *assign_where* (optional)\t - an array of `assign where` statements\n- *ignore_where* (optional)\t - an array of `ignore where` statements\n\n\n## LWRP icinga2_servicegroup\n\nLWRP `servicegroup` creates an icinga `ServiceGroup` object.\n\n\n**LWRP ServiceGroup example**\n\n\ticinga2_servicegroup 'servicegroup_name' do\n\t  disaply_name 'Service Group'\n\t  groups ['othergroup']\n\t  assign_where ['\"servicegroup_name\" in host.vars.servicegroups']\n\t  ignore_where ['\"servicegroup_name\" in host.vars.servicegroups']\n\tend\n\nAbove LWRP resource will create an icinga `ServiceGroup` object.\n\n\n**LWRP Options**\n\n- *action* (optional)\t- default :enable, options: :enable, :disable\n- *display_name* (optional)\t- icinga `ServiceGroup` attribute `display_name`\n- *groups* (optional)\t- icinga `ServiceGroup` attribute `groups`\n- *assign_where* (optional)\t - an array of `assign where` statements\n- *ignore_where* (optional)\t - an array of `ignore where` statements\n\n\n## LWRP icinga2_feature\n\nLWRP `feature` enable or disable an icinga `Feature`.\n\n\n**LWRP Feature enable example**\n\n\ticinga2_feature 'feature'\n\nAbove LWRP resource will enable an icinga `Feature`.\n\n\n**LWRP Feature disable example**\n\n\ticinga2_feature 'feature' do\n\t  action :disable\n\tend\n\nAbove LWRP resource will disable an icinga `Feature`.\n\n\n**LWRP Options**\n\n- *name*(name_attribute)\t- icinga2 feature name\n- *action* (optional)\t- default :enable, options: :enable, :disable\n\n\n## LWRP icinga2_user\n\nLWRP `user` creates an icinga `User` object.\n\n\n**LWRP User Object example**\n\n\ticinga2_user 'user_name' do\n\t  import 'generic-user'\n\t  enable_notifications true\n\t  states %w(OK Warning Critical Unknown Up Down)\n\t  types %w(DowntimeStart DowntimeEnd DowntimeRemoved Custom Acknowledgement Problem Recovery FlappingStart FlappingEnd)\n\t  display_name 'User Info'\n\t  groups %w(usergroup)\n\t  email 'user@domain'\n\tend\n\n\nAbove LWRP resource will create an icinga `User` object.\n\n**LWRP User Template example**\n\n\ticinga2_user 'generic-user' do\n\t  template true\n\tend\n\nAbove LWRP resource will create an icinga `User` template.\n\n\n**LWRP Options**\n\n- *action* (optional)\t- default :enable, options: :enable, :disable\n- *display_name* (optional)\t- icinga `User` attribute `display_name`\n- *import* (optional)\t- icinga `User` attribute `import`\n- *groups* (optional)\t- icinga `User` attribute `groups`\n- *email* (optional)\t- icinga `User` attribute `email`\n- *pager* (optional)\t- icinga `User` attribute `pager`\n- *period* (optional)\t- icinga `User` attribute `period`\n- *states* (optional)\t- icinga `User` attribute `states`\n- *types* (optional)\t- icinga `User` attribute `types`\n- *zone* (optional)\t- icinga `User` attribute `zone`\n- *custom_vars* (optional)\t- icinga `User` attribute `vars`\n- *enable_notifications* (optional)\t- icinga `User` attribute `enable_notifications`\n- *template* (optional)\t- whether to create a `User` template\n\n\n## LWRP icinga2_usergroup\n\nLWRP `usergroup` creates an icinga `UserGroup` object.\n\n\n**LWRP UserGroup example**\n\n\ticinga2_usergroup 'usergroup_name' do\n\t  disaply_name 'User Group'\n\t  groups ['usergroup']\n\t  zone 'zone_name'\n\tend\n\nAbove LWRP resource will create an icinga `UserGroup` object.\n\n\n**LWRP Options**\n\n- *action* (optional)\t- default :enable, options: :enable, :disable\n- *display_name* (optional)\t- icinga `UserGroup` attribute `display_name`\n- *groups* (optional)\t- icinga `UserGroup` attribute `groups`\n- *zone* (optional)\t- icinga `UserGroup` attribute `zone`\n\n\n## LWRP icinga2_zone\n\nLWRP `zone` creates an icinga `Zone` object.\n\n\n**LWRP Zone example**\n\n\ticinga2_zone 'zone' do\n\t  endpoints %w(endpoint)\n\t  parent 'parent endpoint'\n\tend\n\nAbove LWRP resource will create an icinga `Zone` object.\n\n\n**LWRP Options**\n\n- *action* (optional)\t- default :enable, options: :enable, :disable\n- *endpoints* (optional)\t- icinga `Zone` attribute `endpoints`\n- *parent* (optional)\t- icinga `Zone` attribute `parent`\n\n\n## LWRP icinga2_endpoint\n\nLWRP `endpoint` creates an icinga `Endpoint` object.\n\n\n**LWRP Endpoint example**\n\n\ticinga2_endpoint 'endpoint' do\n\t  host 'host address'\n\t  port 'port'\n\t  log_duration 'log duration'\n\tend\n\nAbove LWRP resource will create an icinga `Endpoint` object.\n\n\n**LWRP Options**\n\n- *action* (optional)\t- default :enable, options: :enable, :disable\n- *host* (optional)\t- icinga `Endpoint` attribute `host`\n- *port* (optional)\t- icinga `Endpoint` attribute `port`\n- *log_duration* (optional)\t- icinga `Endpoint` attribute `log_duration`\n\n\n## LWRP icinga2_timeperiod\n\nLWRP `timeperiod` creates an icinga `TimePeriod` object.\n\n\n**LWRP TimePeriod example**\n\n\ticinga2_timeperiod '24x7' do\n\t  import 'legacy-timeperiod'\n\t  display_name 'Icinga 2 24x7 TimePeriod'\n\t  ranges 'monday' => '00:00-24:00',\n\t\t'tuesday' => '00:00-24:00',\n\t\t'wednesday' => '00:00-24:00',\n\t\t'thursday' => '00:00-24:00',\n\t\t'friday' => '00:00-24:00',\n\t\t'saturday' => '00:00-24:00',\n\t\t'sunday' => '00:00-24:00'\n\tend\n\nAbove LWRP resource will create an icinga `TimePeriod` object.\n\n**LWRP TimePeriod template**\n\n\ticinga2_timeperiod 'legacy-timeperiod' do\n\t  template true\n\t  display_name 'legacy-timeperiod'\n\tend\n\nAbove LWRP resource will create an icinga `TimePeriod` template.\n\n\n**LWRP Options**\n\n- *action* (optional)\t- default :enable, options: :enable, :disable\n- *display_name* (optional)\t- icinga `TimePeriod` attribute `display_name`\n- *import* (optional)\t- icinga `TimePeriod` attribute `import`\n- *zone* (optional)\t- icinga `TimePeriod` attribute `zone`\n- *ranges* (optional)\t- icinga `TimePeriod` attribute `ranges`\n- *template* (optional)\t- whether to create an icinga `TimePeriod` template\n\n\n## LWRP icinga2_eventcommand\n\nLWRP `eventcommand` creates an icinga `EventCommand` object.\n\n\n**LWRP EventCommand example**\n\n\ticinga2_eventcommand 'eventcommand' do\n\t  command 'command name'\n\t  custom_vars :attribute => 'value'\n\tend\n\nAbove LWRP resource will create an icinga `EventCommand` object.\n\n\n**LWRP Options**\n\n- *action* (optional)\t- default :enable, options: :enable, :disable\n- *import* (optional)\t- icinga `EventCommand` attribute `import`\n- *command* (optional)\t- icinga `EventCommand` attribute `command`\n- *env* (optional)\t- icinga `EventCommand` attribute `env`\n- *timeout* (optional)\t- icinga `EventCommand` attribute `timeout`\n- *arguments* (optional)\t- icinga `EventCommand` attribute `arguments`\n- *custom_vars* (optional)\t- icinga `EventCommand` attribute `custom_vars`\n\n\n## LWRP icinga2_checkcommand\n\n\nLWRP `checkcommand` creates an icinga `CheckCommand` object.\n\n\n**LWRP CheckCommand example**\n\n\ticinga2_checkcommand 'eventcommand' do\n\t  command 'command name'\n\t  env :attribute => 'value'\n\t  arguments :attribute => 'value'\n\t  custom_vars :attribute => 'value'\n\t  zone 'zone name'\n\tend\n\nAbove LWRP resource will create an icinga `CheckCommand` object.\n\n\n**LWRP Options**\n\n- *action* (optional)\t- default :enable, options: :enable, :disable\n- *import* (optional)\t- icinga `CheckCommand` attribute `import`\n- *command* (optional)\t- icinga `CheckCommand` attribute `command`\n- *env* (optional)\t- icinga `CheckCommand` attribute `env`\n- *timeout* (optional)\t- icinga `CheckCommand` attribute `timeout`\n- *zone* (optional)\t- icinga `CheckCommand` attribute `zone`\n- *arguments* (optional)\t- icinga `CheckCommand` attribute `arguments`\n- *custom_vars* (optional)\t- icinga `CheckCommand` attribute `custom_vars`\n\n\n## LWRP icinga2_scheduleddowntime\n\n\nLWRP `scheduleddowntime` creates an icinga `ScheduledDowntime` object.\n\n\n**LWRP ScheduledDowntime example**\n\n\ticinga2_scheduleddowntime 'downtime' do\n\t  host_name 'host name'\n\t  service_name 'service name'\n\t  author 'author'\n\t  comment 'comment'\n\t  duration 'duration'\n\tend\n\nAbove LWRP resource will create an icinga `ScheduledDowntime` object.\n\n\n**LWRP Options**\n\n- *action* (optional)\t- default :enable, options: :enable, :disable\n- *host_name* (optional)\t- icinga `ScheduledDowntime` attribute `host_name`\n- *service_name* (optional)\t- icinga `ScheduledDowntime` attribute `service_name`\n- *author* (optional)\t- icinga `ScheduledDowntime` attribute `author`\n- *comment* (optional)\t- icinga `ScheduledDowntime` attribute `comment`\n- *fixed* (optional)\t- icinga `ScheduledDowntime` attribute `fixed`\n- *duration* (optional)\t- icinga `ScheduledDowntime` attribute `duration`\n- *zone* (optional)\t- icinga `ScheduledDowntime` attribute `zone`\n- *ranges* (optional)\t- icinga `ScheduledDowntime` attribute `ranges`\n- *template* (optional)\t- whether to create an icinga `ScheduledDowntime` template\n\n\n## LWRP icinga2_externalcommandlistener\n\nLWRP `externalcommandlistener` creates an icinga `ExternalCommandListener` object.\n\n\n**LWRP ExternalCommandListener example**\n\n\ticinga2_externalcommandlistener 'externalcommandlistener' do\n\t  library 'library'\n\t  command_path 'command path'\n\tend\n\nAbove LWRP resource will create an icinga `ExternalCommandListener` config object.\n\n\n**LWRP Options**\n\n- *action* (optional)\t- default :enable, options: :enable, :disable\n- *library* (optional)\t- default 'compat', icinga `ExternalCommandListener` attribute `library`\n- *command_path* (optional)\t- icinga `ExternalCommandListener` attribute `command_path`\n\n\n## LWRP icinga2_gelfwriter\n\nLWRP `gelfwriter` creates an icinga `GelfWriter` object.\n\n\n**LWRP GelfWrite example**\n\n\ticinga2_gelfwriter 'gelfwriter' do\n\t  library 'library'\n\t  host 'host address'\n\t  port 'port'\n\t  source 'source'\n\tend\n\nAbove LWRP resource will create an icinga `GelfWriter` config object.\n\n\n**LWRP Options**\n\n- *action* (optional)\t- default :enable, options: :enable, :disable\n- *library* (optional)\t- default 'perfdata', icinga `GelfWriter` attribute `library`\n- *host* (optional)\t- icinga `GelfWriter` attribute `host`\n- *port* (optional)\t- icinga `GelfWriter` attribute `port`\n- *source* (optional)\t- icinga `GelfWriter` attribute `source`\n\n\n## LWRP icinga2_graphitewriter\n\nLWRP `graphitewriter` creates an icinga `GraphiteWriter` object.\n\n\n**LWRP GraphiteWriter example**\n\n\ticinga2_graphitewriter 'graphitewriter' do\n\t  library 'library'\n\t  host 'host address'\n\t  port 'port'\n\tend\n\nAbove LWRP resource will create an icinga `GraphiteWriter` config object.\n\n\n**LWRP Options**\n\n- *action* (optional)\t- default :enable, options: :enable, :disable\n- *library* (optional)\t- default 'perfdata', icinga `GraphiteWriter` attribute `library`\n- *host* (optional)\t- icinga `GraphiteWriter` attribute `host`\n- *port* (optional)\t- icinga `GraphiteWriter` attribute `port`\n- *host_name_template* (optional)\t- icinga `GraphiteWriter` attribute `host_name_template`\n- *service_name_template* (optional)\t- icinga `GraphiteWriter` attribute `service_name_template`\n\n\n## LWRP icinga2_idomysqlconnection\n\nLWRP `idomysqlconnection` creates an icinga `IdoMySqlConnection` object.\n\n\n**LWRP IdoMySqlConnection example**\n\n\ticinga2_idomysqlconnection 'idomysqlconnection' do\n\t  library 'library'\n\t  host 'host address'\n\t  port 'port'\n\t  user 'user name'\n\t  password 'password'\n\t  database 'database name'\n\tend\n\nAbove LWRP resource will create an icinga `IdoMySqlConnection` config object.\n\n\n**LWRP Options**\n\n- *action* (optional)\t- default :enable, options: :enable, :disable\n- *library* (optional)\t- default 'db_ido_mysql', icinga `IdoMySqlConnection` attribute `library`\n- *host* (optional)\t- icinga `IdoMySqlConnection` attribute `host`\n- *port* (optional)\t- icinga `IdoMySqlConnection` attribute `port`\n- *user* (optional)\t- icinga `IdoMySqlConnection` attribute `user`\n- *password* (optional)\t- icinga `IdoMySqlConnection` attribute `password`\n- *database* (optional)\t- icinga `IdoMySqlConnection` attribute `database`\n- *table_prefix* (optional)\t- icinga `IdoMySqlConnection` attribute `table_prefix`\n- *instance_name* (optional)\t- icinga `IdoMySqlConnection` attribute `instance_name`\n- *instance_description* (optional)\t- icinga `IdoMySqlConnection` attribute `instance_description`\n- *enable_ha* (optional)\t- icinga `IdoMySqlConnection` attribute `enable_ha`\n- *failover_timeout* (optional)\t- icinga `IdoMySqlConnection` attribute `failover_timeout`\n- *enable_ha* (optional)\t- icinga `IdoMySqlConnection` attribute `enable_ha`\n- *cleanup* (optional)\t- icinga `IdoMySqlConnection` attribute `cleanup`\n- *categories* (optional)\t- icinga `IdoMySqlConnection` attribute `categories`\n\n\n## LWRP icinga2_idopgsqlconnection\n\nLWRP `idopgsqlconnection` creates an icinga `IdoPgSqlConnection` object.\n\n\n**LWRP IdoPgSqlConnection example**\n\n\ticinga2_idopgsqlconnection 'idopgsqlconnection' do\n\t  library 'library'\n\t  host 'host address'\n\t  port 'port'\n\t  user 'user name'\n\t  password 'password'\n\t  database 'database name'\n\tend\n\nAbove LWRP resource will create an icinga `IdoPgSqlConnection` config object.\n\n\n**LWRP Options**\n\n- *action* (optional)\t- default :enable, options: :enable, :disable\n- *library* (optional)\t- default 'db_ido_mysql', icinga `IdoPgSqlConnection` attribute `library`\n- *host* (optional)\t- icinga `IdoPgSqlConnection` attribute `host`\n- *port* (optional)\t- icinga `IdoPgSqlConnection` attribute `port`\n- *user* (optional)\t- icinga `IdoPgSqlConnection` attribute `user`\n- *password* (optional)\t- icinga `IdoPgSqlConnection` attribute `password`\n- *database* (optional)\t- icinga `IdoPgSqlConnection` attribute `database`\n- *table_prefix* (optional)\t- icinga `IdoPgSqlConnection` attribute `table_prefix`\n- *instance_name* (optional)\t- icinga `IdoPgSqlConnection` attribute `instance_name`\n- *instance_description* (optional)\t- icinga `IdoPgSqlConnection` attribute `instance_description`\n- *enable_ha* (optional)\t- icinga `IdoPgSqlConnection` attribute `enable_ha`\n- *failover_timeout* (optional)\t- icinga `IdoPgSqlConnection` attribute `failover_timeout`\n- *enable_ha* (optional)\t- icinga `IdoPgSqlConnection` attribute `enable_ha`\n- *cleanup* (optional)\t- icinga `IdoPgSqlConnection` attribute `cleanup`\n- *categories* (optional)\t- icinga `IdoPgSqlConnection` attribute `categories`\n\n\n## LWRP icinga2_sysloglogger\n\nLWRP `sysloglogger` creates an icinga `SyslogLogger` object.\n\n\n**LWRP SyslogLogger example**\n\n\ticinga2_sysloglogger 'sysloglogger' do\n\t  severity 'critical'\n\tend\n\nAbove LWRP resource will create an icinga `SyslogLogger` object.\n\n\n**LWRP Options**\n\n- *name*(name_attribute)\t- icinga `SyslogLogger` name\n- *severity* (optional)\t- icinga `SyslogLogger` attribute `port`\n\n\n## LWRP icinga2_applynotification\n\n To be added.\n\n\n## LWRP icinga2_notification\n\n To be added.\n\n\n## LWRP icinga2_notificationcommand\n\n To be added.\n\n\n## LWRP icinga2_applydependency\n\n To be added.\n\n\n\n## Cookbook Advanced Attributes\n\n* `default['icinga2']['disable_conf_d']` (default: `false`): disable icinga2 `conf.d` default configuration and use LWRP to manage icinga2 objects / templates\n\n* `default['icinga2']['add_cloud_custom_vars']` (default: `true`): add cloud node attributes, limited cloud provider support is available\n\n* `default['icinga2']['enable_features_recipe']` (default: `false`): manage icinga2 features via node attribute `node['icinga2']['enable_features']`\n\n* `default['icinga2']['features_enabled_dir']` (default: `/etc/icinga2/features-enabled`): icinga2 enabled features location\n\n* `default['icinga2']['features_available_dir']` (default: `/etc/icinga2/features-available`): icinga2 available features location\n\n* `default['icinga2']['cluster_attribute']` (default: `nil`): icinga2 node cluster attribute name to add node cluster attribute and value to node vars\n\n* `default['icinga2']['application_attribute']` (default: `nil`): icinga2 node application attribute name to add node application attribute and value to node vars\n\n* `default['icinga2']['enable_cluster_hostgroup']` (default: `true`): creates icinga2 HostGroup Objects for environment clusters\n\n* `default['icinga2']['enable_application_hostgroup']` (default: `true`): creates icinga2 HostGroup Objects for environment application types\n\n* `default['icinga2']['enable_role_hostgroup']` (default: `false`): creates icinga2 HostGroup Objects for environment roles\n\n* `default['icinga2']['limit_region']` (default: `true`): whether to limit monitoring to icinga2 server region, e.g. for ec2 collect nodes belongs to same region\n\n* `default['icinga2']['use_fqdn_resolv']` (default: `false`): whether to determine node `address` from fqdn\n\n* `default['icinga2']['failover_fqdn_address']` (default: `true`): whether to use ohai attribute `node['ipaddress']` if node fqdn does not exists\n\n* `default['icinga2']['ignore_node_error']` (default: `false`): whether to ignore node errors if node fqdn, hostname and chef_environment is missing while collecting for a chef environment\n\n* `default['icinga2']['ignore_resolv_error']` (default: `true`): whether to ignore node fqdn resolve errors while collecting for a chef environment\n\n* `default['icinga2']['web_engine']` (default: `'apache'): icinga2 web server, currently supports only apache\n\n* `default['icinga2']['install_nagios_plugins']` (default: `true`): install nagios plugins to icinga2 server and clients\n\n* `default['icinga2']['features']` (default: `[available features]`): list of icinga2 available features\n\n* `default['icinga2']['enable_features']` (default: `[checker command compatlog mainlog notification statusdata perfdata]`): icinga2 enabled features\n\n\n## Cookbook Core Attributes\n\n* `default['icinga2']['version']` (default: `2.2.2-1`): icinga2 version\n\n* `default['icinga2']['conf_dir']` (default: `/etc/icinga2`): icinga2 configuration location\n\n* `default['icinga2']['conf_d_dir']` (default: `/etc/icinga2/conf.d`): icinga2 conf.d directory location\n\n* `default['icinga2']['pki_dir']` (default: `/etc/icinga2/pki`): icinga2 pki directory location\n\n* `default['icinga2']['scripts_dir']` (default: `/etc/icinga2/scripts`): icinga2 script directory location\n\n* `default['icinga2']['zones_dir']` (default: `/etc/icinga2/zones.d`): icinga2 zones.d directory location\n\n* `default['icinga2']['databag']` (default: `'icinga2'): icinga2 databag name, currently not used\n\n* `default['icinga2']['objects_d']` (default: `'objects.d`): cookbook created icinga2 Object/Templates resources directory name\n\n* `default['icinga2']['objects_dir']` (default: `/etc/icinga2/objects.d`): cookbook created icinga2 Object/Templates resources directory location\n\n* `default['icinga2']['run_dir']` (default: `/var/run/icinga2`): icinga2 run directory\n\n* `default['icinga2']['run_cmd_dir']` (default: `/var/run/icinga2/cmd`): icinga2 location for process `icinga2.cmd`\n\n* `default['icinga2']['cache_dir']` (default: `/var/cache/icinga2`): icinga2 cache directory location\n\n* `default['icinga2']['spool_dir']` (default: `/var/spool/icinga2`): icinga2 spool directory location\n\n* `default['icinga2']['lib_dir']` (default: `/var/lib/icinga2`): icinga2 lib directory location\n\n* `default['icinga2']['log_dir']` (default: `/var/log/icinga2`): icinga2 core process log directory location\n\n* `default['icinga2']['cache_dir']` (default: `/var/cache/icinga2`): icinga2 cache directory location\n\n* `default['icinga2']['service_name']` (default: `icinga2'`): icinga2 process name*\n\n* `default['icinga2']['service_config_file']` (default: `/etc/default/icinga2`): icinga2 * process configuration file\n\n* `default['icinga2']['plugins_dir']` (default: `/usr/lib/nagios/plugins`): icinga2 plugins directory location\n\n* `default['icinga2']['custom_plugins_dir']` (default: `/opt/icinga2_custom_plugins`): icinga2 custom plugins directory\n\n* `default['icinga2']['admin_user']` (default: `icingaadmin`): icinga2 admin user\n\n* `default['icinga2']['user']` (default: `icinga`): icinga2 user\n\n* `default['icinga2']['group']` (default: `icinga`): icinga2 user group\n\n* `default['icinga2']['cmdgroup']` (default: `icingacmd`): icinga2 cmd user group\n\n\n## Cookbook Icinga2 Constants Attributes\n\n\n* `default['icinga2']['server']['constants']['PluginDir']` (default: `node['icinga2']['plugins_dir']`): icinga2 plugins directory location\n\n* `default['icinga2']['server']['constants']['ManubulonPluginDir']` (default: `node['icinga2']['plugins_dir']`): icinga2 plugins directory location\n\n* `default['icinga2']['server']['constants']['TicketSalt']` (default: `ch2ng3m3`): icinga2 default TicketSalt key\n\n\n## Cookbook Icinga2 Host Object default Attributes\n\n* `default['icinga2']['server']['object']['host']['import']` (default: `'generic-host`)\n\n* `default['icinga2']['server']['object']['host']['max_check_attempts']` (default: `3`)\n\n* `default['icinga2']['server']['object']['host']['check_period']` (default: `nil`)\n\n* `default['icinga2']['server']['object']['host']['check_interval']` (default: `1800`)\n\n* `default['icinga2']['server']['object']['host']['retry_interval']` (default: `60`)\n\n* `default['icinga2']['server']['object']['host']['enable_notifications']` (default: `true`)\n\n* `default['icinga2']['server']['object']['host']['enable_active_checks']` (default: `true`)\n\n* `default['icinga2']['server']['object']['host']['enable_passive_checks']` (default: `false`)\n\n* `default['icinga2']['server']['object']['host']['enable_event_handler']` (default: `true`)\n\n* `default['icinga2']['server']['object']['host']['enable_flapping']` (default: `true`)\n\n* `default['icinga2']['server']['object']['host']['enable_perfdata']` (default: `true`)\n\n* `default['icinga2']['server']['object']['host']['event_command']` (default: `nil`)\n\n* `default['icinga2']['server']['object']['host']['flapping_threshold']` (default: `nil`)\n\n* `default['icinga2']['server']['object']['host']['volatile']` (default: `nil`)\n\n* `default['icinga2']['server']['object']['host']['check_command']` (default: `hostalive`)\n\n* `default['icinga2']['server']['object']['host']['zone']` (default: `nil`)\n\n* `default['icinga2']['server']['object']['host']['command_endpoint']` (default: `nil`)\n\n* `default['icinga2']['server']['object']['host']['zone_attribute']` (default: `icinga2_zone`)\n\n\n\n\n## Cookbook Ulimit Attributes\n\n * `default[:icinga2][:limits][:memlock]` (default: `unlimited`): Icinga2 service user memory limit\n\n * `default[:icinga2][:limits][:nofile]` (default: `48000`): Icinga2 service user file limit\n\n * `default[:icinga2][:limits][:nproc]` (default: `unlimited`): Icinga2 service user process limit\n\n\n## Cookbook Repository Attributes\n\n* `default['icinga2']['yum']['description']` (default: `ICINGA Stable Release'):\n\n* `default['icinga2']['yum']['mirrorlist']` (default: `nil`):\n\n* `default['icinga2']['yum']['gpgcheck']` (default: `true`):\n\n* `default['icinga2']['yum']['enabled']` (default: `true`):\n\n* `default['icinga2']['yum']['gpgkey']` (default: `http://packages.icinga.org/icinga.key`):\n\n* `default['icinga2']['yum']['action']` (default: `:create`):\n\n* `default['icinga2']['yum']['baseurl']` (default: ``):\n\n* `default['icinga2']['apt']['repo']` (default: `ICINGA Stable Release`):\n\n* `default['icinga2']['apt']['uri']` (default: `http://ppa.launchpad.net/formorer/icinga/ubuntu`):\n\n* `default['icinga2']['apt']['distribution']` (default: `node['lsb']['codename']`):\n\n* `default['icinga2']['apt']['keyserver']` (default: `keyserver.ubuntu.com`):\n\n* `default['icinga2']['apt']['components']` (default: `[main]`):\n\n* `default['icinga2']['apt']['deb_src']` (default: `true`):\n\n* `default['icinga2']['apt']['repo_key']` (default: `http://packages.icinga.org/icinga.key`):\n\n* `default['icinga2']['apt']['action']` (default: `:add`):\n\n\n## Cookbook Classic UI CGI Core Attributes\n\n* `default['icinga2']['classic_ui']['version']` (default: `2.2.2-1`): icinga2 classic-ui package version\n\n* `default['icinga2']['classic_ui']['gui_version']` (default: `1.12.0-0`): icinga2 gui package version\n\n* `default['icinga2']['classic_ui']['web_root']` (default: `/usr/share/icinga`): icinga2 web doc root directory location\n\n* `default['icinga2']['classic_ui']['home_dir']` (default: `/etc/icinga`): icinga2 classic ui configuration home directory location\n\n* `default['icinga2']['classic_ui']['conf_dir']` (default: `/etc/icinga`): icinga2 classic ui configuration directory location\n\n* `default['icinga2']['classic_ui']['log_dir']` (default: `/var/log/icinga`): icinga2 classic ui log directory location\n\n* `default['icinga2']['classic_ui']['cgi_log_dir']` (default: `/var/log/icinga/gui`): icinga2 gui log directory location\n\n\n## Cookbook Classic UI CGI User Access Attributes\n\n* `default['icinga2']['classic_ui']['users']` (default: `{ 'icingaadmin' => '$apr1$MZtKRLAy$AV9OiJ.V/mI9g30bHn9ol1' }`): Hash List of user => password (md5) for class ui access\n\n* `default['icinga2']['classic_ui']['authorized_for_system_information']` (default: `[node['icinga2']['admin_user']]`): Array list of users authorized for system information\n\n* `default['icinga2']['classic_ui']['authorized_for_configuration_information']` (default: `[node['icinga2']['admin_user']]`): Array list of users authorized for configuration information\n\n* `default['icinga2']['classic_ui']['authorized_for_full_command_resolution']` (default: `[node['icinga2']['admin_user']]`): Array list of users authorized for full command resolution\n\n* `default['icinga2']['classic_ui']['authorized_for_system_commands']` (default: `[node['icinga2']['admin_user']]`): Array list of users authorized for system commands\n\n* `default['icinga2']['classic_ui']['authorized_for_all_services']` (default: `[node['icinga2']['admin_user']]`): Array list of users authorized for all services\n\n* `default['icinga2']['classic_ui']['authorized_for_all_hosts']` (default: `[node['icinga2']['admin_user']]`): Array list of users authorized for all hosts\n\n* `default['icinga2']['classic_ui']['authorized_for_all_service_commands']` (default: `[node['icinga2']['admin_user']]`): Array list of users authorized for all service commands\n\n* `default['icinga2']['classic_ui']['authorized_for_all_host_commands']` (default: `[node['icinga2']['admin_user']]`): Array list of users authorized for all host commands\n\n\n## Cookbook Classic UI CGI Configuration Attributes\n\n* `default['icinga2']['classic_ui']['cgi']['standalone_installation']` (default: `1`)\n\n* `default['icinga2']['classic_ui']['cgi']['physical_html_path']` (default: `/usr/share/icinga`)\n\n* `default['icinga2']['classic_ui']['cgi']['url_html_path']` (default: `/icinga`)\n\n* `default['icinga2']['classic_ui']['cgi']['url_stylesheets_path']` (default: `/icinga/stylesheets`)\n\n* `default['icinga2']['classic_ui']['cgi']['http_charset']` (default: `utf-8`)\n\n* `default['icinga2']['classic_ui']['cgi']['refresh_rate']` (default: `60`)\n\n* `default['icinga2']['classic_ui']['cgi']['refresh_type']` (default: `1`)\n\n* `default['icinga2']['classic_ui']['cgi']['escape_html_tags']` (default: `1`)\n\n* `default['icinga2']['classic_ui']['cgi']['result_limit']` (default: `50`)\n\n* `default['icinga2']['classic_ui']['cgi']['show_tac_header']` (default: `1`)\n\n* `default['icinga2']['classic_ui']['cgi']['use_pending_states']` (default: `1`)\n\n* `default['icinga2']['classic_ui']['cgi']['first_day_of_week']` (default: `0`)\n\n* `default['icinga2']['classic_ui']['cgi']['suppress_maintenance_downtime']` (default: `0`)\n\n* `default['icinga2']['classic_ui']['cgi']['action_url_target']` (default: `main`)\n\n* `default['icinga2']['classic_ui']['cgi']['notes_url_target']` (default: `main`)\n\n* `default['icinga2']['classic_ui']['cgi']['use_authentication']` (default: `1`)\n\n* `default['icinga2']['classic_ui']['cgi']['use_ssl_authentication']` (default: `0`)\n\n* `default['icinga2']['classic_ui']['cgi']['lowercase_user_name']` (default: `0`)\n\n* `default['icinga2']['classic_ui']['cgi']['authorized_for_system_information']` (default: `node['icinga2']['classic_ui']['authorized_for_system_information'].join(',')`)\n\n* `default['icinga2']['classic_ui']['cgi']['authorized_for_configuration_information']` (default: `node['icinga2']['classic_ui']* ['authorized_for_configuration_information'].join(',')`)\n\n* `default['icinga2']['classic_ui']['cgi']['authorized_for_full_command_resolution']` (default: `node['icinga2']['classic_ui']['authorized_for_full_command_resolution'].join(',')`)\n\n* `default['icinga2']['classic_ui']['cgi']['authorized_for_system_commands']` (default: `node['icinga2']['classic_ui']['authorized_for_system_commands'].join(',')`)\n\n* `default['icinga2']['classic_ui']['cgi']['authorized_for_all_services']` (default: `node['icinga2']['classic_ui']['authorized_for_all_services'].join(',')`)\n\n* `default['icinga2']['classic_ui']['cgi']['authorized_for_all_hosts']` (default: `node['icinga2']['classic_ui']['authorized_for_all_hosts'].join(',')`)\n\n* `default['icinga2']['classic_ui']['cgi']['authorized_for_all_service_commands']` (default: `node['icinga2']['classic_ui']['authorized_for_all_service_commands'].join(',')`)\n\n* `default['icinga2']['classic_ui']['cgi']['authorized_for_all_host_commands']` (default: `node['icinga2']['classic_ui']['authorized_for_all_host_commands'].join(',')`)\n\n* `default['icinga2']['classic_ui']['cgi']['show_all_services_host_is_authorized_for']` (default: `1`)\n\n* `default['icinga2']['classic_ui']['cgi']['show_partial_hostgroups']` (default: `0`)\n\n* `default['icinga2']['classic_ui']['cgi']['show_partial_servicegroups']` (default: `0`)\n\n* `default['icinga2']['classic_ui']['cgi']['default_statusmap_layout']` (default: `5`)\n\n* `default['icinga2']['classic_ui']['cgi']['status_show_long_plugin_output']` (default: `0`)\n\n* `default['icinga2']['classic_ui']['cgi']['display_status_totals']` (default: `0`)\n\n* `default['icinga2']['classic_ui']['cgi']['highlight_table_rows']` (default: `1`)\n\n* `default['icinga2']['classic_ui']['cgi']['add_notif_num_hard']` (default: `28`)\n\n* `default['icinga2']['classic_ui']['cgi']['add_notif_num_soft']` (default: `0`)\n\n* `default['icinga2']['classic_ui']['cgi']['use_logging']` (default: `0`)\n\n* `default['icinga2']['classic_ui']['cgi']['cgi_log_file']` (default: `node['icinga2']['classic_ui']['cgi_log_dir']/icinga-cgi.log`)\n\n* `default['icinga2']['classic_ui']['cgi']['cgi_log_rotation_method']` (default: `d`)\n\n* `default['icinga2']['classic_ui']['cgi']['cgi_log_archive_path']` (default: `node['icinga2']['classic_ui']['cgi_log_dir']`)\n\n* `default['icinga2']['classic_ui']['cgi']['enforce_comments_on_actions']` (default: `0`)\n\n* `default['icinga2']['classic_ui']['cgi']['send_ack_notifications']` (default: `1`)\n\n* `default['icinga2']['classic_ui']['cgi']['persistent_ack_comments']` (default: `0`)\n\n* `default['icinga2']['classic_ui']['cgi']['lock_author_names']` (default: `1`)\n\n* `default['icinga2']['classic_ui']['cgi']['default_downtime_duration']` (default: `7200`)\n\n* `default['icinga2']['classic_ui']['cgi']['set_expire_ack_by_default']` (default: `0`)\n\n* `default['icinga2']['classic_ui']['cgi']['default_expiring_acknowledgement_duration']` (default: `86_400`)\n\n* `default['icinga2']['classic_ui']['cgi']['default_expiring_disabled_notifications_duration']` (default: `86_400`)\n\n* `default['icinga2']['classic_ui']['cgi']['tac_show_only_hard_state']` (default: `0`)\n\n* `default['icinga2']['classic_ui']['cgi']['show_tac_header_pending']` (default: `1`)\n\n* `default['icinga2']['classic_ui']['cgi']['exclude_customvar_name']` (default: `PASSWORD,COMMUNITY`)\n\n* `default['icinga2']['classic_ui']['cgi']['exclude_customvar_value']` (default: `secret`)\n\n* `default['icinga2']['classic_ui']['cgi']['extinfo_show_child_hosts']` (default: `)\n\n* `default['icinga2']['classic_ui']['cgi']['tab_friendly_titles']` (default: `1`)\n\n* `default['icinga2']['classic_ui']['cgi']['object_cache_file']` (default: `/var/cache/icinga2/objects.cache`)\n\n* `default['icinga2']['classic_ui']['cgi']['status_file']` (default: `node['icinga2']['cache_dir']/status.dat`)\n\n* `default['icinga2']['classic_ui']['cgi']['resource_file']` (default: `node['icinga2']['classic_ui']['conf_dir']/resource.cfg`)\n\n* `default['icinga2']['classic_ui']['cgi']['command_file']` (default: `node['icinga2']['run_dir']/cmd/icinga2.cmd`)\n\n* `default['icinga2']['classic_ui']['cgi']['check_external_commands']` (default: `1`)\n\n* `default['icinga2']['classic_ui']['cgi']['interval_length']` (default: `60`)\n\n* `default['icinga2']['classic_ui']['cgi']['status_update_interval']` (default: `10`)\n\n* `default['icinga2']['classic_ui']['cgi']['log_file']` (default: `node['icinga2']['log_dir']/compat/icinga.log`)\n\n* `default['icinga2']['classic_ui']['cgi']['log_rotation_method']` (default: `h`)\n\n* `default['icinga2']['classic_ui']['cgi']['log_archive_path']` (default: `node['icinga2']['log_dir']/compat/archives`)\n\n* `default['icinga2']['classic_ui']['cgi']['date_format']` (default: `us`)\n\n\n## Cookbook Dependencies\n\n* `ulimit` cookbook\n* `apache2` cookbook\n* `yum` cookbook\n* `apt` cookbook\n* `pnp4nagios` cookbook\n\n\n## Contributing\n\n1. Fork the repository on Github\n2. Create a named feature branch (like `add_component_x`)\n3. Write your change\n4. Write tests for your change (if applicable)\n5. Run the tests (`rake`), ensuring they all pass\n6. Write new resource/attribute description to `README.md`\n7. Write description about changes to PR\n8. Submit a Pull Request using Github\n\n\n## Copyright & License\n\nAuthors:: Virender Khatri and [Contributors]\n\n<pre>\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n</pre>\n\n\n[Icinga2]: https://www.icinga.org/\n[Chef]: https://www.chef.io/\n[Contributors]: https://github.com/vkhatri/chef-icinga2/graphs/contributors\n[Install]: https://github.com/icinga/icinga2/\n",
  "requires": [
    {
      "kind": "host",
      "label": "redhat",
      "revision": ">= 0.0.0",
      "one_of_group": "os"
    },
    {
      "kind": "host",
      "label": "centos",
      "revision": ">= 0.0.0",
      "one_of_group": "os"
    },
    {
      "kind": "host",
      "label": "amazon",
      "revision": ">= 0.0.0",
      "one_of_group": "os"
    },
    {
      "kind": "env",
      "uri": "https://supermarket.chef.io/cookbooks/apt",
      "revision": ">= 0.0.0",
      "self_resolve": true
    },
    {
      "kind": "env",
      "uri": "https://supermarket.chef.io/cookbooks/yum",
      "revision": "~> 3.0",
      "self_resolve": true
    },
    {
      "kind": "env",
      "uri": "https://supermarket.chef.io/cookbooks/apache2",
      "revision": ">= 0.0.0",
      "self_resolve": true
    },
    {
      "kind": "env",
      "uri": "https://supermarket.chef.io/cookbooks/ulimit",
      "revision": ">= 0.0.0",
      "self_resolve": true
    },
    {
      "kind": "env",
      "uri": "https://supermarket.chef.io/cookbooks/pnp4nagios",
      "revision": ">= 0.0.0",
      "self_resolve": true
    }
  ]
}