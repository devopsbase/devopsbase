{
  "name": "blackfire Chef cookbook",
  "chef_cookbook_name": "blackfire",
  "revision": "2.0.0",
  "uris": [
    "https://supermarket.chef.io/cookbooks/blackfire",
    "https://supermarket.chef.io/cookbooks/blackfire/download",
    "https://supermarket.chef.io/cookbooks/blackfire/versions/2.0.0",
    "https://supermarket.chef.io/cookbooks/blackfire/versions/2.0.0/download",
    "https://supermarket.chef.io/api/v1/cookbooks/blackfire/versions/2.0.0",
    "https://supermarket.chef.io/api/v1/cookbooks/blackfire",
    "https://supermarket.chef.io/api/v1/cookbooks/blackfire/versions/2.0.0/download"
  ],
  "labels": [
    "Chef cookbook",
    "Other",
    "Executable/Script/Chef Cookbook",
    "Mode/Executable/Script/Chef Cookbook"
  ],
  "info_url": "https://supermarket.chef.io/cookbooks/blackfire",
  "package_url": "https://supermarket.chef.io/api/v1/cookbooks/blackfire/versions/2.0.0/download",
  "deprecated": false,
  "created": "2014-10-24T20:01:06.265Z",
  "updated": "2015-05-13T08:34:08.672Z",
  "description": "Installs and configures blackfire stack",
  "maintainer": {
    "name": "blackfire",
    "email": "support@sensiolabs.com"
  },
  "license": "MIT",
  "chef_foodcritic_failure": true,
  "chef_up_for_adoption": null,
  "rating": null,
  "followers_count": 7,
  "downloads_count": 4163737,
  "downloads_count_revision": 394919,
  "repository_url": "https://github.com/blackfireio/blackfire-cookbook",
  "issues_url": "https://github.com/blackfireio/blackfire-cookbook/issues",
  "chef_source_url": "https://github.com/blackfireio/blackfire-cookbook",
  "gatherbase_origin": "chef-supermarket",
  "readme_name": "README.md",
  "readme": "Blackfire Cookbook\n===========================\n\nThis cookbook installs and configures the blackfire stack.\n\nRequirements\n------------\n\n#### Platform\n* Ubuntu (10.04/11.04/12.04/13.04/14.04)\n* Debian (6.0/7.0)\n* RedHat Based (CentOS 6.4 and Fedora 20 tested, others should work)\n\n#### cookbooks\n- apt\n- yum\n\nAttributes\n----------\n\nThe following attributes are available to affect the installation/configuration of the Backfire stack\n\n#### blackfire::default\n\n* `node['blackfire']['agent']['version']` - Sets which version of the agent to install. Default last version.\n* `node['blackfire']['agent']['server_id']` - Sets the Server ID to use for the agent (See https://blackfire.io/account/agents)\n* `node['blackfire']['agent']['server_token']` - Sets the Server Token to use for the agent (See https://blackfire.io/account/agents)\n* `node['blackfire']['agent']['log_level']` - Sets the logging level for the agent. Default 1\n* `node['blackfire']['agent']['log_file']` - Sets where the agent write logs. Default \"stderr\"\n* `node['blackfire']['agent']['socket']` - Sets where the socket the agent will listen to. Default \"unix:///var/run/blackfire/agent.sock\"\n\n#### blackfire::php\n* `node['blackfire']['php']['version']` - Sets which version of the PHP extension will be installed. Default last version.\n* `node['blackfire']['php']['agent_timeout']` - Sets the PHP extension timeout when communicating with the agent. Default '0.25'\n* `node['blackfire']['php']['log_level']` - Sets the logging level for the PHP extension.\n* `node['blackfire']['php']['log_file']` - Sets where the PHP extension write logs.\n* `node['blackfire']['php']['ini_path']` - Sets where the PHP configuration will be written.\n\nUsage\n-----\n#### blackfire::default\nAdd agent Server ID and token and include `blackfire` in your node's `run_list`:\n\n```json\n{\n  \"name\":\"my_node\",\n  \"run_list\": [\n    \"recipe[blackfire]\"\n  ],\n  \"blackfire\": {\n    \"agent\": {\n      \"server_id\": \"my-agent-server-id\",\n      \"server_token\": \"my-agent-server-token\"\n    }\n  }\n}\n```\n\n#### blackfire::agent\n\nUsed if you wish to install only the agent.\n\n#### blackfire::php\n\nUsed if you wish to install only the PHP extension.\n\n### Note about blackfire::php\n\nThis cookbook makes no assumption about the webserver you use.\n\nTherefore this is *your* responsability to write a wrapper and notify your\nwebserver (ie. Apache or php5-fpm) for reload/restart or subscribe the good\nresources.\n\nYou can obtain futher informations on wrapper cookbooks here:\nhttps://www.getchef.com/blog/2013/12/03/doing-wrapper-cookbooks-right/\n\nOne way to do that (maybe the best to avoid disturbing logs messages):\n\n```ruby\ninclude_recipe \"blackfire\"\n\nbegin\n  r = resources(:ruby_block => \"blackfire-php-restart-webserver\")\n  r.block do\n  end\n  r.notifies :reload, \"service[php5-fpm]\"\nrescue Chef::Exceptions::ResourceNotFound\n  Chef::Log.warn 'could not find resource \"ruby_block[blackfire-php-restart-webserver]\" to override!'\nend\n\n```\n\nContributing\n------------\n\n1. Fork the repository on Github\n2. Create a named feature branch (like `add_component_x`)\n3. Write you change\n4. Write tests for your change (if applicable)\n5. Run the tests, ensuring they all pass\n6. Submit a Pull Request using Github\n\nTests\n-----\n\nThree test suites exist:\n\n- two using kitchen.ci (meant to be run localy by contributors)\n- one using rspec (meant to be run by travis, not localy).\n\nThese test suites can be launched by using `rake integration:vagrant` or\n`rake integration:docker` for the kitchen.ci one and `rake travis` for rspec.\n\nSupermarket share\n-----------------\n\nYou need [stove](http://sethvargo.github.io/stove/) to publish the cookbook on\nsupermarket. Once it's done use `rake publish`\n\nLicense and Authors\n-------------------\n- Author:: Tugdual Saunier (<tugdual.saunier@sensiolabs.com>)\n\n```text\nCopyright:: 2014-2015 SensioLabs\n\nSee LICENSE file\n```\n",
  "requires": [
    {
      "kind": "host",
      "label": "debian",
      "revision": ">= 0.0.0",
      "one_of_group": "os"
    },
    {
      "kind": "host",
      "label": "ubuntu",
      "revision": ">= 0.0.0",
      "one_of_group": "os"
    },
    {
      "kind": "host",
      "label": "redhat",
      "revision": ">= 0.0.0",
      "one_of_group": "os"
    },
    {
      "kind": "host",
      "label": "fedora",
      "revision": ">= 0.0.0",
      "one_of_group": "os"
    },
    {
      "kind": "host",
      "label": "centos",
      "revision": ">= 0.0.0",
      "one_of_group": "os"
    },
    {
      "kind": "env",
      "uri": "https://supermarket.chef.io/cookbooks/apt",
      "revision": ">= 0.0.0",
      "self_resolve": true
    },
    {
      "kind": "env",
      "uri": "https://supermarket.chef.io/cookbooks/yum",
      "revision": ">= 0.0.0",
      "self_resolve": true
    }
  ],
  "chef_recipes": {
    "default": "Installs blackfire-php & blackfire-agent.",
    "php": "Installs only blackfire-php",
    "agent": "Installs only blackfire-agent",
    "repository": "Setup Blackfire repository"
  }
}