{
  "name": "dse Chef cookbook",
  "chef_cookbook_name": "dse",
  "revision": "3.0.33",
  "uris": [
    "https://supermarket.chef.io/cookbooks/dse",
    "https://supermarket.chef.io/cookbooks/dse/download",
    "https://supermarket.chef.io/cookbooks/dse/versions/3.0.33",
    "https://supermarket.chef.io/cookbooks/dse/versions/3.0.33/download",
    "https://supermarket.chef.io/api/v1/cookbooks/dse/versions/3.0.33",
    "https://supermarket.chef.io/api/v1/cookbooks/dse",
    "https://supermarket.chef.io/api/v1/cookbooks/dse/versions/3.0.33/download"
  ],
  "labels": [
    "Chef cookbook",
    "Other",
    "Executable/Script/Chef Cookbook",
    "Mode/Executable/Script/Chef Cookbook"
  ],
  "info_url": "https://supermarket.chef.io/cookbooks/dse",
  "package_url": "https://supermarket.chef.io/api/v1/cookbooks/dse/versions/3.0.33/download",
  "deprecated": false,
  "created": "2014-09-09T13:48:04.761Z",
  "updated": "2016-06-22T18:32:32.908Z",
  "description": "Installs/Configures Datastax Enterprise.",
  "maintainer": {
    "name": "target-cookbooks",
    "email": "daniel.c.parker@target.com"
  },
  "license": "Apache 2.0",
  "chef_foodcritic_failure": null,
  "chef_up_for_adoption": null,
  "rating": null,
  "followers_count": 5,
  "downloads_count": 3106311,
  "downloads_count_revision": 361,
  "repository_url": "https://github.com/target/dse-cookbook",
  "issues_url": "https://github.com/target/dse-cookbook",
  "chef_source_url": "https://github.com/target/dse-cookbook",
  "latest": true,
  "gatherbase_origin": "chef-supermarket",
  "readme_name": "README.md",
  "readme": "[![Build Status](https://travis-ci.org/target/dse-cookbook.svg?branch=master)](https://travis-ci.org/target/dse-cookbook)\n\n# Datastax Enterprise Chef Cookbook (Apache Cassandra)\nThis cookbook installs and configures Datastax Enterprise. More info is here ([DataStax Enterprise](http://www.datastax.com/products/)).\n\nIt uses officially released Datastax packages. It can tweak the Cassandra config files, but has no way of adding data or creating keyspaces in Cassandra (yet).\n\n## Usage\n\nThis cookbook is designed to be used in conjuction with a wrapper cookbook. Used alone, a single node cluster can be created, but in order to create a multiple node cluster a wrapper is recommended.\n\nExample in a wrapper:\n\n```ruby\nnode.default['java']['jdk_version'] = \"7\"\nnode.default['cassandra']['seeds'] = \"192.168.1.1, 192.168.1.2\"\nnode.default['cassandra']['dse_version'] = \"4.0.3-1\"\nnode.default['cassandra']['max_heap_size'] = \"12G\"\nnode.default['cassandra']['heap_newsize'] = \"1200M\"\n\ninclude_recipe \"dse::cassandra\"\n```\n\n##Scope\n\nThis cookbook attempts to manage almost all Apache Cassandra configuration settings. It can also create Hadoop and Solr nodes, with less attribute to manage their config.\n\n### Apache Cassandra\n\nThis cookbook currently provides\n\n * Datastax 4.x.x (Datastax Enterprise Edition) via packages.\n\n## Requirements\n\n* Chef 11 or higher\n\n## Supported OS Distributions\nTested on:\n\n* RHEL 6.3, 6.4\n* Ubuntu 14.04.1 LTS\n* Slight testing done on Ubuntu 12.04 (will require some edits)\n\n## Recipes\n\nThe provided recipes are `dse::cassandra`, `dse::solr`, and `dse::hadoop`\n* `dse::cassandra` will provision DSE as a cassandra node.\n* `dse::solr` will provision DSE with solr enabled.\n* `dse::hadoop` will provision DSE with hadoop enabled.\n\nThere are also recipes that should not be called directly that are used for configuration.\n* `dse::default` sets up the templates\n* `dse::datastax` sets up the datastax repos\n* `dse::datstax-agent` configures the datastax-agent if needed\n* `dse::ssl` (work in progress) sets up SSL keys on all nodes\n\n## Attributes\nThis cookbook will install DSE Cassandra by default. Other attributes you can set are:\n\n### default.rb\n\n#### overall settings\n * `node[\"cassandra\"][\"cluster_name\"]` (default: `Test Cluster`): The name of the cluster to provision\n * `node[\"cassandra\"][\"vnodes\"]` (default: `true`): enable or disable vnodes\n * `node[\"cassandra\"][\"intial_token\"]` (default: `nil`): the initial token to use. leave blank for vnodes\n * `node[\"cassandra\"][\"num_tokens\"]` (default: `256`): set the number of tokens to use\n * `node[\"cassandra\"][\"solr\"]` (default: `false`): enable solr or not\n * `node[\"cassandra\"][\"hadoop\"]` (default: `false`): enable hadoop or not\n * `node[\"cassandra\"][\"spark\"]` (default: `false`): enable spark or not\n\n * `node[\"cassandra\"][\"dse_version\"]` (default: `4.0.3-1`): dse version to install\n * `node[\"cassandra\"][\"user\"]` (default: `cassandra`): the cassandra user\n * `node[\"cassandra\"][\"group\"]` (default: `cassandra`): the cassandra group\n\n#### cassandra.yaml settings\n * `node[\"cassandra\"][\"listen_address\"]` (default: `node['ipaddress']`): the ipaddress to use for listen address\n * `node[\"cassandra\"][\"rpc_address\"]` (default: `node['ipaddress']`): the ipaddress to use for rpc address\n * `node[\"cassandra\"][\"broadcast_rpc_address\"]` (default: `nill`): the rpc address to broadcast to drivers & nodes\n * `node[\"cassandra\"][\"broadcast_address\"]` (default: `nil`): the ipaddress to use for broadcast address\n * `node[\"cassandra\"][\"seeds\"]` (default: `node['ipaddress']`): the ipaddress to use for the seed list\n * `node[\"cassandra\"][\"concurrent_reads\"]` (default: `32`): concurrent reads setting\n * `node[\"cassandra\"][\"concurrent_writes\"]` (default: `32`): concurrent writes setting\n * `node[\"cassandra\"][\"compaction_thruput\"]` (default: `16`): limit the throughput of compactions\n * `node[\"cassandra\"][\"multithreaded_compaction\"]` (default: `false`): enable or disable multithreaded compaction\n * `node[\"cassandra\"][\"in_memory_compaction_limit\"]` (default: `64`): size limit for in-memory compactions\n * `node[\"cassandra\"][\"trickle_fsync\"]` (default: `false`): enable trickle fsync, usually for ssd\n * `node[\"cassandra\"][\"range_request_timeout_in_ms\"]` (default: `10000`): default timeout on range requests\n * `node[\"cassandra\"][\"thrift_framed_transport_size_in_mb\"]` (default: `15`): the max size of a thrift frame\n * `node[\"cassandra\"][\"thrift_max_message_length_in_mb\"]` (default: `nil`): the max message length of a thrift call\n * `node[\"cassandra\"][\"concurrent_compactors\"]` (default: `nil`): the number of concurrent compactors to allow\n * `node[\"cassanrda\"][\"permissions_validity_in_ms\"]` (default: `2000`): validity period for permissions cache (disabled for AllowAllAuthorizer)\n * `node[\"cassandra\"][\"permissions_update_interval_in_ms\"]` (default: `nil`): refresh interval for permissions cache\n\n#### Role based seed selection\n * `node[\"cassandra\"][\"role_based_seeds\"]` (default: `false`): set to true to assign seeds based on members of dse-seed role\n * `node['cassandra']['seed_role']` (default: `role:dse-seed`): set to a diffrent role to select seeds\n\n#### gc settings\n\n * `node[\"cassandra\"][\"CMSInitiatingOccupancyFraction\"]` (default: `65`): cms occupancy fraction to use for gc\n * `node[\"cassandra\"][\"max_heap_size\"]` (default: `8192M`): default max heap size for cassandra\n * `node[\"cassandra\"][\"heap_newsize\"]` (default: `800M`): default new gen size for heap\n\n#### authentication settings\n * `node[\"cassandra\"][\"authentication\"]` (default: `false`): enable or disable authentication\n * `node[\"cassandra\"][\"authorization\"]` (default: `false`): enable or disable authorization\n * `node[\"cassandra\"][\"authenticator\"]` (default: ``): the authenticator to use (eg org.apache.cassandra.auth.AllowAllAuthenticator)\n * `node[\"cassandra\"][\"authorizor\"]` (default: ``): the authorizor to use (eg org.apache.cassandra.auth.AllowAllAuthorizer)\n\n#### audit logs\n * `node[\"cassandra\"][\"log_level\"]` (default: `INFO`): the log level for cassandra (or solr/hadoop)\n * `node[\"cassandra\"][\"audit_logging\"]` deprecated - see: `node['cassandra']['dse']['audit_logging_options']['enabled']`\n * `node[\"cassandra\"][\"audit_dir\"]` (default: `/etc/dse/cassandra`): the directory of log4j-server.properties file\n * `node[\"cassandra\"][\"active_categories\"]` deprecated - see: `node['cassandra']['dse']['audit_logging_options']['included_categories']`\n * `node['cassandra']['dse']['audit_logging_options']['enabled']` (default: `false`): turn on audit logging\n * `node['cassandra']['dse']['audit_logging_options']['logger']` (default: `SLF4JAuditWriter`): the audit writer\n * `node['cassandra']['dse']['audit_logging_options']['included_categories']` (default: `ADMIN,AUTH,DDL,DCL`): the categories to include in audit\n * `node['cassandra']['dse']['audit_logging_options']['excluded_categories']` (default: `''`): the categories to exclude from audit\n * `node['cassandra']['dse']['audit_logging_options']['included_keyspaces']` (default: `''`): the keyspaces to exclude from audit\n * `node['cassandra']['dse']['audit_logging_options']['excluded_keyspaces']` (default: `''`): the keyspaces to exclude from audit\n * `node['cassandra']['dse']['audit_logging_options']['retention_time']` (default: `0`): the hours audit events are retained by supporting loggers\n * `node['cassandra']['dse']['audit_logging_options']['cassandra_audit_writer_options']['mode']` (default: `sync`): the mode the writer runs in\n * `node['cassandra']['dse']['audit_logging_options']['cassandra_audit_writer_options']['batch_size']` (default: `50`): the maxium number of events the writer dequeues before writing to table\n * `node['cassandra']['dse']['audit_logging_options']['cassandra_audit_writer_options']['flush_time']` (default: `500`): the maximum milliseconds an event will be dequeued by a writer before writing to table\n * `node['cassandra']['dse']['audit_logging_options']['cassandra_audit_writer_options']['num_writers']` (default: `10`): the number of asynchronous threads logging events to the CassandraAuditWriter\n * `node['cassandra']['dse']['audit_logging_options']['cassandra_audit_writer_options']['queue_size']` (default: `10000`): the queue size feeding the asynchronous audit log threads.\n * `node['cassandra']['dse']['audit_logging_options']['cassandra_audit_writer_options']['write_consistency']` (default: `QUORUM`): the audit write consistency level\n\n#### metrics settings\n * `node['cassandra']['metrics_reporter']['enabled']` (default: `false`): enable or disable the metrics reporter jar\n * `node['cassandra']['metrics_reporter']['name']` (default: `metrics-graphite`): the name of the jar to use, graphite is a popular one \n * `node['cassandra']['metrics_reporter']['jar_url']` (default: `http://search.maven.org/remotecontent?filepath=com/yammer/metrics/metrics-graphite/2.2.0/metrics-graphite-2.2.0.jar`): where the jar is\n * `node['cassandra']['metrics_reporter']['sha256sum']` (default: `6b4042aabf532229f8678b8dcd34e2215d94a683270898c162175b1b13d87de4`): checksum of the jar\n * `node['cassandra']['metrics_reporter']['jar_name']` (default: `metrics-graphite-2.2.0.jar`): full name of the jar\n * `node['cassandra']['metrics_reporter']['config']` (default: `{}`): hash of the conf to use, example below:\n\n```\nnode.default['cassandra']['metrics_reporter'] = {\n    'enabled' => true,\n    'name' => 'metrics-graphite',\n    'jar_url' => 'http://search.maven.org/remotecontent?filepath=com/yammer/metrics/metrics-graphite/2.2.0/metrics-graphite-2.2.0.jar',\n    'sha256sum' => '6b4042aabf532229f8678b8dcd34e2215d94a683270898c162175b1b13d87de4',\n    'jar_name' => 'metrics-graphite-2.2.0.jar',\n    'config' => {\n      'graphite' => [{\n        'timeunit' => 'SECONDS',\n        'hosts' => [{\n          'host' => 'graphite.host.com',\n          'port' => 2003\n        }],\n        'prefix' => \"servers.#{node.name}.cassandra\",\n        'period' => 60,\n        'predicate' => {\n          'color' => 'white',\n          'useQualifiedName' => true,\n          'patterns' => [\n            '^org.apache.cassandra.metrics.Cache.+',\n          ]\n        }\n      }]\n    }\n  }\n```\n\n#### performance monitoring settings\n * `node['cassandra']['dse']['cql_slow_log_options']['enabled']` (default: `true`)\n * `node['cassandra']['dse']['cql_slow_log_options']['threshold_ms']` (default: `2,000`)\n * `node['cassandra']['dse']['cql_slow_log_options']['ttl_seconds']` (default: `259,200`)\n * `node['cassandra']['dse']['cql_slow_log_options']['async_writers']` (default: `1`)\n * `node['cassandra']['dse']['cql_system_info_options']['enabled']` (default: `false`)\n * `node['cassandra']['dse']['cql_system_info_options']['refresh_rate_ms']` (default: `10,000`)\n * `node['cassandra']['dse']['resource_level_latency_tracking_options']['enabled']` (default: `false`)\n * `node['cassandra']['dse']['resource_level_latency_tracking_options']['refresh_rate_ms']` (default: `10,000`)\n * `node['cassandra']['dse']['db_summary_stats_options']['enabled']` (default: `false`)\n * `node['cassandra']['dse']['db_summary_stats_options']['refresh_rate_ms']` (default: `10,000`)\n * `node['cassandra']['dse']['cluster_summary_stats_options']['enabled']` (default: `false`)\n * `node['cassandra']['dse']['cluster_summary_stats_options']['refresh_rate_ms']` (default: `10,000`)\n * `node['cassandra']['dse']['spark_cluster_info_options']['enabled']` (default: `false`)\n * `node['cassandra']['dse']['spark_cluster_info_options']['refresh_rate_ms']` (default: `10,000`)\n * `node['cassandra']['dse']['spark_application_info_options']['enabled']` (default: `false`)\n * `node['cassandra']['dse']['spark_application_info_options']['refresh_rate_ms']` (default: `10,000`)\n * `node['cassandra']['dse']['spark_application_info_options']['driver']['sink']` (default: `false`)\n * `node['cassandra']['dse']['spark_application_info_options']['driver']['connectorSource']` (default: `false`)\n * `node['cassandra']['dse']['spark_application_info_options']['driver']['jvmSource']` (default: `false`)\n * `node['cassandra']['dse']['spark_application_info_options']['driver']['stateSource']` (default: `false`)\n * `node['cassandra']['dse']['spark_application_info_options']['executor']['sink']` (default: `false`)\n * `node['cassandra']['dse']['spark_application_info_options']['executor']['connectorSource']` (default: `false`)\n * `node['cassandra']['dse']['spark_application_info_options']['executor']['jvmSource']` (default: `false`)\n * `node['cassandra']['dse']['histogram_data_options']['enabled']` (default: `false`)\n * `node['cassandra']['dse']['histogram_data_options']['refresh_rate_ms']` (default: `10,000`)\n * `node['cassandra']['dse']['histogram_data_options']['retention_count']` (default: `3`)\n * `node['cassandra']['dse']['user_level_latency_tracking_options']['enabled']` (default: `false`)\n * `node['cassandra']['dse']['user_level_latency_tracking_options']['refresh_rate_ms']` (default: `10,000`)\n * `node['cassandra']['dse']['user_level_latency_tracking_options']['top_stats_limit']` (default: `100`)\n * `node['cassandra']['dse']['user_level_latency_tracking_options']['quantiles']` (default: `false`)\n * `node['cassandra']['dse']['solr_indexing_error_log_options']['enabled']` (default: `false`)\n * `node['cassandra']['dse']['solr_indexing_error_log_options']['ttl_seconds']` (default: `604,800`)\n * `node['cassandra']['dse']['solr_indexing_error_log_options']['async_writers']` (default: `1`)\n * `node['cassandra']['dse']['solr_slow_sub_query_log_options']['enabled']` (default: `false`)\n * `node['cassandra']['dse']['solr_slow_sub_query_log_options']['ttl_seconds']` (default: `604,800`)\n * `node['cassandra']['dse']['solr_slow_sub_query_log_options']['async_writers']` (default: `1`)\n * `node['cassandra']['dse']['solr_slow_sub_query_log_options']['threshold_ms']` (default: `100`)\n * `node['cassandra']['dse']['solr_update_handler_metrics_options']['enabled']` (default: `false`)\n * `node['cassandra']['dse']['solr_update_handler_metrics_options']['ttl_seconds']` (default: `604,800`)\n * `node['cassandra']['dse']['solr_update_handler_metrics_options']['refresh_rate_ms']` (default: `60,000`)\n * `node['cassandra']['dse']['solr_request_handler_metrics_options']['enabled']` (default: `false`)\n * `node['cassandra']['dse']['solr_request_handler_metrics_options']['ttl_seconds']` (default: `604,800`)\n * `node['cassandra']['dse']['solr_request_handler_metrics_options']['refresh_rate_ms']` (default: `60,000`)\n * `node['cassandra']['dse']['solr_index_stats_options']['enabled']` (default: `false`)\n * `node['cassandra']['dse']['solr_index_stats_options']['ttl_seconds']` (default: `604,800`)\n * `node['cassandra']['dse']['solr_index_stats_options']['refresh_rate_ms']` (default: `60,000`)\n * `node['cassandra']['dse']['solr_cache_stats_options']['enabled']` (default: `false`)\n * `node['cassandra']['dse']['solr_cache_stats_options']['ttl_seconds']` (default: `604,800`)\n * `node['cassandra']['dse']['solr_cache_stats_options']['refresh_rate_ms']` (default: `60,000`)\n * `node['cassandra']['dse']['solr_latency_snapshot_options']['enabled']` (default: `false`)\n * `node['cassandra']['dse']['solr_latency_snapshot_options']['ttl_seconds']` (default: `604,800`)\n * `node['cassandra']['dse']['solr_latency_snapshot_options']['refresh_rate_ms']` (default: `60,000`)\n * `node['cassandra']['dse']['node_health_options']['enabled']` (default: `false`)\n * `node['cassandra']['dse']['node_health_options']['refresh_rate_ms']` (default: `60,000`)\n * `node['cassandra']['dse']['node_health_options']['uptime_ramp_up_period_seconds']` (default: `86,400`)\n\n#### system encryption settings\n * `node['cassandra']['dse']['system_key_directory']` (default: `'/etc/dse/conf'`)\n * `node['cassandra']['dse']['config_encryption_active']` (default: `false`)\n * `node['cassandra']['dse']['config_encryption_key_name']` (default: `'system_key'`)\n * `node['cassandra']['dse']['system_info_encryption']['enabled']` (default: `false`)\n * `node['cassandra']['dse']['system_info_encryption']['cipher_algorithm']` (default: `'AES'`)\n * `node['cassandra']['dse']['system_info_encryption']['secret_key_strength']` (default: `128`)\n * `node['cassandra']['dse']['system_info_encryption']['chunk_length_kb']` (default: `64`)\n * `node['cassandra']['dse']['system_info_encryption']['key_name']` (default: `'system_table_keytab'`)\n\n#### ldap settings\n * `node['cassandra']['dse']['ldap_options']['server_host']` (default: `nil`): the host name of the LDAP server\n * `node['cassandra']['dse']['ldap_options']['server_port']` (default: `nil`): the port on which the LDAP server listens.\n * `node['cassandra']['dse']['ldap_options']['search_dn']` (default: `nil`): the user that is used to search for other users on the LDAP server\n * `node['cassandra']['dse']['ldap_options']['search_password']` (default: `nil`): the password of the search_dn user\n * `node['cassandra']['dse']['ldap_options']['use_ssl']` (default: `nil`): enables SSL connections to the LDAP server\n * `node['cassandra']['dse']['ldap_options']['use_tls']` (default: `nil`): enables TLS connections to the LDAP server\n * `node['cassandra']['dse']['ldap_options']['truststore_path']` (default: `nil`): the path to the trust store for SSL certificates\n * `node['cassandra']['dse']['ldap_options']['truststore_password']` (default: `nil`): the password to access the trust store\n * `node['cassandra']['dse']['ldap_options']['truststore_type']` (default: `nil`): the type of trust store\n * `node['cassandra']['dse']['ldap_options']['user_search_base']` (default: `nil`): the search base for your domain, used to look up users\n * `node['cassandra']['dse']['ldap_options']['user_search_filter']` (default: `nil`): the search filter for looking up user names\n * `node['cassandra']['dse']['ldap_options']['credentials_validity_in_ms']` (default: `nil`): the duration period for the credential cache\n * `node['cassandra']['dse']['ldap_options']['search_validity_in_seconds']` (default: `nil`): the duration period for the search cache\n * `node['cassandra']['dse']['ldap_options']['connection_pool']['max_active']` (default: `nil`): the maximum number of active connections to the LDAP server\n * `node['cassandra']['dse']['ldap_options']['connection_pool']['max_idle']` (default: `nil`): the maximum number of idle connections in the pool awaiting requests\n\n#### ldap settings (opscenter)\n * `node['opscenter']['authentication_method']` (default: `DatastaxEnterpriseAuth`): the authentication method for Opscenter (can be set to `LDAP`)\n * `node['opscenter']['ldap']['server_host']` (default: `nil`): the LDAP server host\n * `node['opscenter']['ldap']['server_port']` (default: `nil`): the LDAP server port\n * `node['opscenter']['ldap']['uri_scheme']` (default: `nil`): the URI Scheme (ldap vs ldaps)\n * `node['opscenter']['ldap']['search_dn']` (default: `nil`): the user that should be used to search for users on the LDAP server\n * `node['opscenter']['ldap']['search_password']` (default: `nil`): the password of the search user\n * `node['opscenter']['ldap']['user_search_base']` (default: `nil`): the ldap search base used to find a user\n * `node['opscenter']['ldap']['user_search_filter']` (default: `nil`): the ldap search filter used to uniquely identify a user\n * `node['opscenter']['ldap']['group_search_base']` (default: `nil`): the ldap search base used to find a group\n * `node['opscenter']['ldap']['group_search_filter']` (default: `nil`): the ldap search filter used to find a user's group (deprecated per manual)\n * `node['opscenter']['ldap']['group_search_filter_with_dn']` (default: `nil`): the ldap search filter used to find a user's group\n * `node['opscenter']['ldap']['group_name_attribute']` (default: `nil`): the ldap field name used to identify a group's name\n * `node['opscenter']['ldap']['admin_group_name']` (default: `nil`): the name of the admin group or a comma-separated list of admin group names\n * `node['opscenter']['ldap']['user_memberof_attribute']` (default: `nil`): the attribute on the user entry containing group membership\n * `node['opscenter']['ldap']['group_search_type']` (default: `nil`): the search type used to determin groups of a user\n * `node['opscenter']['ldap']['ssl_cacert']` (default: `nil`): the path to the CA Cert file\n * `node['opscenter']['ldap']['ssl_cert']` (default: `nil`): the path to the cert file\n * `node['opscenter']['ldap']['ssl_key']` (default: `nil`): the path to the Key\n * `node['opscenter']['ldap']['tls_reqcert']` (default: `nil`): the security level for secure communication\n * `node['opscenter']['ldap']['tls_demand']` (default: `nil`): the demand level for tls\n * `node['opscenter']['ldap']['ldap_security']` (default: `nil`): the type of security to use (SSL vs TLS)\n * `node['opscenter']['ldap']['connection_timeout']` (default: `nil`): the seconds before connection timeout\n * `node['opscenter']['ldap']['opt_referrals']` (default: `nil`): the number that represents whether referrals are followed\n * `node['opscenter']['ldap']['protocol_version']` (default: `nil`): the LDAP protocol version\n\n#### logback settings\nPlease note the attributes are available for the following appenders: `FILE`, `SLF4JAuditWriterAppender`, `DroppedAuditEventAppender`.\nWhen the defaults are identical the appender will be replaced with `<appender name>`; otherwise the specific appender will be indicated.\n * `node['cassandra']['logback']['appender'][<appender name>]['class']` (default: `ch.qos.logback.core.rolling.RollingFileAppender`)\n * `node['cassandra']['logback']['appender']['FILE']['file']` (default: `${cassandra.logdir}/system.log`)\n * `node['cassandra']['logback']['appender']['SLF4JAuditWriterAppender']['file']` (default: `${cassandra.logdir}/audit/audit.log`)\n * `node['cassandra']['logback']['appender']['DroppedAuditEventAppender']['file']` (default: `${cassandra.logdir}/audit/dropped-events.log`)\n * `node['cassandra']['logback']['appender'][<appender name>]['rollingPolicy']['class']` (default: `ch.qos.logback.core.rolling.FixedWindowRollingPolicy`)\n * `node['cassandra']['logback']['appender'][<appender name>]['rollingPolicy']['fileNamePattern']` (default: `${cassandra.logdir}/system.log.%i.zip`)\n * `node['cassandra']['logback']['appender'][<appender name>]['rollingPolicy']['minIndex']` (default: `1`)\n * `node['cassandra']['logback']['appender']['FILE']['rollingPolicy']['maxIndex']` (default: `20`)\n * `node['cassandra']['logback']['appender']['SLF4JAuditWriterAppender']['rollingPolicy']['maxIndex']` (default: `5`)\n * `node['cassandra']['logback']['appender']['DroppedAuditEventAppender']['rollingPolicy']['maxIndex']` (default: `5`)\n * `node['cassandra']['logback']['appender'][<appender name>]['rollingPolicy']['maxHistory']` (default: ``)\n * `node['cassandra']['logback']['appender'][<appender name>]['triggeringPolicy']['class']` (default: `ch.qos.logback.core.rolling.SizeBasedTriggeringPolicy`)\n * `node['cassandra']['logback']['appender']['FILE']['rollingPolicy']['maxFileSize']` (default: `20MB`)\n * `node['cassandra']['logback']['appender']['SLF4JAuditWriterAppender']['rollingPolicy']['maxFileSize']` (default: `200MB`)\n * `node['cassandra']['logback']['appender']['DroppedAuditEventAppender']['rollingPolicy']['maxFileSize']` (default: `200MB`)\n\n### dse.rb\n * `node[\"cassandra\"][\"dse\"][\"delegated_snitch\"]` (default: `org.apache.cassandra.locator.SimpleSnitch`): the snitch to use for dse\n * `node[\"cassandra\"][\"dse\"][\"snitch\"]` (default: `com.datastax.bdp.snitch.DseDelegateSnitch`): the snitch to use in dse.yaml\n * `node[\"cassandra\"][\"dse\"][\"service_name\"]` (default: `dse`): the name of the service\n * `node[\"cassandra\"][\"dse\"][\"conf_dir\"]` (default: `/etc/dse`): the directory of dse config files\n * `node[\"cassandra\"][\"dse\"][\"repo_user\"]` (default: ``): the datastax username for the repo\n * `node[\"cassandra\"][\"dse\"][\"repo_pass\"]` (default: ``): the datastax password for the repo\n * `node[\"cassandra\"][\"dse\"][\"rhel_repo_url\"]` (default: `http://#{node['cassandra']['dse']['repo_user']}:#{node['cassandra']['dse']['repo_pass']}@rpm.datastax.com/enterprise`): the rhel repo\n * `node[\"cassandra\"][\"dse\"][\"debian_repo_url\"]` (default: `http://#{node['cassandra']['dse']['repo_user']}:#{node['cassandra']['dse']['repo_pass']}@debian.datastax.com/enterprise`): the debian repo\n\n### hadoop.rb\n * `node[\"hadoop\"][\"max_heap_size\"]` (default: `10G`): the heap size for hadoop\n * `node[\"hadoop\"][\"heap_newsize\"]` (default: `800M`): the heap newgen size for hadoop\n * `node[\"hadoop\"][\"map_child_java_opts\"]` (default: `4G`): the size of the map child java heap\n * `node[\"hadoop\"][\"reduce_child_java_opts\"]` (default: `4G`): the size of the reduce child java heap\n * `node[\"hadoop\"][\"map_red_localdir\"]` (default: `/data/mapredlocal`): the directory to use for map/reduce\n * `node[\"hive\"][\"scratch_dir\"]` (default: `/data/hive`): the directory to use for hive\n * `node[\"hadoop\"][\"map_reduce_parallel_copies\"]` (default: `20`): the number of map reduce copies\n * `node[\"hadoop\"][\"mapred_tasktracker_map_tasks_max\"]` (default: `23`): the max number of map tasks\n * `node[\"hadoop\"][\"mapred_tasktracker_reduce_tasks_max\"]` (default: `12`): the max number of reduce tasks\n * `node[\"hadoop\"][\"io_sort_mb\"]` (default: `512M`): the size of iosort\n * `node[\"hadoop\"][\"io_sort_factor\"]` (default: `64`): the iosort factor\n\n### solr.rb\n * `node[\"solr\"][\"max_heap_size\"]` (default: `14G`): the heap size for solr\n * `node[\"solr\"][\"heap_newsize\"]` (default: `2400M`): the newgen heap size\n\n### java.rb\nThese are generic java settings. Datastax recommends oracle java, so override openjdk default and download from a specific location.\n * `node[\"dse\"][\"manage_java\"]` (default: `true`): whether or not to use the java recipe to manage the java install\n * `node[\"java\"][\"install_flavor\"]` (default: `oracle`): the flavor of java to install\n * `node[\"java\"][\"jdk_version\"]` (default: `7`): the version of java to use\n * `node['java']['jdk']['7']['x86_64']['url']` (default: ``): the url to get the java 7 file from\n\n### ssl.rb\nThis portion is under construction. SSL does not currently 100% work.\n * `node[\"cassandra\"][\"dse\"][\"cassandra_ssl_dir\"]` (default: `/etc/cassandra`): the directory to use for pem files\n * `node[\"cassandra\"][\"dse\"][\"password_file\"]` (default: `cassandra_pass.txt`): the file to store the keystore pass in\n * `node[\"cassandra\"][\"dse\"][\"internode_encryption\"]` (default: `none`): the encyption to use (all, dc, rack)\n * `node[\"cassandra\"][\"dse\"][\"keystore\"]` (default: `#{node[\"cassandra\"][\"dse\"][\"cassandra_ssl_dir\"]}/#{node[\"hostname\"]}.keystore`): keystore name\n * `node[\"cassandra\"][\"dse\"][\"truststore\"]` (default: `#{node[\"cassandra\"][\"dse\"][\"cassandra_ssl_dir\"]}/#{node[\"hostname\"]}.truststore`): truststore name\n * `node[\"cassandra\"][\"dse\"][\"client_encryption_enabled\"]` (default: `false`): enable client-to-node encryption\n * `node['cassandra']['dse'][\"client_encryption_optional\"]` (default: `false`): specifies whether encryption, when enabled, is optional\n * `node[\"cassandra\"][\"dse\"][\"import_public_keys\"]` (default: `true`): allow attempt to import public keys during Chef run\n\n### datastax-agent.rb\nThese attributes are used to conigure the datastax-agent. This is used with Datastax Opscenter.\n\n* `node[\"datastax-agent\"][\"enabled\"]` (default: `false`): whether to install the datastax agent and configure\n* `node[\"datastax-agent\"][\"version\"]` (default: `4.1.1-1`): the version of the datastax agent to install\n* `node[\"datastax-agent\"][\"conf_dir\"]` (default: `/var/lib/datastax-agent/conf`): where the datastax-agent conf file is\n* `node[\"datastax-agent\"][\"opscenter_ip\"]` (default: `192.168.32.3`): the Opscenter IP to connect to\n* `node[\"datastax-agent\"][\"use_ssl\"]` (default: `nil`): enable the use of SSL for datastax agent communication with opscenter\n\n\n## Dependencies\n\n* java\n* yum\n* apt\n\nDatastax recommends to use the Oracle jdk version. You can do this by setting an attribute in your environment or run list.\n\n## Kitchen Testing\nThe integration test environment consists of :\n\n* Chef-DK 0.4.0\n* VirtualBox 4.3.24\n* Vagrant 1.7.2\n * vagrant-omnibus\n * vagrant-berkshelf\n * vagrant-share\n * vagrant-login\n\nEdit the .kitchen.yml file in the root of the cookbook and set your Datastax repository username and password in order to run the tests.  Run 'rake' in the root of the cookbook to test the full automated testing suite.\n\n## Copyright & License\n\n- Author: Daniel Parker (<daniel.c.parker@target.com>)\n- Reviewer: Eric Helgeson (<erichelgeson@gmail.com>)\n\nReleased under the [Apache 2.0 License](http://www.apache.org/licenses/LICENSE-2.0.html).\n",
  "requires": [
    {
      "kind": "host",
      "label": "redhat",
      "revision": ">= 6.4",
      "one_of_group": "os"
    },
    {
      "kind": "host",
      "label": "centos",
      "revision": ">= 6.4",
      "one_of_group": "os"
    },
    {
      "kind": "host",
      "label": "ubuntu",
      "revision": "= 14.04",
      "one_of_group": "os"
    },
    {
      "kind": "env",
      "uri": "https://supermarket.chef.io/cookbooks/java",
      "revision": "~> 1.14",
      "self_resolve": true
    },
    {
      "kind": "env",
      "uri": "https://supermarket.chef.io/cookbooks/yum",
      "revision": "~> 3.5",
      "self_resolve": true
    },
    {
      "kind": "env",
      "uri": "https://supermarket.chef.io/cookbooks/yum-epel",
      "revision": "~> 0.6",
      "self_resolve": true
    },
    {
      "kind": "env",
      "uri": "https://supermarket.chef.io/cookbooks/apt",
      "revision": "~> 2.0",
      "self_resolve": true
    }
  ]
}