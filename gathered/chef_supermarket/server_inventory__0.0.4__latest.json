{
  "name": "server_inventory Chef cookbook",
  "chef_cookbook_name": "server_inventory",
  "revision": "0.0.4",
  "uris": [
    "https://supermarket.chef.io/cookbooks/server_inventory",
    "https://supermarket.chef.io/cookbooks/server_inventory/download",
    "https://supermarket.chef.io/cookbooks/server_inventory/versions/0.0.4",
    "https://supermarket.chef.io/cookbooks/server_inventory/versions/0.0.4/download",
    "https://supermarket.chef.io/api/v1/cookbooks/server_inventory/versions/0.0.4",
    "https://supermarket.chef.io/api/v1/cookbooks/server_inventory",
    "https://supermarket.chef.io/api/v1/cookbooks/server_inventory/versions/0.0.4/download"
  ],
  "labels": [
    "Chef cookbook",
    "Other",
    "Executable/Script/Chef Cookbook",
    "Mode/Executable/Script/Chef Cookbook"
  ],
  "info_url": "https://supermarket.chef.io/cookbooks/server_inventory",
  "package_url": "https://supermarket.chef.io/api/v1/cookbooks/server_inventory/versions/0.0.4/download",
  "deprecated": false,
  "created": "2010-10-30T00:15:19.000Z",
  "updated": "2010-11-05T20:39:27.000Z",
  "description": "Installs/Configures server_inventory",
  "maintainer": {
    "name": "jassinpain",
    "email": "jassinpain@gmail.com"
  },
  "license": "Apache License, Version 2.0",
  "chef_foodcritic_failure": null,
  "chef_up_for_adoption": null,
  "rating": null,
  "followers_count": 1,
  "downloads_count": 5039873,
  "downloads_count_revision": 1260017,
  "latest": true,
  "gatherbase_origin": "chef-supermarket",
  "readme": "= DESCRIPTION:\n\n****** WARNING ******************\n\nUse of the role_count.rb is very hard on the chef server as it has to run a search on every role you have\nthis should not be a problem as long as you only run on one node ( not sure why you would run on more) \nWe have 132 servers hitting the chef server every 30 minutes with 60 roles and it takes 75 seconds to run\nin our env.\n\n****** You have been warned ******\n\n\n\nMy developers and VP want to know how servers are being used, so I embed the page generated by this cookbook in our wiki and its always up to date!\n\nUses a simple javascript sort that I found at http://yoast.com/articles/sortable-table/\n\n\nWhats on the page that is generated:\n\n\ninventory.rb:\n\nA time stamp of the page generation\n\nA html tabe giving the following for each node\n  <tr>\n    <th width=\"13%\">Name</th>\n    <th width=\"13%\">IP</th>\n    <th width=\"13%\">Hardware</th>\n    <th width=\"13%\">OS</th>\n    <th width=\"24%\">Roles</th>\n    <th width=\"24%\">Recipes</th>\n  </tr>\n\nLastly a server count\n\n\nrole_count.rb:\n\nA time stamp of the page generation\n\nA html tabe giving the following for each node\n  <tr>\n    <th width=\"70%\">Role</th>\n    <th width=\"30%\">Count</th>\n  </tr>\n\nLastly a role count\n\n\n\n\n\n= REQUIREMENTS:\n\nRequires a webserver to server the html page from the output location.\n\n\n= ATTRIBUTES:\n\nThe path of the web directory you want to server the report from:\ndefault[:server_inventory][:output_dir]  = /var/www/html\n\nOutput format can be html, csv, incase you want to import to another system:\ndefault[:server_inventory][:output_format]      = [ \"html\" ]\n\n\n= USAGE:\n\nAdd the the run_list of any chef node and view pages via your brower.  You may need to update the output_dir for your env.\n\n\nI suggest a roll, but its not nessary\n\n{\n    \"name\": \"SERVER_INVENTORY_ROLE\",\n    \"default_attributes\": {\n    },\n    \"json_class\": \"Chef::Role\",\n    \"run_list\": [\n      \"recipe[server_inventory]\",\n      \"recipe[server_inventory::role_count]\"\n    ],\n    \"description\": \"This role will be on one server that generates a up to date server list with every chef run\",\n    \"chef_type\": \"role\",\n      \"server_inventory\": {\n        \"output_dir\": \"/var/www/html/myvirtual.com\",\n        \"output_format\": [\n          \"html\",\n          \"csv\"\n        ]\n      }\n    }\n  }\n\n"
}