{
  "name": "resolvconf Chef cookbook",
  "chef_cookbook_name": "resolvconf",
  "revision": "0.2.6",
  "uris": [
    "https://supermarket.chef.io/cookbooks/resolvconf",
    "https://supermarket.chef.io/cookbooks/resolvconf/download",
    "https://supermarket.chef.io/cookbooks/resolvconf/versions/0.2.6",
    "https://supermarket.chef.io/cookbooks/resolvconf/versions/0.2.6/download",
    "https://supermarket.chef.io/api/v1/cookbooks/resolvconf/versions/0.2.6",
    "https://supermarket.chef.io/api/v1/cookbooks/resolvconf",
    "https://supermarket.chef.io/api/v1/cookbooks/resolvconf/versions/0.2.6/download"
  ],
  "labels": [
    "Chef cookbook",
    "Networking",
    "Executable/Script/Chef Cookbook",
    "Mode/Executable/Script/Chef Cookbook"
  ],
  "info_url": "https://supermarket.chef.io/cookbooks/resolvconf",
  "package_url": "https://supermarket.chef.io/api/v1/cookbooks/resolvconf/versions/0.2.6/download",
  "deprecated": false,
  "created": "2013-06-13T14:50:07.000Z",
  "updated": "2016-06-08T12:58:27.359Z",
  "description": "Installs/Configures resolvconf",
  "maintainer": {
    "name": "chr4",
    "email": "me@chr4.org"
  },
  "license": "GNU Public License 3.0",
  "chef_foodcritic_failure": false,
  "chef_up_for_adoption": null,
  "rating": null,
  "followers_count": 5,
  "downloads_count": 9145801,
  "downloads_count_revision": 701208,
  "gatherbase_origin": "chef-supermarket",
  "readme_name": "README.md",
  "readme": "# resolvconf Cookbook\n\nThis cookbook maintains /etc/resolv.conf using the resolvconf package, which is installed by default on Debian/Ubuntu.\n\n## Requirements\n\nA system that supports resolvconf.\n\n- Ubuntu >= 10.04\n- Debian >= 6.0\n\nFurthermore you need to add the following line to your metadata.rb\n\n```ruby\ndepends 'resolvconf'\n```\n\n\n## Attributes\n\nThis section describes the supported attributes, as well as their default settings.\n\nUse the following attributes to specify your nameserver(s) to use, the search domain(s) and additional options.\nEach attribute supports strings, as well as arrays with multiple elements.\n\n```ruby\nnode['resolvconf']['nameserver'] = %w(208.67.222.222 208.67.220.220) # Set nameserver(s) to use\nnode['resolvconf']['search'] = node['domain'] # Set domains to search\nnode['resolvconf']['options'] = [] # Set options\nnode['resolvconf']['sortlist'] = ['130.155.160.0/255.255.240.0 130.155.0.0'] # Default is empty\n```\n\n\nThese attributes specify strings that are included in /etc/resolv.conf at head/body/tail.\n\n```ruby\nnode['resolvconf']['head'] = [\n  '# Dynamic resolv.conf(5) file for glibc resolver(3) generated by resolvconf(8)',\n  '#     DO NOT EDIT THIS FILE BY HAND -- YOUR CHANGES WILL BE OVERWRITTEN'\n]\nnode['resolvconf']['base'] = []\nnode['resolvconf']['tail'] = []\n```\n\n\nBy default, the recipe removes any dns-\\* configuration lines from /etc/network/interfaces,\nas they might interferre with the configured settings.\n\n```ruby\nnode['resolvconf']['clear-dns-from-interfaces'] = true\n```\n\nYou can force the resolvconf cookbook to wipe old entries from the runtime directories. Use this if\nyou have trouble with old resolv.conf entries ending up in your configuration.\nThis is not enabled by default, as it removes the dynamic capabilities of resolvconf which enable\napplications to change nameserver settings on the fly.\n\n```ruby\nnode['resolvconf']['wipe-runtime-directory'] = false\n```\n\n\n## Provider\n\n### resolvconf\n\nThe LWRP basically supports all options that can be set via attributes, and uses the same defaults.\nIt will do the following\n\n- It will create the necessary files in /etc/resolvconf/resolv.conf.d/\n- Remove dns-\\* lines from /etc/network/interfaces (unless `clear_dns_form_interfaces` is specified)\n- Run 'resolvconf -u'\n\nBefore using the provider, you probably want to ensure that the resolvconf package is installed.\n\n```ruby\ninclude_recipe 'resolvconf::install'\n```\n\nExample:\n\n```ruby\nresolvconf 'default'\n```\n\n```ruby\nresolvconf 'custom' do\n  nameserver '8.8.8.8'\n  search     'mydomain.com'\n  options    'rotate'\n  sortlist   'mysortlist'\n\n  head       \"# Don't touch this configuration file!\"\n  base       \"# Will be added after nameserver, search, options config items\"\n  tail       \"# This goes to the end of the file.\"\n\n  # do not touch my interface configuration plz!\n  clear_dns_from_interfaces false\nend\n```\n\n\n## Recipes\n\n### resolvconf:install\n\nInstalls the resolvconf package.\n\n\n### resolvconf::default\n\nIncludes resolvconf::install, then configures the node using the specified attributes / defaults.\n\n\n\n# Contributing\n\nContributions are very welcome!\n\n1. Fork the repository on Github\n2. Create a named feature branch (like `add_component_x`)\n3. Write you change\n4. Write tests for your change (if applicable)\n5. Run the tests, ensuring they all pass\n6. Submit a Pull Request using Github\n\n\n# License and Authors\n\nAuthors: Chris Aumann <me@chr4.org>\n\nLicense: GPLv3\n",
  "requires": [
    {
      "kind": "host",
      "label": "ubuntu",
      "revision": ">= 10.04",
      "one_of_group": "os"
    },
    {
      "kind": "host",
      "label": "debian",
      "revision": ">= 6.0",
      "one_of_group": "os"
    }
  ],
  "chef_recipes": {
    "resolvconf": "Installs and configures resolvconf package",
    "resolvconf::install": "Installs resolvconf package"
  },
  "parameters": {
    "resolvconf/nameserver": {
      "description": "Nameserver(s) to use",
      "default": "[ '208.67.222.222', '208.67.220.220' ]",
      "choice": [],
      "calculated": false,
      "type": "string",
      "required": "optional",
      "recipes": [],
      "mapping": "cookbook_attribute"
    },
    "resolvconf/search": {
      "description": "Domain(s) to add to search",
      "default": "node['domain']",
      "choice": [],
      "calculated": false,
      "type": "string",
      "required": "optional",
      "recipes": [],
      "mapping": "cookbook_attribute"
    },
    "resolvconf/options": {
      "description": "Options to set",
      "default": "[]",
      "choice": [],
      "calculated": false,
      "type": "string",
      "required": "optional",
      "recipes": [],
      "mapping": "cookbook_attribute"
    },
    "resolvconf/sortlist": {
      "description": "Sortlist to use",
      "default": "[]",
      "choice": [],
      "calculated": false,
      "type": "string",
      "required": "optional",
      "recipes": [],
      "mapping": "cookbook_attribute"
    },
    "resolvconf/head": {
      "description": "String(s) to be placed at the top of /etc/resolv.conf, typically a warning",
      "default": "            [\n              '# Dynamic resolv.conf(5) file for glibc resolver(3) generated by resolvconf(8)',\n              '#     DO NOT EDIT THIS FILE BY HAND -- YOUR CHANGES WILL BE OVERWRITTEN'\n            ]\n",
      "choice": [],
      "calculated": false,
      "type": "string",
      "required": "optional",
      "recipes": [],
      "mapping": "cookbook_attribute"
    },
    "resolvconf/base": {
      "description": "String(s) to be placed in the of /etc/resolv.conf, in addition to nameserver, search and options",
      "default": "[]",
      "choice": [],
      "calculated": false,
      "type": "string",
      "required": "optional",
      "recipes": [],
      "mapping": "cookbook_attribute"
    },
    "resolvconf/tail": {
      "description": "String(s) to be placed at the bottom of /etc/resolv.conf",
      "default": "[]",
      "choice": [],
      "calculated": false,
      "type": "string",
      "required": "optional",
      "recipes": [],
      "mapping": "cookbook_attribute"
    },
    "resolvconf/clear-dns-from-interfaces": {
      "description": "Remove dns-* settings from /etc/network/interfaces, as they might interferre with the configured settings",
      "default": "true",
      "choice": [],
      "calculated": false,
      "type": "string",
      "required": "optional",
      "recipes": [],
      "mapping": "cookbook_attribute"
    }
  }
}