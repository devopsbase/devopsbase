{
  "name": "nxlog Chef cookbook",
  "chef_cookbook_name": "nxlog",
  "revision": "0.8.1",
  "uris": [
    "https://supermarket.chef.io/cookbooks/nxlog",
    "https://supermarket.chef.io/cookbooks/nxlog/download",
    "https://supermarket.chef.io/cookbooks/nxlog/versions/0.8.1",
    "https://supermarket.chef.io/cookbooks/nxlog/versions/0.8.1/download",
    "https://supermarket.chef.io/api/v1/cookbooks/nxlog/versions/0.8.1",
    "https://supermarket.chef.io/api/v1/cookbooks/nxlog",
    "https://supermarket.chef.io/api/v1/cookbooks/nxlog/versions/0.8.1/download"
  ],
  "labels": [
    "Chef cookbook",
    "Other",
    "Executable/Script/Chef Cookbook",
    "Mode/Executable/Script/Chef Cookbook",
    "Type/Devopsware/Logging",
    "Type/Infrastructure/Operating System/Windows",
    "Type/Infrastructure/Operating System/Linux"
  ],
  "info_url": "https://supermarket.chef.io/cookbooks/nxlog",
  "package_url": "https://supermarket.chef.io/api/v1/cookbooks/nxlog/versions/0.8.1/download",
  "deprecated": false,
  "created": "2015-05-07T14:15:45.142Z",
  "updated": "2015-12-22T17:45:14.572Z",
  "description": "Installs and configures NXLog_ce on Linux or Windows",
  "maintainer": {
    "name": "sdetheridge",
    "email": "simon@widgit.com"
  },
  "license": "Apache v2.0",
  "chef_foodcritic_failure": false,
  "chef_up_for_adoption": null,
  "rating": null,
  "followers_count": 6,
  "downloads_count": 339461,
  "downloads_count_revision": 254,
  "repository_url": "http://github.com/widgit-cookbooks/nxlog/",
  "issues_url": "http://github.com/widgit-cookbooks/nxlog/issues",
  "chef_source_url": "http://github.com/widgit-cookbooks/nxlog/",
  "gatherbase_origin": "chef-supermarket",
  "readme_name": "README.md",
  "readme": "# NXLog Chef Cookbook \n\n[![Build Status](https://secure.travis-ci.org/widgit-cookbooks/nxlog.svg?branch=master)](https://travis-ci.org/widgit-cookbooks/nxlog)\n[![Dependency Status](https://gemnasium.com/widgit-cookbooks/nxlog.svg)](https://gemnasium.com/widgit-cookbooks/nxlog)\n\n**This documentation uses Github markdown and looks best on [the Github project page](http://github.com/widgit-cookbooks/nxlog)**\n\n## About this cookbook\n\nThis cookbook sets up NXLog on a Windows or Linux host.\n\nNXLog is a flexible log-management service that is able to read and write\nlogs in a variety of formats, and to numerous places.\n\nThis is a good solution if you want to gather the logs from various systems\nor processes into a central location such as a syslog daemon or papertrail.\nIt can be used to merge log files, the kernel, syslog or the Windows event log\nall into one place. It has powerful routing and conversion capabilities so that\nlogs can be written into different formats and sent to multiple places.\n\nThe cookbook provides LWRPs for log sources and destinations, and makes it easy\nto set up routes between them.\n\nThe nxlog::syslog recipe sets up nxlog as the default system logger on Linux.\n\nAdditionally, this cookbook includes a Papertrail LWRP to simplify the\npublishing of logs to that service. [Papertrail](https://papertrailapp.com/?thank=d131bd) is a web-based log aggregation\nservice that can receive logs from multiple servers and display them all in once place.\n\nYou may also create nxlog resources via node attributes, which saves you from\nhaving to write a recipe for each one. This cookbook uses the `zap` cookbook\nto ensure that resources configs are automatically removed from nodes when they\nare removed from node attributes.\n\nIt is worth reading the [nxlog documentation](http://nxlog.org/documentation/nxlog-community-edition-reference-manual-v20928) \nto get a better idea of how this stuff works.\n\n## Supported Platforms\n\n * Windows Server 2008r2-2012r2\n * Ubuntu/Debian Linux\n * RHEL/Centos Linux\n\nThis cookbook requires Chef 12\n\n## Usage\n\nInclude `nxlog` in your node's `run_list`:\n\n```\n{\n    \"run_list\": [\n        \"recipe[nxlog::default]\"\n    ]\n}\n```\n\nIf you wish to enable Papertrail support, also include the papertrail recipe:\n\n```\n{\n    \"run_list\": [\n         \"recipe[nxlog::default]\"\n         \"recipe[nxlog::papertrail]\"\n    ]\n}\n```\n\nTo set up nxlog as the sytem logger you should include the syslog recipe:\n\n```\n{\n    \"run_list\": [\n         \"recipe[nxlog::default]\"\n         \"recipe[nxlog::syslog]\"\n    ]\n}\n```\n\nThe syslog recipe will disable rsyslog. If you are expecting another logging \ndaemon you should specify this in node attributes. The default behaviour is\nto send its log output to the default destinations, but this can be reconfigured\nin node attributes.\n\nThis should be enough to get nxlog installed and running. However, it won't do\nmuch on its own. In order for it to do something useful you need to configure\nlog sources and destinations.\n\nA simple example recipe to log Windows events to a file:\n\n```ruby\ninclude_recipe 'nxlog::default'\n\nnxlog_destination 'windows_events_file' do\n  file 'c:/windows/temp/events.log'\nend\n\nnxlog_source 'event_log' do\n  input_module 'im_msvistalog'\n  destination 'windows_events_file'\nend\n```\n\nThis can also be accomplished using node attributes as follows:\n```\n{\n  \"nxlog\": {\n    \"destinations\": {\n      \"windows_events_file\": {\n        \"file\": \"c:/windows/temp/events.log\"\n      }\n    },\n    \"sources\": {\n      \"event_log\": {\n        \"input_module\": \"im_msvistalog\",\n        \"destination\": \"windows_events_file\"\n      }\n    }\n  }\n}\n```\n\nA more advanced recipe to log multiple sources to papertrail might look like:\n\n```ruby\ninclude_recipe 'nxlog::default'\ninclude_recipe 'nxlog::papertrail'\n\nnxlog_papertrail 'papertrail' do\n  default true   # use this as the default destination for all inputs\n  host 'logs2'\n  port 11111\nend\n\nnxlog_source 'apache_errors' do\n  file '/var/log/apache2/errors.log'\nend\n\nnxlog_source 'apache_access' do\n  file '/var/log/apache2/access.log'\nend\n```\n\nAgain, this can be accomplished using node attributes:\n\n```\n{\n  \"nxlog\": {\n    \"papertrails\": {\n      \"papertrail\": {\n        \"default\": true,\n        \"host\": \"logs2\",\n        \"port\": 11111\n      }\n    },\n    \"sources\": {\n      \"apache_errors\": {\n        \"file\": \"/var/log/apache2/errors.log\"\n      },\n      \"apache_access\": {\n        \"file\": \"/var/log/apache2/access.log\"\n      }\n    }\n  }\n}\n```\n\n## Resources\n\nThe following describes each LWRP provided by this cookbook.\n\nIt is also possible to create the resources using node attributes as described\nabove. To do so, create them as hashes within:\n```node['nxlog']['sources']```\n```node['nxlog']['destinations']```\nor\n```node['nxlog']['papertrails']```\n\nThe name attribute should be the hash key for the object, and all attributes \nsupported by the relevant LWRP are supported as name/value pairs inside the\nobject. See above for examples.\n\n### nxlog_source\n\n`nxlog_source` defines a source of log data which will be sent to one or more \nthe defined log destinations.\n\nNXLog has many different input modules that enable log data to be read from\na variety of log sources. The default is to read from a file, but any supported\nmodule can be selected using the `input_module` attribute.\n\nhttp://nxlog.org/documentation/nxlog-community-edition-reference-manual-v20928#modules_input\n\n#### Syntax\n\n**ruby**:\n\n```ruby\nnxlog_source \"name\" do\n  attribute \"value\" # see attributes section below\n  ...\n  action :action\nend\n```\n\n* `name` is a unique name for the log resource\n* `attributes` define how the log source should be configured\n* `action` should be either :create, or :delete *\\[default: :create\\]*\n\n**json**:\n\n```\n{\n  \"nxlog\": {\n    \"sources\": {\n      \"<name>\": {\n        \"<attribute>\": \"<value>\"\n      }\n    }\n  }\n}\n```\n\n* `name` is a unique name for the log resource\n* `attributes` define how the log source should be configured\n* `action` is always :create and should not be specified\n\n#### nxlog_source attributes\n\n##### Attributes common to all modules\n\n| Attribute name | Description                          | Type            | Default   |\n| -------------- | ------------------------------------ | --------------- | --------- |\n| input_module   | input module to use for the log data | String          | 'im_file' |\n| destination    | destination(s) to send the data to   | String or Array | :defaults |\n| input_type     | nxlog InputType (see nxlog docs)     | String          | none      |\n| exec           | commands to execute on the log data  | String          | none      |\n| flow_control   | enables or disables flow control     | Boolean         | false     |\n\n**Notes:**\n\n* input_module must be one of the modules defined below\n* to send log data to specific log destinations in addition to the defaults, \n  include `:defaults` in the destination array. For example:\n```ruby\n  destination ['my_special_destination', :defaults]\n```\n* it is worth reading the documentation on `Exec` in the nxlog docs. Quite often\n  log data needs to be transformed by a method such as `to_syslog_ietf()`\n\n##### 'im_file' module\n\n'im_file' defines a file-based log source\n\nhttp://nxlog.org/documentation/nxlog-community-edition-reference-manual-v20928#im_file\n\n| Attribute name     | Description                                                      | Type    | Default              |\n| ------------------ | ---------------------------------------------------------------- | ------- | -------------------  |\n| file               | The file to read log data from                                   | String  | none - **Required**  |\n| recursive          | Whether to recurse into subdirectories                           | boolean | false                |\n| rename_check       | Check whether files are renamed (e.g. logrotate)                 | boolean | false                |\n| close_when_idle    | Whether to close the file when not being read                    | boolean | false                |\n| poll_interval      | How often to check for new data                                  | float   | 1.0                  |\n| dir_check_interval | How often to check for new files when `file` contains a wildcard | float   | 2 * `poll_interval`  |\n| active_files       | Maximum number of files to monitor simultaneously                | integer | 10                   |\n| save_pos           | Whether to save the file position when nxlog exits               | boolean | true                 |\n\n**Notes:**\n\n* `recursive` works in a way that you might not expect. Read the nxlog docs if you plan to use it.\n\n##### 'im_exec' module\n\n'im_exec' executes a command and reads log data from stdout\n\nhttp://nxlog.org/documentation/nxlog-community-edition-reference-manual-v20928#im_exec\n\n| Attribute name     | Description                                  | Type    | Default             |\n| ------------------ | -------------------------------------------- | ------- | ------------------- |\n| command            | The command to execute                       | String  | none - **Required** |\n| args               | An array of arguments to pass to the command | Array   | none                |\n| restart            | Whether to restart the command on exit       | boolean | false               |\n\n##### 'im_internal' module\n\n'im_internal' specifies nxlog's internal logs\n\nhttp://nxlog.org/documentation/nxlog-community-edition-reference-manual-v20928#im_internal\n\n*There are no module-specific attributes for this module.*\n\n##### 'im_kernel' module\n\n'im_kernel' defines the kernel logs on Linux systems (e.g. `dmesg`)\n\nhttp://nxlog.org/documentation/nxlog-community-edition-reference-manual-v20928#im_kernel\n\n*There are no module-specific attributes for this module.*\n\n##### 'im_mark' module\n\n'im_mark' periodically writes a specific string to the destination(s)\n\nhttp://nxlog.org/documentation/nxlog-community-edition-reference-manual-v20928#im_mark\n\n| Attribute name | Description                                         | Type    | Default      |\n| -------------- | --------------------------------------------------- | ------- | ------------ |\n| mark           | The string to write to the logs                     | String  | '-- MARK --' |\n| mark_interval  | How frequently to write the mark string, in minutes | integer | 30           |\n\n##### 'im_mseventlog' module\n\n'im_mseventlog' reads from the Windows XP (Server 2003) event log.\n\n**NOTE:** For modern Windows (Vista and above) use 'im_msvistalog'\n\nhttp://nxlog.org/documentation/nxlog-community-edition-reference-manual-v20928#im_mseventlog\n\n| Attribute name | Description                            | Type    | Default            |\n| -------------- | ---------------------------------------| ------- | ------------------ |\n| sources        | Which event log sources to use         | Array   | none (all sources) |\n| utf8           | Whether to convert all strings to utf8 | boolean | true               |\n\n##### 'im_msvistalog' module\n\n'im_msvistalog' reads from the Windows (post-XP / Server 2003) event log.\n\nhttp://nxlog.org/documentation/nxlog-community-edition-reference-manual-v20928#im_msvistalog\n\nYou may also want to read:\n\nhttps://technet.microsoft.com/en-us/library/cc722404.aspx\n\n| Attribute name | Description                                         | Type    | Default            |\n| -------------- | --------------------------------------------------- | ------- | ------------------ |\n| channel        | Which event log channel(s) to read from             | String  | none (all sources) |\n| query          | Specifies the query to filter the results           | String  | none               |\n| poll_interval  | How frequently the logs will be checked for changes | Float   | 1.0                |\n\n##### 'im_null' module\n\n'im_null' never generates any messages. However, commands\ncan be executed with the `exec` common attribute.\n\nhttp://nxlog.org/documentation/nxlog-community-edition-reference-manual-v20928#im_null\n\n*There are no module-specific attributes for this module.*\n\n##### 'im_ssl' module\n\n'im_ssl' messages are received from an SSL/TLS encrypted TCP connection.\n\nDefault behaviour is to listen on 'localhost', but you can use '0.0.0.0' to bind\nto all addresses.\n\nThis module works identically to the im_tcp module, except that the connection\nis encrypted.\n\nhttp://nxlog.org/documentation/nxlog-community-edition-reference-manual-v20928#im_ssl\n\n| Attribute name  | Description                                                      | Type    | Default             |\n| ----------------| ---------------------------------------------------------------- | ------- | ------------------- |\n| host            | The ip or hostname to listen on                                  | String  | 'localhost'         |\n| port            | The tcp port to listen on                                        | Integer | none - **Required** |\n| cert_file       | Path to the https certificate file                               | String  | none                |\n| cert_key_file   | Path to the https certificate key file                           | String  | none                |\n| key_pass        | Password for the certificate key file                            | String  | none                |\n| ca_file         | Path to the certificate CA file                                  | String  | none                |\n| ca_dir          | Path to a directory containing CA files                          | String  | none                |\n| crl_file        | Path to a CRL file                                               | String  | none                |\n| crl_dir         | Path to a directory containing CRL files                         | String  | none                |\n| allow_untrusted | Whether https should be allowed without certificate verification | boolean | false               |\n\n##### 'im_tcp' module\n\n'im_tcp' messages are received from a TCP connection.\n\nDefault behaviour is to listen on 'localhost', but you can use '0.0.0.0' to bind\nto all addresses.\n\nhttp://nxlog.org/documentation/nxlog-community-edition-reference-manual-v20928#im_tcp\n\n| Attribute name  | Description                                                      | Type    | Default             |\n| ----------------| ---------------------------------------------------------------- | ------- | ------------------- |\n| host            | The ip or hostname to listen on                                  | String  | 'localhost'         |\n| port            | The tcp port to listen on                                        | Integer | none - **Required** |\n\n##### 'im_udp' module\n\n'im_udp' messages are received from a UDP connection.\n\nDefault behaviour is to listen on 'localhost', but you can use '0.0.0.0' to bind\nto all addresses.\n\nhttp://nxlog.org/documentation/nxlog-community-edition-reference-manual-v20928#im_udp\n\n| Attribute name | Description                                                      | Type    | Default             |\n| ---------------| ---------------------------------------------------------------- | ------- | ------------------- |\n| host           | The host to listen on                                            | String  | 'localhost'         |\n| port           | The udp port to connect to                                       | Integer | none - **Required** |\n| sock_buf_size  | Sets the socket buffer size                                      | Integer | OS defaults         |\n\n##### 'im_uds' module\n\n'im_uds' messages are read from a unix domain socket, such as `/dev/log`. This module\nwill read from `/dev/log` if the *uds* attribute is not specified.\n\nhttp://nxlog.org/documentation/nxlog-community-edition-reference-manual-v20928#im_uds\n\n| Attribute name | Description                                                      | Type    | Default             |\n| ---------------| ---------------------------------------------------------------- | ------- | ------------------  |\n| uds            | The path of the unix domain socket.                              | String  | '/dev/log'          |\n\n**Notes:**\n\n* Only SOCK_DGRAM type sockets are currently supported by nxlog\n\n### nxlog_destination\n\n`nxlog_destination` defines a destination where log data from one or more\nsources will be sent. \n\nNXLog has many different output modules that enable log data to be sent to\na variety of log sources. The default is to read from a file, but any supported\nmodule can be selected using the `output_module` attribute.\n\nhttp://nxlog.org/documentation/nxlog-community-edition-reference-manual-v20928#modules_output\n\n#### Syntax\n\n**ruby**:\n\n```ruby\nnxlog_destination \"name\" do\n  attribute \"value\" # see attributes section below\n  ...\n  action :action\nend\n```\n\n* `name` is a unique name for the destination resource\n* `attributes` define how the log destination should be configured\n* `action` should be either :create, or :delete *\\[default: :create\\]*\n\n**json**:\n\n```\n{\n  \"nxlog\": {\n    \"destinations\": {\n      \"<name>\": {\n        \"<attribute>\": \"<value>\"\n      }\n    }\n  }\n}\n```\n\n* `name` is a unique name for the destination resource\n* `attributes` define how the log destination should be configured\n* `action` is always :create and should not be specified\n\n#### nxlog_destination attributes\n\n##### Attributes common to all modules\n\n| Attribute name | Description                                      | Type            | Default   |\n| -------------- | ------------------------------------------------ | --------------- | --------- |\n| output_module  | input module to use for receiving the log data   | String          | 'om_file' |\n| output_type    | nxlog OutputType (see nxlog docs)                | String          | none      |\n| exec           | commands to execute on the log data              | String          | none      |\n| default        | whether the destination is a default destination | boolean         | false     |\n\n\n**Notes:**\n\n* output_module must be one of the modules defined below\n* it is worth reading the documentation on `Exec` in the nxlog docs. Quite often\n  log data needs to be transformed by a method such as `to_syslog_ietf()`\n* destinations marked as default will receive log data from all input sources,\n  unless they specifically specify otherwise\n\n##### 'om_file' module\n\n'om_file' defines a file-based log destination\n\nhttp://nxlog.org/documentation/nxlog-community-edition-reference-manual-v20928#om_file\n\n| Attribute name     | Description                                                         | Type    | Default              |\n| ------------------ | ------------------------------------------------------------------- | ------- | -------------------- |\n| file               | The file to write log data to                                       | String  | none - **Required**  |\n| create_dir         | Whether to create a directory for the log file if it does not exist | boolean | false                |\n| truncate           | Whether to truncate the log file before writing                     | boolean | false                |\n| sync               | Whether to sync the log file after each message, flushing buffers   | boolean | false                |\n\n##### 'om_blocker' module\n\n'om_blocker' is a testing output module which simply blocks, simulation an blocked route.\n\nhttp://nxlog.org/documentation/nxlog-community-edition-reference-manual-v20928#om_blocker\n\n*There are no module-specific attributes for this module.*\n\n##### 'om_dbi' module\n\n'om_dbi' writes log data to a database\n\nhttp://nxlog.org/documentation/nxlog-community-edition-reference-manual-v20928#om_dbi\n\n| Attribute name | Description                                                 | Type   | Default             |\n| ---------------| ----------------------------------------------------------- | ------ | ------------------- |\n| driver         | The dbi driver to use                                       | String | none - **Required** |\n| sql            | The SQL to execute to insert the log data                   | String | none - **Required** |\n| options        | Engine-specific options such as host, username and password | Array  | none - **Required** |\n\n**Notes:**\n\n* Requires libdbi the relevant libdbi driver to be installed\n* See the nxlog docs for details on how to format SQL and options\n\n##### 'om_exec' module\n\n'om_exec' executes a command and pipes log data into it\n\nhttp://nxlog.org/documentation/nxlog-community-edition-reference-manual-v20928#om_exec\n\n| Attribute name | Description                                  | Type   | Default             |\n| ---------------| -------------------------------------------- | ------ | ------------------- |\n| command        | The command to execute                       | String | none - **Required** |\n| args           | An array of arguments to pass to the command | Array  | none                |\n\n**Notes:**\n\n* The command is executed when nxlog starts, and must not terminate until it shuts down\n\n##### 'om_http' module\n\n'om_http' posts log data to a specific url over http or https\n\nhttp://nxlog.org/documentation/nxlog-community-edition-reference-manual-v20928#om_http\n\n| Attribute name        | Description                                                      | Type    | Default             |\n| ----------------------| ---------------------------------------------------------------- | ------- | ------------------- |\n| url                   | The url to post the data to                                      | String  | none - **Required** |\n| content-type          | The content-type header of the http request                      | String  | 'text/plain'        |\n| https_cert_file       | Path to the https certificate file                               | String  | none                |\n| https_cert_key_file   | Path to the https certificate key file                           | String  | none                |\n| https_key_pass        | Password for the certificate key file                            | String  | none                |\n| https_ca_file         | Path to the certificate CA file                                  | String  | none                |\n| https_ca_dir          | Path to a directory containing CA files                          | String  | none                |\n| https_crl_file        | Path to a CRL file                                               | String  | none                |\n| https_crl_dir         | Path to a directory containing CRL files                         | String  | none                |\n| https_allow_untrusted | Whether https should be allowed without certificate verification | boolean | false               |\n\n##### 'om_null' module\n\n'om_null' messages are discarded and never written anywhere. However, commands\ncan be executed on the log data with the `exec` common attribute.\n\nhttp://nxlog.org/documentation/nxlog-community-edition-reference-manual-v20928#om_null\n\n*There are no module-specific attributes for this module.*\n\n##### 'om_ssl' module\n\n'om_ssl' messages are sent over an SSL/TLS encrypted TCP connection.\n\nThis module works identically to the om_tcp module, except that the connection\nis encrypted.\n\nhttp://nxlog.org/documentation/nxlog-community-edition-reference-manual-v20928#om_ssl\n\n| Attribute name  | Description                                                      | Type    | Default             |\n| ----------------| ---------------------------------------------------------------- | ------- | ------------------- |\n| host            | The host to connect to                                           | String  | none - **Required** |\n| port            | The tcp port to connect to                                       | Integer | none - **Required** |\n| cert_file       | Path to the https certificate file                               | String  | none                |\n| cert_key_file   | Path to the https certificate key file                           | String  | none                |\n| key_pass        | Password for the certificate key file                            | String  | none                |\n| ca_file         | Path to the certificate CA file                                  | String  | none                |\n| ca_dir          | Path to a directory containing CA files                          | String  | none                |\n| crl_file        | Path to a CRL file                                               | String  | none                |\n| crl_dir         | Path to a directory containing CRL files                         | String  | none                |\n| allow_untrusted | Whether https should be allowed without certificate verification | boolean | false               |\n\n##### 'om_tcp' module\n\n'om_tcp' messages are sent over a TCP connection.\n\nhttp://nxlog.org/documentation/nxlog-community-edition-reference-manual-v20928#om_tcp\n\n| Attribute name  | Description                                                      | Type    | Default             |\n| ----------------| ---------------------------------------------------------------- | ------- | ------------------- |\n| host            | The host to connect to                                           | String  | none - **Required** |\n| port            | The tcp port to connect to                                       | Integer | none - **Required** |\n\n##### 'om_udp' module\n\n'om_udp' messages are sent over a UDP connection.\n\nhttp://nxlog.org/documentation/nxlog-community-edition-reference-manual-v20928#om_udp\n\n| Attribute name | Description                                                      | Type    | Default             |\n| ---------------| ---------------------------------------------------------------- | ------- | ------------------- |\n| host           | The host to connect to                                           | String  | none - **Required** |\n| port           | The udp port to connect to                                       | Integer | none - **Required** |\n| sock_buf_size  | Sets the socket buffer size                                      | Integer | OS defaults         |\n\n##### 'om_uds' module\n\n'om_uds' messages are written to a unix domain socket, such as `/dev/log`. This module\nwill write to `/dev/log` if the *uds* attribute is not specified.\n\nhttp://nxlog.org/documentation/nxlog-community-edition-reference-manual-v20928#om_uds\n\n| Attribute name | Description                                                      | Type    | Default             |\n| ---------------| ---------------------------------------------------------------- | ------- | ------------------- |\n| uds            | The path of the unix domain socket.                              | String  | '/dev/log'          |\n\n### nxlog_papertrail\n\n`nxlog_papertrail` defines a special kind of om_ssl destination that is pre-configured\nto log to papertrail (https://papertrailapp.com/) and thus requiring only a few options\nto set up.\n\n#### Syntax\n\n**ruby**:\n\n```ruby\nnxlog_papertrail \"name\" do\n  attribute \"value\" # see attributes section below\n  ...\n  action :action\nend\n```\n\n* `name` is a unique name for the papertrail resource\n* `attributes` define how the papertrail log destination should be configured\n* `action` should be either :create, or :delete *\\[default: :create\\]*\n\n**json**:\n\n```\n{\n  \"nxlog\": {\n    \"sources\": {\n      \"<name>\": {\n        \"<attribute>\": \"<value>\"\n      }\n    }\n  }\n}\n```\n\n* `name` is a unique name for the papertrail resource\n* `attributes` define how the papertrail log destination should be configured\n* `action` is always :create and should not be specified\n\n#### nxlog_papertrail attributes\n\n| Attribute name | Description                                                       | Type    | Default             |\n| ---------------| ----------------------------------------------------------------- | ------- | ------------------- |\n| port           | The port for your papertrail log destination                      | String  | none - **Required** |\n| host           | The \\*.papertrailapp.com host to log to (e.g. 'logs', 'logs2')    | String  | 'logs'              |\n| default        | Whether this is a default log destination (see nxlog_destination) | boolean | false               |\n\n## Cookbook Attributes\n\nThe attributes mostly concern default config locations and will most likely work\nfor your platform without modification. \n\n| Key                    | Description                                           | Default                                                                        |\n| ---------------------- | ----------------------------------------------------- | ------------------------------------------------------------------------------ |\n| version                | The version of nxlog_ce to download and install       | '2.9.1347'                                                                     |\n| log_level              | nxlog's log level                                     | 'INFO'                                                                         |\n| user                   | The unix user to run nxlog as (no effect on Windows)  | 'nxlog'                                                                        |\n| group                  | The unix group to run nxlog as (no effect on Windows) | 'nxlog'                                                                        |\n| conf_dir               | The directory for the nxlog configuration files       | platform-specific                                                              |\n| log_file               | The location of the nxlog log file                    | platform-specific                                                              |\n| papertrail::bundle_url | The URL to the papertrail CA bundle                   | [papertrail-bundle.pem](https://papertrailapp.com/tools/papertrail-bundle.pem) |\n| syslog::logger_disable | The logger service to disable in favour of nxlog      | 'rsyslog'                                                                      |\n| syslog::destinations   | The destinations to log syslog data to                | :defaults                                                                      |\n| sources                | An array of log source objects                        | nil                                                                            |\n| destinations           | An array of log destination objects                   | nil                                                                            |\n| papertrails            | An array of papertrail log destination objects        | nil                                                                            |\n\n## Contributing\n\nYou know the drill:\n\n1. Fork\n2. Branch\n3. Change\n4. Test\n5. Pull request\n\n## License and Authors\n\nAuthor:: Simon Detheridge, Widgit Software (<simon@widgit.com>)\n\nLicense:: Apache Version 2.0\n",
  "requires": [
    {
      "kind": "host",
      "label": "ubuntu",
      "revision": ">= 12.04",
      "one_of_group": "os"
    },
    {
      "kind": "host",
      "label": "debian",
      "revision": ">= 6.0",
      "one_of_group": "os"
    },
    {
      "kind": "host",
      "label": "redhat",
      "revision": ">= 6.0",
      "one_of_group": "os"
    },
    {
      "kind": "host",
      "label": "centos",
      "revision": ">= 6.0",
      "one_of_group": "os"
    },
    {
      "kind": "host",
      "label": "windows",
      "revision": ">= 0.0.0",
      "one_of_group": "os"
    },
    {
      "kind": "env",
      "uri": "https://supermarket.chef.io/cookbooks/zap",
      "revision": ">= 0.0.0",
      "self_resolve": true
    }
  ],
  "chef_recipes": {
    "nxlog::default": "Install and configure nxlog",
    "nxlog::papertrail": "Enable nxlog Papertrail support",
    "nxlog::syslog": "Sets up nxlog as the system logger"
  }
}