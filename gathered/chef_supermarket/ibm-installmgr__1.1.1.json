{
  "name": "ibm-installmgr Chef cookbook",
  "chef_cookbook_name": "ibm-installmgr",
  "revision": "1.1.1",
  "uris": [
    "https://supermarket.chef.io/cookbooks/ibm-installmgr",
    "https://supermarket.chef.io/cookbooks/ibm-installmgr/download",
    "https://supermarket.chef.io/cookbooks/ibm-installmgr/versions/1.1.1",
    "https://supermarket.chef.io/cookbooks/ibm-installmgr/versions/1.1.1/download",
    "https://supermarket.chef.io/api/v1/cookbooks/ibm-installmgr/versions/1.1.1",
    "https://supermarket.chef.io/api/v1/cookbooks/ibm-installmgr",
    "https://supermarket.chef.io/api/v1/cookbooks/ibm-installmgr/versions/1.1.1/download"
  ],
  "labels": [
    "Chef cookbook",
    "Other",
    "Executable/Script/Chef Cookbook",
    "Mode/Executable/Script/Chef Cookbook"
  ],
  "info_url": "https://supermarket.chef.io/cookbooks/ibm-installmgr",
  "package_url": "https://supermarket.chef.io/api/v1/cookbooks/ibm-installmgr/versions/1.1.1/download",
  "deprecated": false,
  "created": "2016-02-10T20:05:11.921Z",
  "updated": "2016-05-09T14:05:41.344Z",
  "description": "Installs/Configures IBM Installation Manager",
  "maintainer": {
    "name": "lachlan",
    "email": "devops@sainsburys.co.uk"
  },
  "license": "Apache 2.0",
  "chef_foodcritic_failure": false,
  "chef_up_for_adoption": null,
  "rating": null,
  "followers_count": 0,
  "downloads_count": 828,
  "downloads_count_revision": 109,
  "repository_url": "https://github.com/Sainsburys/ibm-installmgr",
  "issues_url": "https://github.com/Sainsburys/ibm-installmgr",
  "chef_source_url": "https://github.com/Sainsburys/ibm-installmgr",
  "gatherbase_origin": "chef-supermarket",
  "readme_name": "README.md",
  "readme": "# IBM Installation Manager Cookbook\n\n[![Build Status](https://travis-ci.org/JSainsburyPLC/ibm-installmgr.svg?branch=master)](https://travis-ci.org/JSainsburyPLC/ibm-installmgr)\n\n## Scope\nThis cookbook installs IBM Installation Manager and provides resources for installing IBM packages with a response file.\n\nThis cookbook currently uses the Installation Manager Installer method rather than Installation manager to install packages.  For more details see http://www-01.ibm.com/support/knowledgecenter/SSDV2W_1.8.4/com.ibm.silentinstall12.doc/topics/c_installing_differences.html\n\nGroup install mode has not been tested. Only admin and nonAdmin have.\n\n## Requirements\n* Chef 12.5 or higher\n* Installation Media for Installation manager and any other packages.\nThis can be sourced from an online repository like IBM PassportAdvantage, or from your own download link.  Supports tar, tar.gz and zip.\n* Installation Kits may need to be packaged into a single folder.  For example the Websphere installation kit comes in 3 folders disk1, disk2 and disk3.  Make sure all disks are in the same folder like so:\n\n  - WAS/\n  - WAS/disk1/\n  - WAS/disk2/\n  - WAS/disk3/\n  - WAS/repository.config\n\n## Platforms\n* Centos 6\n* Red Hat Enterprise 6\n* Centos 7\n* Red Hat Enterprise 7\n\n## Usage\n\nSee the test cookbook in test/fixtures/cookbooks/ibm-im-test for examples.\n\n##### Install Installation Manager\n```ruby\n\ninstall_mgr 'ibm-im install' do\n  install_package 'https://myrepository/agent.installer.linux.gtk.x86_64_1.8.4000.20151125_0201.zip'\n  install_package_sha256 '28f5279abc28695c0b99ae0c3fdee26bfec131186f2ca7e41d1317e303adb12e'\n  package_name 'com.ibm.cic.agent'\n  ibm_root_dir '/opt/IBM'\n  service_user 'ibm-im'\n  service_group 'ibm-im'\nend\n\nibm_secure_storage_file '/root/MySecureStorageFile' do\n  master_pw_file '/root/MyMasterPassFile'\n  master_pw 'mypassphrase'\n  passport_advantage true\n  username 'myPassportAdvUser'\n  password 'mypassword'\nend\n\nibm_package 'IHS install' do\n  package 'com.ibm.websphere.IHS.v85_8.5.5000.20130514_1044'\n  install_dir '/opt/IBM/WAS'\n  passport_advantage true\n  imcl_dir '/opt/IBM/InstallationManager/eclipse/tools'\n  master_pw_file '/root/MyMasterPassFile'\n  action :install\nend\n\n```\n\n##### Install Websphere with Installation Manager\n\n```ruby\n# installation manager must be installed before calling this resource\nibm_package 'WAS ND install' do\n  package 'com.ibm.websphere.ND.v85'\n  install_dir '/opt/IBM/WAS'\n  repositories ['/opt/ibm-media/WASND']\n  imcl_dir '/opt/IBM/InstallationManager/eclipse/tools'\n  action :install\nend\n```\n\n### Resources\n\n\n### install_mgr\n\nInstalls IBM Installation Manager\n\n##### Example\n```ruby\ninstall_mgr 'ibm-im install' do\n  install_package 'https://some-repository/agent.installer.linux.gtk.x86_64_1.8.4000.20151125_0201.zip'\n  install_package_sha256 '28f5279abc28695c0b99ae0c3fdee26bfec131186f2ca7e41d1317e303adb12e'\n  package_name 'com.ibm.cic.agent'\n  ibm_root_dir '/opt/IBM'\n  service_user 'ibm-im'\n  service_group 'ibm-im'\nend\n```\n\n##### Parameters\n\n- `:install_package`, Url or local path to a compressed file. Must be .tar, .tar.gz or .zip. String, required: true, default: nil\n- `:install_package_sha256`, Hash of install package. String, default: nil\n- `:download_temp_dir`, Scratch folder to download to. String, default: Chef::Config['file_cache_path']\n- `:extract_dir`, String, default: \"\"#{download_temp_dir}/ibm-installmgr\"\n- `:install_dir`, String, default: \"#{ibm_root_dir}/InstallationManager/eclipse\"\n- `:package_name`, String, default: 'com.ibm.cic.agent'\n- `:repositories`, [String, Array], default: [extract_dir]\n- `:ibm_root_dir`, String, default: '/opt/IBM'\n- `:data_location`, This is where Installation Manager stores data about it's installed packages. String, default: '/var/ibm/InstallationManager'\n- `:service_user`, String, default: 'ibm-im'\n- `:service_group`, String, default: 'ibm-im'\n- `:access_rights`, String, default: 'nonAdmin', Can only be nonAdmin, admin or group.  Group is not tested.\n- `:preferences`, A hash of preferences that are often contained within a response file. Hash, default: nil\n- `:properties`, A hash of properties that are often contained within a response file. Can be used in place of response file. [Hash], default: nil\n\n##### Actions\n\n- `:install` - Installs Installation Manager. Does not start it as this requires gui.\n\n\n### ibm_package\n\nInstalls an IBM application using Installation Manager\n\n##### Example\n```ruby\n# ... omitted ibm_secure_storage_file resource.\n\n# example to install IHS HTTP Server\nibm_package 'IHS install' do\n  package 'com.ibm.websphere.IHS.v85,core.feature,arch.64bit'\n  install_dir '/opt/ibm/HTTPServer'\n  properties ({\n    'eclipseLocation' => '/opt/ibm/HTTPServer',\n    'user.import.profile' => 'false',\n    'user.ihs.httpPort' => '9080',\n    'user.ihs.installHttpService' => 'true',\n    'user.ihs.allowNonRootSilentInstall' => 'true',\n    'cic.selector.nl' => 'en'\n  })\n  preferences ({\n    'com.ibm.cic.common.core.preferences.preserveDownloadedArtifacts' => 'true'\n  })\n  repositories ['http://www.ibm.com/software/repositorymanager/com.ibm.websphere.IHS.v85']\n  master_pw_file '/root/MyMasterPassFile'\n  secure_storage_file '/root/MySecureStorageFile'\n  action :install\nend\n\n# example to install IBM Directory server.  Note the dual value properties containing two commas ,,\n\nibm_package 'IBM Diretcory Server' do\n  package 'com.ibm.security.directoryserver.v64,main.feature.db2,main.feature.gskit,main.feature.jdk,main.feature.javaclient,'\\\n    'main.feature.server,main.feature.cclient,main.feature.proxy,main.feature.webadmin'\n  install_dir '/opt/ibm/ldap/V6.4'\n  repositories [sds_repo]\n  access_rights 'admin'\n  properties ({\n    'eclipseLocation' => '/opt/ibm/ldap/V6.4',\n    'user.import.profile' => 'false',\n    'cic.selector.os' => 'linux',\n    'cic.selector.arch' => 'x86_64',\n    'cic.selector.ws' => 'gtk',\n    'user.use.existing.db2,,com.ibm.security.directoryserver.v64' => 'false',\n    'user.db2.executable.path,,com.ibm.security.directoryserver.v64' => db2_installer_dir,\n    'user.use.existing.gskit,,com.ibm.security.directoryserver.v64' => 'false',\n    'user.gskit.executable.path,,com.ibm.security.directoryserver.v64' => gskit_installer_dir,\n    'user.jdk.executable.path,,com.ibm.security.directoryserver.v64' => jdk_installer\n  })\n  sensitive_exec false\n  action :install\nend\n\n```\n\n##### Parameters\n\n- `:package`, The package application id to install. Eg 'com.ibm.websphere.ND.v85_8.5.5000.20130514_1044', String required: true, default: nil\n- `install_dir`, Where to install the package. String, required: true, default: nil\n- `imcl_dir`, Path to the imcl utility binary You shouldn't need to change this. String, default: '/opt/IBM/InstallationManager/eclipse/tools'\n- `repositories`, Array of local dirs or urls to repositories.  Installation Kits may need to be packaged into a single folder, see the Requirements section above. [String, Array], required: true, default: nil\n- `service_user`, String, default: 'ibm'\n- `service_group`, String, default: 'ibm'\n- `properties`, Hash, A hash of properties that are usually found in response files.\n- `preferences`, Hash, A hash of preferences that are usually found in response files.\n- `additional_options`, a string of additional options to append if needed. String, default: ''\n- `access_rights`, String, default: 'nonAdmin', regex: /^(nonAdmin|admin|group)$/\n- `log_dir`, String, default: '/var/ibm/InstallationManager/logs'\n- `:passport_advantage`, When set to true adds passportAdvantafe repo url to repositories. default: false\n- `:secure_storage_file`, path to secure storage file to use for repo credentials. String, default: nil\n- `:master_pw_file`, path to file containing password to access encrypted secure_storage_file. String, default: nil\n- `:sensitive_exec`, Default: true, Only change this in exceptional debugging circumstances. When set to false you can see the imcl command being executed in the chef logs, which could contain a password.\n##### Actions\n\n- `:install` - Installs the package. Does not start, setup a service at this stage.\n\n### ibm_fixpack\n\nSimilar to ibm_package but specifically installs an IBM fixpack. All parameters are exactly the same as ibm_package.\n\n##### Example\n```ruby\n\n# ... omitted required ibm_secure_storage_file resource.\n\nibm_fixpack 'WAS ND Fixpack' do\n  package 'com.ibm.websphere.ND.v85_8.5.5008.20151112_0939,core.feature,ejbdeploy,thinclient,embeddablecontainer,com.ibm.sdk.6_64bit'\n  install_dir '/opt/IBM/Websphere/AppServer'\n  repositories ['http://www.ibm.com/software/repositorymanager/com.ibm.websphere.ND.v85']\n  master_pw_file '/root/MyMasterPassFile'\n  secure_storage_file '/root/MySecureStorageFile'\n  action :install\nend\n\n```\n\n##### Parameters\n\nExactly the same as parameters for ibm_package\n\n##### Actions\n\n- `:install`\n\n\n### ibm_response_file\n\nA simple wrapper around the template resource to create a response file for the ibm_package_response resource. You can use the template resource directly if you like.\n\n##### Example\n```ruby\nibm_response_file '/opt/IBM/response_files/my_was_response.xml' do\n  cookbook 'ibm-im-test'\n  template_source 'was_response.xml.erb'\n  variables({\n    :key1 => 'val1'\n  })\nend\n\n```\n\n##### Parameters\n- `:package`, The package application id to install. Eg 'com.ibm.websphere.ND.v85_8.5.5000.20130514_1044', String required: true, default: nil,  name_property: true\n- `response_file`, Path to create the response file. String\n- `group`, File group. String, default: 'ibm-im'\n- `owner`, File owner. String, default: 'ibm-im'\n- `template_source`, String, default: nil\n- `cookbook`, String, default: nil\n- `variables`, [Hash], default: nil\n\n##### Actions\n\n- `:create`\n\n\n### ibm_package_response\n\nNOTE: It's easier and more intuitive to use the ibm_package command and pass in properties and preferences instead of this resource.\n\nInstalls an IBM package using a response file.\nPlease note you may need to create and required users and directories mentioned in the response file first.  You do not need to accept the license or set the accessRights in the response file, this is handled with the command.\n\n##### Example\n```ruby\nibm_package_response 'com.ibm.websphere.ND.v85' do\n  response_file '/opt/IBM/response_files/my_was_response.xml'\n  action :install\nend\n\n```\n\n##### Parameters\n\n- `response_file`, String, name_property: true, required: true\n- `imcl_dir`, String, default: '/opt/IBM/InstallationManager/eclipse/tools'\n- `log_dir`, String, default: '/var/ibm/InstallationManager/logs'\n- `group`, Only used to for log_dir. String, default: 'ibm-im'\n- `owner`, Only used to for log_dir String, default: 'ibm-im'\n- `access_rights`, String, default: 'nonAdmin', regex: /^(nonAdmin|admin|group)$/\n\n##### Actions\n\n- `:install`\n\n\n### ibm_secure_storage_file\n\nCreates an encrypted Eclipse Storage file to store password credentials to repositories such as IBM passport Advantage.\n\n##### Example\n```ruby\nibm_secure_storage_file '/root/MySecureStorageFile' do\n  master_pw_file '/root/MyMasterPassFile'\n  master_pw 'mypassphrase'\n  passport_advantage true\n  username 'myemail@somedomain.com'\n  password 'mypass'\nend\n```\n\n##### Parameters\n\n- `secure_file`, String, name_property: true\n- `master_pw_file`, Contains the password to access the secure_file. String\n- `master_pw`, password to put in master_pw_file. String, default: nil\n- `url`, String, default: 'http://www.ibm.com/software/repositorymanager/entitled/repository.xml'\n- `passport_advantage`, Set to true when credentials are to access passportAdvantage. The url will be ignored if set. [TrueClass, FalseClass], default: false\n- `username`, String, default: nil\n- `password`, For encrypting the secure file. String, default: nil\n- `imutilsc_dir`, Path to imutilsc binary. You shouldn't need to change this from the default. String, default: '/opt/IBM/InstallationManager/eclipse/tools'\n##### Actions\n\n- `:create`\n\n\n## License and Author\n\n* Author: Lachlan Munro, Chris Bell\n\nCopyright: 2015, J Sainsburys\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n"
}