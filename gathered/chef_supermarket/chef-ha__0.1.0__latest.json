{
  "name": "chef-ha Chef cookbook",
  "chef_cookbook_name": "chef-ha",
  "revision": "0.1.0",
  "uris": [
    "https://supermarket.chef.io/cookbooks/chef-ha",
    "https://supermarket.chef.io/cookbooks/chef-ha/download",
    "https://supermarket.chef.io/cookbooks/chef-ha/versions/0.1.0",
    "https://supermarket.chef.io/cookbooks/chef-ha/versions/0.1.0/download",
    "https://supermarket.chef.io/api/v1/cookbooks/chef-ha/versions/0.1.0",
    "https://supermarket.chef.io/api/v1/cookbooks/chef-ha",
    "https://supermarket.chef.io/api/v1/cookbooks/chef-ha/versions/0.1.0/download"
  ],
  "labels": [
    "Chef cookbook",
    "Other",
    "Executable/Script/Chef Cookbook",
    "Mode/Executable/Script/Chef Cookbook"
  ],
  "info_url": "https://supermarket.chef.io/cookbooks/chef-ha",
  "package_url": "https://supermarket.chef.io/api/v1/cookbooks/chef-ha/versions/0.1.0/download",
  "deprecated": false,
  "created": "2015-10-14T15:59:06.126Z",
  "updated": "2015-10-14T15:59:12.727Z",
  "description": "Installs/Configures Chef in high availibility",
  "maintainer": {
    "name": "joenguyen",
    "email": "joe.nguyen@activenetwork.com"
  },
  "license": "Apache 2.0",
  "chef_foodcritic_failure": true,
  "chef_up_for_adoption": null,
  "rating": null,
  "followers_count": 0,
  "downloads_count": 296,
  "downloads_count_revision": 296,
  "repository_url": "https://github.com/activenetwork-automation/chef-ha",
  "issues_url": "https://github.com/activenetwork-automation/chef-ha/issues",
  "chef_source_url": "https://github.com/activenetwork-automation/chef-ha",
  "latest": true,
  "gatherbase_origin": "chef-supermarket",
  "readme_name": "README.md",
  "readme": "[![Build Status](https://travis-ci.org/activenetwork-automation/chef-ha.svg)](https://travis-ci.org/activenetwork-automation/chef-ha) [![Dependency Status](https://gemnasium.com/activenetwork-automation/chef-ha.svg)](https://gemnasium.com/activenetwork-automation/chef-ha)\n\nchef-ha cookbook\n=================\nThis cookbook creates a Chef cluster in HA from beginning to end.\n\nLocal Requirements\n------------\nTo test this locally, the following needs to be available:\n\n* vagrant and plugins below\n  * vagrant-triggers\n  * vagrant-berkshelf\n  * vagrant-ohai\n  * vagrant-landrush\n    * set the following entries via `vagrant landrush set <host> <ip>`\n    * `chef-vip.vagrant.dev` 192.168.193.135 (back end vip)\n    * `chef.vagrant.dev` 192.168.193.137 (front end entry point)\n\nAlso, this has only been tested against Centos 6.6.  This may work on other RHEL os's, but it has not been tested.\n\nIf everything is in place, you should be able to bring up your local cluster via:\n\n`vagrant up chef1`\n\n`vagrant up chef2`\n\n`vagrant up chef3`\n\nThey are meant to run concurrently as they expect each other to be up before they can finish converging.  NFS is used on the bootstrap node to share out the configs.  The configs will only be reachable by the cluster machines which are defined in the chef_data data bag.\n\nSetup\n-----\nWhen running this in your production environment, you'll need to do the following:\n\n* edit `chef_data.json` to include your servers and desired environment(s)\n  * ldap settings optional\n* apply data bag to your chef server: `knife data bag from file chef_resources chef_data.json`\n* provision nodes -- it shouldn't matter what order, however, nodes will not finish converging until the primary and secondary nodes finish their DRBD sync.\n\nUsage\n-----\n#### chef-ha::rhel - required\n\nThis will remove ulimits and disable requiretty for rhel based os's.\n\n---\n#### chef-ha::drbd - required on backend nodes\n\nThis recipe needs to be applied to the back end nodes which need to be pre-defined in the data bag.\n\n---\n#### chef-ha::chef - required on all nodes\n\nThis recipe installs Chef in HA.  This requires that the primary node finishes first so that the configs can be shared out to the dependant nodes.  \n\n---\n#### chef-ha::opscode-manage - optional on front end nodes\n\nThis recipe installs the opscode-manage package on the front end node(s).  This package is optional and is free up to 25 nodes per Chef's License Agreement.\n\n---\n#### chef-ha::opscode-reporting - optional\n\nThis recipe installs the opscode-reporting package on the chef system.  If you want to install this pacakge, this recipe needs to be applied to all nodes.  This package is optional and is free up to 25 nodes per Chef's License Agreement.\n\n---\n#### chef-ha::backend\n\nThis recipe includes everything required on the back end nodes to create Chef in HA as well as the configuration of opscode reporting.\n\n---\n#### chef-ha::frontend\n\nThis recipe includes everything required on the front end node(s) to create Chef in HA as well as the configuration of opscode-reporting and opscode-reporting.\n\n## Contributing\n\n1. Fork it ( https://github.com/activenetwork-automation/chef-ha/fork )\n2. Create your feature branch (`git checkout -b my-new-feature`)\n3. Commit your changes (`git commit -am 'Add some feature'`)\n4. Push to the branch (`git push origin my-new-feature`)\n5. Create a new Pull Request\n\n### License and Authors\n\n- [Joe Nguyen](https://github.com/joenguyen)\n\n## License ##\n\n|                      |                                          |\n|:---------------------|:-----------------------------------------|\n| **Copyright:**       | Copyright 2015 ACTIVE Network, LLC\n| **License:**         | Apache License, Version 2.0\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n",
  "requires": [
    {
      "kind": "host",
      "label": "redhat",
      "revision": ">= 0.0.0",
      "one_of_group": "os"
    },
    {
      "kind": "env",
      "uri": "https://supermarket.chef.io/cookbooks/nfs",
      "revision": "~> 2.2.4",
      "self_resolve": true
    }
  ]
}