{
  "name": "application_php Chef cookbook",
  "chef_cookbook_name": "application_php",
  "revision": "1.1.2",
  "uris": [
    "https://supermarket.chef.io/cookbooks/application_php",
    "https://supermarket.chef.io/cookbooks/application_php/download",
    "https://supermarket.chef.io/cookbooks/application_php/versions/1.1.2",
    "https://supermarket.chef.io/cookbooks/application_php/versions/1.1.2/download",
    "https://supermarket.chef.io/api/v1/cookbooks/application_php/versions/1.1.2",
    "https://supermarket.chef.io/api/v1/cookbooks/application_php",
    "https://supermarket.chef.io/api/v1/cookbooks/application_php/versions/1.1.2/download"
  ],
  "labels": [
    "Chef cookbook",
    "Applications",
    "Executable/Script/Chef Cookbook",
    "Binding/Provider/HP",
    "Mode/Executable/Script/Chef Cookbook",
    "Style/Virtualization Level/Application",
    "Type/Middleware/Runtime/PHP"
  ],
  "info_url": "https://supermarket.chef.io/cookbooks/application_php",
  "package_url": "https://supermarket.chef.io/api/v1/cookbooks/application_php/versions/1.1.2/download",
  "deprecated": false,
  "created": "2012-05-24T22:04:33.000Z",
  "updated": "2013-07-23T23:48:23.000Z",
  "description": "Deploys and configures PHP-based applications",
  "maintainer": {
    "name": "coderanger",
    "email": "andrea.campi@zephirworks.com"
  },
  "license": "Apache 2.0",
  "chef_foodcritic_failure": null,
  "chef_up_for_adoption": null,
  "rating": null,
  "followers_count": 23,
  "downloads_count": 7693279,
  "downloads_count_revision": 1283763,
  "gatherbase_origin": "chef-supermarket",
  "readme_name": "README.md",
  "readme": "Description\n===========\n\nThis cookbook is designed to be able to describe and deploy PHP web applications. Currently supported:\n\n* PHP\n* Apache2 with mod\\_php\n\nNote that this cookbook provides the PHP-specific bindings for the `application` cookbook; you will find general documentation in that cookbook.\n\nOther application stacks may be supported at a later date.\n\nRequirements\n============\n\nChef 0.10.0 or higher required (for Chef environment use).\n\nThe following Opscode cookbooks are dependencies:\n\n* application\n* apache2\n* php\n\nResources/Providers\n==========\n\nThe LWRPs provided by this cookbook are not meant to be used by themselves; make sure you are familiar with the `application` cookbook before proceeding.\n\nphp\n---\n\nThe `php` sub-resource LWRP deals with deploying PHP webapps from an SCM repository. It uses the `deploy_revision` LWRP to perform the bulk of its tasks, and many concepts and parameters map directly to it. Check the documentation for `deploy_revision` for more information.\n\nPHP applications have no standard convention for database configuration; your application cookbook must provide a template if needed.\n\n# Attribute Parameters\n\n- packages: an Array of PEAR packages to install\n- database\\_master\\_role: if a role name is provided, a Chef search will be run to find a node with than role in the same environment as the current role. If a node is found, its IP address will be used when rendering the context file, but see the \"Database block parameters\" section below\n- local\\_settings\\_file: the name of the local settings file to be generated by template. Defaults to \"LocalSettings.php\"\n- settings\\_template: the name of template that will be rendered to create the local settings file. Defaults to \"#{local\\_settings\\_file}.erb\"\n- database: a block containing additional parameters for configuring the database connection (see below)\n- app\\_root: path where the application can be found in relative from path. Default value is \"/\"\n\n# Database block parameters\n\nThe database block can accept any method, which will result in an entry being created in the `@database` Hash which is passed to the context template. See the examples below for more information.\n\nmod\\_php\\_apache2\n-----------------\n\nThe `mod_php_apache2` sub-resource LWRP configures Apache and mod\\_php to run the application by creating a virtual host.\n\n# Attribute Parameters\n\n- server\\_aliases: an Array of server aliases\n- webapp\\_template: the template to render to create the virtual host configuration. Defaults to \"php.conf.erb\"\n\nUsage\n=====\n\nA sample application that needs a database connection:\n\n    application \"phpvirtualbox\" do\n      path \"/usr/local/www/sites/phpvirtualbox\"\n      owner node[:apache][:user]\n      group node[:apache][:user]\n      repository \"...\"\n      deploy_key \"...\"\n      revision \"4_0_7\"\n      packages [\"php-soap\"]\n\n      php do\n        database_master_role \"database_master\"\n        local_settings_file \"config.php\"\n      end\n\n      mod_php_apache2\n    end\n\nThis will result in a `config.php` file getting created from a `config.php.erb` template that must exist in your application cookbook.\n\nYou can invoke any method on the database block:\n\n    application \"my-app\" do\n      path \"/usr/local/my-app\"\n      repository \"...\"\n      revision \"...\"\n\n      php do\n        database_master_role \"database_master\"\n        database do\n          database 'name'\n          quorum 2\n          replicas %w[Huey Dewey Louie]\n        end\n      end\n    end\n\nThe corresponding entries will be passed to the context template:\n\n    <%= @database['quorum']\n    <%= @database['replicas'].join(',') %>\n\nLicense and Author\n==================\n\nAuthor:: Adam Jacob (<adam@opscode.com>)\nAuthor:: Andrea Campi (<andrea.campi@zephirworks.com.com>)\nAuthor:: Joshua Timberman (<joshua@opscode.com>)\nAuthor:: Seth Chisamore (<schisamo@opscode.com>)\n\nCopyright 2009-2012, Opscode, Inc.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n",
  "requires": [
    {
      "kind": "env",
      "uri": "https://supermarket.chef.io/cookbooks/apache2",
      "revision": ">= 0.0.0",
      "self_resolve": true
    },
    {
      "kind": "env",
      "uri": "https://supermarket.chef.io/cookbooks/php",
      "revision": ">= 0.0.0",
      "self_resolve": true
    }
  ]
}